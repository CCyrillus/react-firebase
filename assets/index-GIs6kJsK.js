function bP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var $2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var AP={exports:{}},jd={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var vb=Object.getOwnPropertySymbols,U2=Object.prototype.hasOwnProperty,j2=Object.prototype.propertyIsEnumerable;function B2(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function z2(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var SP=z2()?Object.assign:function(t,e){for(var n,r=B2(t),i,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var o in n)U2.call(n,o)&&(r[o]=n[o]);if(vb){i=vb(n);for(var a=0;a<i.length;a++)j2.call(n,i[a])&&(r[i[a]]=n[i[a]])}}return r},PP={exports:{}},Ve={};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NE=SP,iu=60103,RP=60106;Ve.Fragment=60107;Ve.StrictMode=60108;Ve.Profiler=60114;var CP=60109,kP=60110,xP=60112;Ve.Suspense=60113;var NP=60115,DP=60116;if(typeof Symbol=="function"&&Symbol.for){var xr=Symbol.for;iu=xr("react.element"),RP=xr("react.portal"),Ve.Fragment=xr("react.fragment"),Ve.StrictMode=xr("react.strict_mode"),Ve.Profiler=xr("react.profiler"),CP=xr("react.provider"),kP=xr("react.context"),xP=xr("react.forward_ref"),Ve.Suspense=xr("react.suspense"),NP=xr("react.memo"),DP=xr("react.lazy")}var yb=typeof Symbol=="function"&&Symbol.iterator;function W2(t){return t===null||typeof t!="object"?null:(t=yb&&t[yb]||t["@@iterator"],typeof t=="function"?t:null)}function Bd(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var OP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},LP={};function su(t,e,n){this.props=t,this.context=e,this.refs=LP,this.updater=n||OP}su.prototype.isReactComponent={};su.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(Bd(85));this.updater.enqueueSetState(this,t,e,"setState")};su.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function VP(){}VP.prototype=su.prototype;function DE(t,e,n){this.props=t,this.context=e,this.refs=LP,this.updater=n||OP}var OE=DE.prototype=new VP;OE.constructor=DE;NE(OE,su.prototype);OE.isPureReactComponent=!0;var LE={current:null},MP=Object.prototype.hasOwnProperty,FP={key:!0,ref:!0,__self:!0,__source:!0};function $P(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)MP.call(e,r)&&!FP.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:iu,type:t,key:s,ref:o,props:i,_owner:LE.current}}function q2(t,e){return{$$typeof:iu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function VE(t){return typeof t=="object"&&t!==null&&t.$$typeof===iu}function H2(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Eb=/\/+/g;function D_(t,e){return typeof t=="object"&&t!==null&&t.key!=null?H2(""+t.key):e.toString(36)}function $f(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case iu:case RP:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+D_(o,0):r,Array.isArray(i)?(n="",t!=null&&(n=t.replace(Eb,"$&/")+"/"),$f(i,e,n,"",function(c){return c})):i!=null&&(VE(i)&&(i=q2(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Eb,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Array.isArray(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+D_(s,a);o+=$f(s,e,n,l,i)}else if(l=W2(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+D_(s,a++),o+=$f(s,e,n,l,i);else if(s==="object")throw e=""+t,Error(Bd(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return o}function lf(t,e,n){if(t==null)return t;var r=[],i=0;return $f(t,r,"","",function(s){return e.call(n,s,i++)}),r}function K2(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(n){t._status===0&&(n=n.default,t._status=1,t._result=n)},function(n){t._status===0&&(t._status=2,t._result=n)})}if(t._status===1)return t._result;throw t._result}var UP={current:null};function zi(){var t=UP.current;if(t===null)throw Error(Bd(321));return t}var G2={ReactCurrentDispatcher:UP,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:LE,IsSomeRendererActing:{current:!1},assign:NE};Ve.Children={map:lf,forEach:function(t,e,n){lf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return lf(t,function(){e++}),e},toArray:function(t){return lf(t,function(e){return e})||[]},only:function(t){if(!VE(t))throw Error(Bd(143));return t}};Ve.Component=su;Ve.PureComponent=DE;Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G2;Ve.cloneElement=function(t,e,n){if(t==null)throw Error(Bd(267,t));var r=NE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=LE.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)MP.call(e,l)&&!FP.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:iu,type:t.type,key:i,ref:s,props:r,_owner:o}};Ve.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:kP,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:CP,_context:t},t.Consumer=t};Ve.createElement=$P;Ve.createFactory=function(t){var e=$P.bind(null,t);return e.type=t,e};Ve.createRef=function(){return{current:null}};Ve.forwardRef=function(t){return{$$typeof:xP,render:t}};Ve.isValidElement=VE;Ve.lazy=function(t){return{$$typeof:DP,_payload:{_status:-1,_result:t},_init:K2}};Ve.memo=function(t,e){return{$$typeof:NP,type:t,compare:e===void 0?null:e}};Ve.useCallback=function(t,e){return zi().useCallback(t,e)};Ve.useContext=function(t,e){return zi().useContext(t,e)};Ve.useDebugValue=function(){};Ve.useEffect=function(t,e){return zi().useEffect(t,e)};Ve.useImperativeHandle=function(t,e,n){return zi().useImperativeHandle(t,e,n)};Ve.useLayoutEffect=function(t,e){return zi().useLayoutEffect(t,e)};Ve.useMemo=function(t,e){return zi().useMemo(t,e)};Ve.useReducer=function(t,e,n){return zi().useReducer(t,e,n)};Ve.useRef=function(t){return zi().useRef(t)};Ve.useState=function(t){return zi().useState(t)};Ve.version="17.0.2";PP.exports=Ve;var $=PP.exports;const er=xE($),Y2=bP({__proto__:null,default:er},[$]);/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q2=$,jP=60103;jd.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var wb=Symbol.for;jP=wb("react.element"),jd.Fragment=wb("react.fragment")}var X2=Q2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,J2=Object.prototype.hasOwnProperty,Z2={key:!0,ref:!0,__self:!0,__source:!0};function BP(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)J2.call(e,r)&&!Z2.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:jP,type:t,key:s,ref:o,props:i,_owner:X2.current}}jd.jsx=BP;jd.jsxs=BP;AP.exports=jd;var k=AP.exports,zP={exports:{}},Ar={},WP={exports:{}},qP={};/** @license React v0.19.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,n,r,i,s;if(typeof window>"u"||typeof MessageChannel!="function"){var o=null,a=null,l=function(){if(o!==null)try{var q=t.unstable_now();o(!0,q),o=null}catch(ie){throw setTimeout(l,0),ie}},c=Date.now();t.unstable_now=function(){return Date.now()-c},e=function(q){o!==null?setTimeout(e,0,q):(o=q,setTimeout(l,0))},n=function(q,ie){a=setTimeout(q,ie)},r=function(){clearTimeout(a)},i=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var d=window.performance,f=window.Date,m=window.setTimeout,v=window.clearTimeout;if(typeof console<"u"){var b=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),typeof b!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if(typeof d=="object"&&typeof d.now=="function")t.unstable_now=function(){return d.now()};else{var I=f.now();t.unstable_now=function(){return f.now()-I}}var _=!1,y=null,T=-1,A=5,E=0;i=function(){return t.unstable_now()>=E},s=function(){},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):A=0<q?Math.floor(1e3/q):5};var N=new MessageChannel,O=N.port2;N.port1.onmessage=function(){if(y!==null){var q=t.unstable_now();E=q+A;try{y(!0,q)?O.postMessage(null):(_=!1,y=null)}catch(ie){throw O.postMessage(null),ie}}else _=!1},e=function(q){y=q,_||(_=!0,O.postMessage(null))},n=function(q,ie){T=m(function(){q(t.unstable_now())},ie)},r=function(){v(T),T=-1}}function L(q,ie){var be=q.length;q.push(ie);e:for(;;){var Ge=be-1>>>1,V=q[Ge];if(V!==void 0&&0<Ce(V,ie))q[Ge]=ie,q[be]=V,be=Ge;else break e}}function G(q){return q=q[0],q===void 0?null:q}function H(q){var ie=q[0];if(ie!==void 0){var be=q.pop();if(be!==ie){q[0]=be;e:for(var Ge=0,V=q.length;Ge<V;){var Ze=2*(Ge+1)-1,cn=q[Ze],fr=Ze+1,Ft=q[fr];if(cn!==void 0&&0>Ce(cn,be))Ft!==void 0&&0>Ce(Ft,cn)?(q[Ge]=Ft,q[fr]=be,Ge=fr):(q[Ge]=cn,q[Ze]=be,Ge=Ze);else if(Ft!==void 0&&0>Ce(Ft,be))q[Ge]=Ft,q[fr]=be,Ge=fr;else break e}}return ie}return null}function Ce(q,ie){var be=q.sortIndex-ie.sortIndex;return be!==0?be:q.id-ie.id}var De=[],pt=[],un=1,Ke=null,ye=3,cr=!1,En=!1,wn=!1;function Qt(q){for(var ie=G(pt);ie!==null;){if(ie.callback===null)H(pt);else if(ie.startTime<=q)H(pt),ie.sortIndex=ie.expirationTime,L(De,ie);else break;ie=G(pt)}}function dr(q){if(wn=!1,Qt(q),!En)if(G(De)!==null)En=!0,e(Sr);else{var ie=G(pt);ie!==null&&n(dr,ie.startTime-q)}}function Sr(q,ie){En=!1,wn&&(wn=!1,r()),cr=!0;var be=ye;try{for(Qt(ie),Ke=G(De);Ke!==null&&(!(Ke.expirationTime>ie)||q&&!i());){var Ge=Ke.callback;if(Ge!==null){Ke.callback=null,ye=Ke.priorityLevel;var V=Ge(Ke.expirationTime<=ie);ie=t.unstable_now(),typeof V=="function"?Ke.callback=V:Ke===G(De)&&H(De),Qt(ie)}else H(De);Ke=G(De)}if(Ke!==null)var Ze=!0;else{var cn=G(pt);cn!==null&&n(dr,cn.startTime-ie),Ze=!1}return Ze}finally{Ke=null,ye=be,cr=!1}}function Tn(q){switch(q){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var hr=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){En||cr||(En=!0,e(Sr))},t.unstable_getCurrentPriorityLevel=function(){return ye},t.unstable_getFirstCallbackNode=function(){return G(De)},t.unstable_next=function(q){switch(ye){case 1:case 2:case 3:var ie=3;break;default:ie=ye}var be=ye;ye=ie;try{return q()}finally{ye=be}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=hr,t.unstable_runWithPriority=function(q,ie){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var be=ye;ye=q;try{return ie()}finally{ye=be}},t.unstable_scheduleCallback=function(q,ie,be){var Ge=t.unstable_now();if(typeof be=="object"&&be!==null){var V=be.delay;V=typeof V=="number"&&0<V?Ge+V:Ge,be=typeof be.timeout=="number"?be.timeout:Tn(q)}else be=Tn(q),V=Ge;return be=V+be,q={id:un++,callback:ie,priorityLevel:q,startTime:V,expirationTime:be,sortIndex:-1},V>Ge?(q.sortIndex=V,L(pt,q),G(De)===null&&q===G(pt)&&(wn?r():wn=!0,n(dr,V-Ge))):(q.sortIndex=be,L(De,q),En||cr||(En=!0,e(Sr))),q},t.unstable_shouldYield=function(){var q=t.unstable_now();Qt(q);var ie=G(De);return ie!==Ke&&Ke!==null&&ie!==null&&ie.callback!==null&&ie.startTime<=q&&ie.expirationTime<Ke.expirationTime||i()},t.unstable_wrapCallback=function(q){var ie=ye;return function(){var be=ye;ye=ie;try{return q.apply(this,arguments)}finally{ye=be}}}})(qP);WP.exports=qP;var e$=WP.exports;/** @license React v16.14.0
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Em=$,Nn=SP,on=e$;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Em)throw Error(z(227));function t$(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Ic=!1,pp=null,mp=!1,Pv=null,n$={onError:function(t){Ic=!0,pp=t}};function r$(t,e,n,r,i,s,o,a,l){Ic=!1,pp=null,t$.apply(n$,arguments)}function i$(t,e,n,r,i,s,o,a,l){if(r$.apply(this,arguments),Ic){if(Ic){var c=pp;Ic=!1,pp=null}else throw Error(z(198));mp||(mp=!0,Pv=c)}}var ME=null,HP=null,KP=null;function Tb(t,e,n){var r=t.type||"unknown-event";t.currentTarget=KP(n),i$(r,e,void 0,t),t.currentTarget=null}var gp=null,ll={};function GP(){if(gp)for(var t in ll){var e=ll[t],n=gp.indexOf(t);if(!(-1<n))throw Error(z(96,t));if(!_p[n]){if(!e.extractEvents)throw Error(z(97,t));_p[n]=e,n=e.eventTypes;for(var r in n){var i=void 0,s=n[r],o=e,a=r;if(Rv.hasOwnProperty(a))throw Error(z(99,a));Rv[a]=s;var l=s.phasedRegistrationNames;if(l){for(i in l)l.hasOwnProperty(i)&&Ib(l[i],o,a);i=!0}else s.registrationName?(Ib(s.registrationName,o,a),i=!0):i=!1;if(!i)throw Error(z(98,r,t))}}}}function Ib(t,e,n){if(Vl[t])throw Error(z(100,t));Vl[t]=e,FE[t]=e.eventTypes[n].dependencies}var _p=[],Rv={},Vl={},FE={};function YP(t){var e=!1,n;for(n in t)if(t.hasOwnProperty(n)){var r=t[n];if(!ll.hasOwnProperty(n)||ll[n]!==r){if(ll[n])throw Error(z(102,n));ll[n]=r,e=!0}}e&&GP()}var Xs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cv=null,wl=null,Tl=null;function bb(t){if(t=HP(t)){if(typeof Cv!="function")throw Error(z(280));var e=t.stateNode;e&&(e=ME(e),Cv(t.stateNode,t.type,e))}}function QP(t){wl?Tl?Tl.push(t):Tl=[t]:wl=t}function XP(){if(wl){var t=wl,e=Tl;if(Tl=wl=null,bb(t),e)for(t=0;t<e.length;t++)bb(e[t])}}function $E(t,e){return t(e)}function JP(t,e,n,r,i){return t(e,n,r,i)}function UE(){}var ZP=$E,Lo=!1,O_=!1;function jE(){(wl!==null||Tl!==null)&&(UE(),XP())}function eR(t,e,n){if(O_)return t(e,n);O_=!0;try{return ZP(t,e,n)}finally{O_=!1,jE()}}var s$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ab=Object.prototype.hasOwnProperty,Sb={},Pb={};function o$(t){return Ab.call(Pb,t)?!0:Ab.call(Sb,t)?!1:s$.test(t)?Pb[t]=!0:(Sb[t]=!0,!1)}function a$(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function l$(t,e,n,r){if(e===null||typeof e>"u"||a$(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function On(t,e,n,r,i,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s}var an={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){an[t]=new On(t,0,!1,t,null,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];an[e]=new On(e,1,!1,t[1],null,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){an[t]=new On(t,2,!1,t.toLowerCase(),null,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){an[t]=new On(t,2,!1,t,null,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){an[t]=new On(t,3,!1,t.toLowerCase(),null,!1)});["checked","multiple","muted","selected"].forEach(function(t){an[t]=new On(t,3,!0,t,null,!1)});["capture","download"].forEach(function(t){an[t]=new On(t,4,!1,t,null,!1)});["cols","rows","size","span"].forEach(function(t){an[t]=new On(t,6,!1,t,null,!1)});["rowSpan","start"].forEach(function(t){an[t]=new On(t,5,!1,t.toLowerCase(),null,!1)});var BE=/[\-:]([a-z])/g;function zE(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(BE,zE);an[e]=new On(e,1,!1,t,null,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(BE,zE);an[e]=new On(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(BE,zE);an[e]=new On(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)});["tabIndex","crossOrigin"].forEach(function(t){an[t]=new On(t,1,!1,t.toLowerCase(),null,!1)});an.xlinkHref=new On("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0);["src","href","action","formAction"].forEach(function(t){an[t]=new On(t,1,!1,t.toLowerCase(),null,!0)});var Vr=Em.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Vr.hasOwnProperty("ReactCurrentDispatcher")||(Vr.ReactCurrentDispatcher={current:null});Vr.hasOwnProperty("ReactCurrentBatchConfig")||(Vr.ReactCurrentBatchConfig={suspense:null});function WE(t,e,n,r){var i=an.hasOwnProperty(e)?an[e]:null,s=i!==null?i.type===0:r?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");s||(l$(e,n,i,r)&&(n=null),r||i===null?o$(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var u$=/^(.*)[\\\/]/,Wn=typeof Symbol=="function"&&Symbol.for,uf=Wn?Symbol.for("react.element"):60103,ul=Wn?Symbol.for("react.portal"):60106,Co=Wn?Symbol.for("react.fragment"):60107,tR=Wn?Symbol.for("react.strict_mode"):60108,Uf=Wn?Symbol.for("react.profiler"):60114,nR=Wn?Symbol.for("react.provider"):60109,rR=Wn?Symbol.for("react.context"):60110,c$=Wn?Symbol.for("react.concurrent_mode"):60111,qE=Wn?Symbol.for("react.forward_ref"):60112,jf=Wn?Symbol.for("react.suspense"):60113,kv=Wn?Symbol.for("react.suspense_list"):60120,HE=Wn?Symbol.for("react.memo"):60115,iR=Wn?Symbol.for("react.lazy"):60116,sR=Wn?Symbol.for("react.block"):60121,Rb=typeof Symbol=="function"&&Symbol.iterator;function zu(t){return t===null||typeof t!="object"?null:(t=Rb&&t[Rb]||t["@@iterator"],typeof t=="function"?t:null)}function d$(t){if(t._status===-1){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then(function(n){t._status===0&&(n=n.default,t._status=1,t._result=n)},function(n){t._status===0&&(t._status=2,t._result=n)})}}function Di(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Co:return"Fragment";case ul:return"Portal";case Uf:return"Profiler";case tR:return"StrictMode";case jf:return"Suspense";case kv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case rR:return"Context.Consumer";case nR:return"Context.Provider";case qE:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case HE:return Di(t.type);case sR:return Di(t.render);case iR:if(t=t._status===1?t._result:null)return Di(t)}return null}function KE(t){var e="";do{e:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=t._debugOwner,i=t._debugSource,s=Di(t.type);n=null,r&&(n=Di(r.type)),r=s,s="",i?s=" (at "+i.fileName.replace(u$,"")+":"+i.lineNumber+")":n&&(s=" (created by "+n+")"),n=`
    in `+(r||"Unknown")+s}e+=n,t=t.return}while(t);return e}function Ns(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function oR(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function h$(t){var e=oR(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function cf(t){t._valueTracker||(t._valueTracker=h$(t))}function aR(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=oR(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function xv(t,e){var n=e.checked;return Nn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Cb(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ns(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function lR(t,e){e=e.checked,e!=null&&WE(t,"checked",e,!1)}function Nv(t,e){lR(t,e);var n=Ns(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Dv(t,e.type,n):e.hasOwnProperty("defaultValue")&&Dv(t,e.type,Ns(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function kb(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Dv(t,e,n){(e!=="number"||t.ownerDocument.activeElement!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function f$(t){var e="";return Em.Children.forEach(t,function(n){n!=null&&(e+=n)}),e}function Ov(t,e){return t=Nn({children:void 0},e),(e=f$(e.children))&&(t.children=e),t}function Il(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ns(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Lv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return Nn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function xb(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ns(n)}}function uR(t,e){var n=Ns(e.value),r=Ns(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Nb(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var cR={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function dR(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?dR(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var df,hR=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!==cR.svg||"innerHTML"in t)t.innerHTML=e;else{for(df=df||document.createElement("div"),df.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=df.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function qc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}function hf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var cl={animationend:hf("Animation","AnimationEnd"),animationiteration:hf("Animation","AnimationIteration"),animationstart:hf("Animation","AnimationStart"),transitionend:hf("Transition","TransitionEnd")},L_={},fR={};Xs&&(fR=document.createElement("div").style,"AnimationEvent"in window||(delete cl.animationend.animation,delete cl.animationiteration.animation,delete cl.animationstart.animation),"TransitionEvent"in window||delete cl.transitionend.transition);function wm(t){if(L_[t])return L_[t];if(!cl[t])return t;var e=cl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in fR)return L_[t]=e[n];return t}var pR=wm("animationend"),mR=wm("animationiteration"),gR=wm("animationstart"),_R=wm("transitionend"),dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Db=new(typeof WeakMap=="function"?WeakMap:Map);function GE(t){var e=Db.get(t);return e===void 0&&(e=new Map,Db.set(t,e)),e}function ba(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.effectTag&1026&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function vR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ob(t){if(ba(t)!==t)throw Error(z(188))}function p$(t){var e=t.alternate;if(!e){if(e=ba(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ob(i),t;if(s===r)return Ob(i),e;s=s.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function yR(t){if(t=p$(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function Ml(t,e){if(e==null)throw Error(z(30));return t==null?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function YE(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}var Wu=null;function m$(t){if(t){var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e))for(var r=0;r<e.length&&!t.isPropagationStopped();r++)Tb(t,e[r],n[r]);else e&&Tb(t,e,n);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function Tm(t){if(t!==null&&(Wu=Ml(Wu,t)),t=Wu,Wu=null,t){if(YE(t,m$),Wu)throw Error(z(95));if(mp)throw t=Pv,mp=!1,Pv=null,t}}function QE(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}function ER(t){if(!Xs)return!1;t="on"+t;var e=t in document;return e||(e=document.createElement("div"),e.setAttribute(t,"return;"),e=typeof e[t]=="function"),e}var vp=[];function wR(t){t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>vp.length&&vp.push(t)}function TR(t,e,n,r){if(vp.length){var i=vp.pop();return i.topLevelType=t,i.eventSystemFlags=r,i.nativeEvent=e,i.targetInst=n,i}return{topLevelType:t,eventSystemFlags:r,nativeEvent:e,targetInst:n,ancestors:[]}}function IR(t){var e=t.targetInst,n=e;do{if(!n){t.ancestors.push(n);break}var r=n;if(r.tag===3)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=r.tag!==3?null:r.stateNode.containerInfo}if(!r)break;e=n.tag,e!==5&&e!==6||t.ancestors.push(n),n=Wd(r)}while(n);for(n=0;n<t.ancestors.length;n++){e=t.ancestors[n];var i=QE(t.nativeEvent);r=t.topLevelType;var s=t.nativeEvent,o=t.eventSystemFlags;n===0&&(o|=64);for(var a=null,l=0;l<_p.length;l++){var c=_p[l];c&&(c=c.extractEvents(r,e,s,i,o))&&(a=Ml(a,c))}Tm(a)}}function Mv(t,e,n){if(!n.has(t)){switch(t){case"scroll":hc(e,"scroll",!0);break;case"focus":case"blur":hc(e,"focus",!0),hc(e,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ER(t)&&hc(e,t,!0);break;case"invalid":case"submit":case"reset":break;default:dc.indexOf(t)===-1&&dt(t,e)}n.set(t,null)}}var bR,XE,AR,Fv=!1,Jr=[],Ts=null,Is=null,bs=null,Hc=new Map,Kc=new Map,qu=[],$v="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),g$="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function _$(t,e){var n=GE(e);$v.forEach(function(r){Mv(r,e,n)}),g$.forEach(function(r){Mv(r,e,n)})}function Uv(t,e,n,r,i){return{blockedOn:t,topLevelType:e,eventSystemFlags:n|32,nativeEvent:i,container:r}}function Lb(t,e){switch(t){case"focus":case"blur":Ts=null;break;case"dragenter":case"dragleave":Is=null;break;case"mouseover":case"mouseout":bs=null;break;case"pointerover":case"pointerout":Hc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kc.delete(e.pointerId)}}function Hu(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t=Uv(e,n,r,i,s),e!==null&&(e=qd(e),e!==null&&XE(e)),t):(t.eventSystemFlags|=r,t)}function v$(t,e,n,r,i){switch(e){case"focus":return Ts=Hu(Ts,t,e,n,r,i),!0;case"dragenter":return Is=Hu(Is,t,e,n,r,i),!0;case"mouseover":return bs=Hu(bs,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Hc.set(s,Hu(Hc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Kc.set(s,Hu(Kc.get(s)||null,t,e,n,r,i)),!0}return!1}function y$(t){var e=Wd(t.target);if(e!==null){var n=ba(e);if(n!==null){if(e=n.tag,e===13){if(e=vR(n),e!==null){t.blockedOn=e,on.unstable_runWithPriority(t.priority,function(){AR(n)});return}}else if(e===3&&n.stateNode.hydrate){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bf(t){if(t.blockedOn!==null)return!1;var e=ew(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);if(e!==null){var n=qd(e);return n!==null&&XE(n),t.blockedOn=e,!1}return!0}function Vb(t,e,n){Bf(t)&&n.delete(e)}function E$(){for(Fv=!1;0<Jr.length;){var t=Jr[0];if(t.blockedOn!==null){t=qd(t.blockedOn),t!==null&&bR(t);break}var e=ew(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);e!==null?t.blockedOn=e:Jr.shift()}Ts!==null&&Bf(Ts)&&(Ts=null),Is!==null&&Bf(Is)&&(Is=null),bs!==null&&Bf(bs)&&(bs=null),Hc.forEach(Vb),Kc.forEach(Vb)}function Ku(t,e){t.blockedOn===e&&(t.blockedOn=null,Fv||(Fv=!0,on.unstable_scheduleCallback(on.unstable_NormalPriority,E$)))}function SR(t){function e(i){return Ku(i,t)}if(0<Jr.length){Ku(Jr[0],t);for(var n=1;n<Jr.length;n++){var r=Jr[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ts!==null&&Ku(Ts,t),Is!==null&&Ku(Is,t),bs!==null&&Ku(bs,t),Hc.forEach(e),Kc.forEach(e),n=0;n<qu.length;n++)r=qu[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<qu.length&&(n=qu[0],n.blockedOn===null);)y$(n),n.blockedOn===null&&qu.shift()}var PR={},RR=new Map,JE=new Map,w$=["abort","abort",pR,"animationEnd",mR,"animationIteration",gR,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",_R,"transitionEnd","waiting","waiting"];function ZE(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1],s="on"+(i[0].toUpperCase()+i.slice(1));s={phasedRegistrationNames:{bubbled:s,captured:s+"Capture"},dependencies:[r],eventPriority:e},JE.set(r,e),RR.set(r,s),PR[i]=s}}ZE("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);ZE("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);ZE(w$,2);for(var Mb="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),V_=0;V_<Mb.length;V_++)JE.set(Mb[V_],0);var T$=on.unstable_UserBlockingPriority,I$=on.unstable_runWithPriority,zf=!0;function dt(t,e){hc(e,t,!1)}function hc(t,e,n){var r=JE.get(e);switch(r===void 0?2:r){case 0:r=b$.bind(null,e,1,t);break;case 1:r=A$.bind(null,e,1,t);break;default:r=Im.bind(null,e,1,t)}n?t.addEventListener(e,r,!0):t.addEventListener(e,r,!1)}function b$(t,e,n,r){Lo||UE();var i=Im,s=Lo;Lo=!0;try{JP(i,t,e,n,r)}finally{(Lo=s)||jE()}}function A$(t,e,n,r){I$(T$,Im.bind(null,t,e,n,r))}function Im(t,e,n,r){if(zf)if(0<Jr.length&&-1<$v.indexOf(t))t=Uv(null,t,e,n,r),Jr.push(t);else{var i=ew(t,e,n,r);if(i===null)Lb(t,r);else if(-1<$v.indexOf(t))t=Uv(i,t,e,n,r),Jr.push(t);else if(!v$(i,t,e,n,r)){Lb(t,r),t=TR(t,r,null,e);try{eR(IR,t)}finally{wR(t)}}}}function ew(t,e,n,r){if(n=QE(r),n=Wd(n),n!==null){var i=ba(n);if(i===null)n=null;else{var s=i.tag;if(s===13){if(n=vR(i),n!==null)return n;n=null}else if(s===3){if(i.stateNode.hydrate)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}t=TR(t,r,n,e);try{eR(IR,t)}finally{wR(t)}return null}var bc={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},S$=["Webkit","ms","Moz","O"];Object.keys(bc).forEach(function(t){S$.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bc[e]=bc[t]})});function CR(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||bc.hasOwnProperty(t)&&bc[t]?(""+e).trim():e+"px"}function kR(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=CR(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var P$=Nn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jv(t,e){if(e){if(P$[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t,""));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62,""))}}function Bv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fb=cR.html;function bi(t,e){t=t.nodeType===9||t.nodeType===11?t:t.ownerDocument;var n=GE(t);e=FE[e];for(var r=0;r<e.length;r++)Mv(e[r],t,n)}function yp(){}function zv(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $b(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ub(t,e){var n=$b(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$b(n)}}function xR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?xR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function jb(){for(var t=window,e=zv();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=zv(t.document)}return e}function Wv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var NR="$",DR="/$",tw="$?",nw="$!",M_=null,F_=null;function OR(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function qv(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $_=typeof setTimeout=="function"?setTimeout:void 0,R$=typeof clearTimeout=="function"?clearTimeout:void 0;function bl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function Bb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n===NR||n===nw||n===tw){if(e===0)return t;e--}else n===DR&&e++}t=t.previousSibling}return null}var rw=Math.random().toString(36).slice(2),ps="__reactInternalInstance$"+rw,Ep="__reactEventHandlers$"+rw,zd="__reactContainere$"+rw;function Wd(t){var e=t[ps];if(e)return e;for(var n=t.parentNode;n;){if(e=n[zd]||n[ps]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Bb(t);t!==null;){if(n=t[ps])return n;t=Bb(t)}return e}t=n,n=t.parentNode}return null}function qd(t){return t=t[ps]||t[zd],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ra(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function iw(t){return t[Ep]||null}function Ai(t){do t=t.return;while(t&&t.tag!==5);return t||null}function LR(t,e){var n=t.stateNode;if(!n)return null;var r=ME(n);if(!r)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}function zb(t,e,n){(e=LR(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=Ml(n._dispatchListeners,e),n._dispatchInstances=Ml(n._dispatchInstances,t))}function C$(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,n=[];e;)n.push(e),e=Ai(e);for(e=n.length;0<e--;)zb(n[e],"captured",t);for(e=0;e<n.length;e++)zb(n[e],"bubbled",t)}}function Hv(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=LR(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=Ml(n._dispatchListeners,e),n._dispatchInstances=Ml(n._dispatchInstances,t))}function k$(t){t&&t.dispatchConfig.registrationName&&Hv(t._targetInst,null,t)}function Fl(t){YE(t,C$)}var ms=null,sw=null,Wf=null;function VR(){if(Wf)return Wf;var t,e=sw,n=e.length,r,i="value"in ms?ms.value:ms.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Wf=i.slice(t,1<r?1-r:void 0)}function qf(){return!0}function wp(){return!1}function ar(t,e,n,r){this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface;for(var i in t)t.hasOwnProperty(i)&&((e=t[i])?this[i]=e(n):i==="target"?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(n.defaultPrevented!=null?n.defaultPrevented:n.returnValue===!1)?qf:wp,this.isPropagationStopped=wp,this}Nn(ar.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=qf)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=qf)},persist:function(){this.isPersistent=qf},isPersistent:wp,destructor:function(){var t=this.constructor.Interface,e;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=wp,this._dispatchInstances=this._dispatchListeners=null}});ar.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};ar.extend=function(t){function e(){}function n(){return r.apply(this,arguments)}var r=this;e.prototype=r.prototype;var i=new e;return Nn(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=Nn({},r.Interface,t),n.extend=r.extend,MR(n),n};MR(ar);function x$(t,e,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,t,e,n,r),i}return new this(t,e,n,r)}function N$(t){if(!(t instanceof this))throw Error(z(279));t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function MR(t){t.eventPool=[],t.getPooled=x$,t.release=N$}var D$=ar.extend({data:null}),O$=ar.extend({data:null}),L$=[9,13,27,32],ow=Xs&&"CompositionEvent"in window,Ac=null;Xs&&"documentMode"in document&&(Ac=document.documentMode);var V$=Xs&&"TextEvent"in window&&!Ac,FR=Xs&&(!ow||Ac&&8<Ac&&11>=Ac),Wb=" ",Ii={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},qb=!1;function $R(t,e){switch(t){case"keyup":return L$.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function UR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var dl=!1;function M$(t,e){switch(t){case"compositionend":return UR(e);case"keypress":return e.which!==32?null:(qb=!0,Wb);case"textInput":return t=e.data,t===Wb&&qb?null:t;default:return null}}function F$(t,e){if(dl)return t==="compositionend"||!ow&&$R(t,e)?(t=VR(),Wf=sw=ms=null,dl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return FR&&e.locale!=="ko"?null:e.data;default:return null}}var $$={eventTypes:Ii,extractEvents:function(t,e,n,r){var i;if(ow)e:{switch(t){case"compositionstart":var s=Ii.compositionStart;break e;case"compositionend":s=Ii.compositionEnd;break e;case"compositionupdate":s=Ii.compositionUpdate;break e}s=void 0}else dl?$R(t,n)&&(s=Ii.compositionEnd):t==="keydown"&&n.keyCode===229&&(s=Ii.compositionStart);return s?(FR&&n.locale!=="ko"&&(dl||s!==Ii.compositionStart?s===Ii.compositionEnd&&dl&&(i=VR()):(ms=r,sw="value"in ms?ms.value:ms.textContent,dl=!0)),s=D$.getPooled(s,e,n,r),i?s.data=i:(i=UR(n),i!==null&&(s.data=i)),Fl(s),i=s):i=null,(t=V$?M$(t,n):F$(t,n))?(e=O$.getPooled(Ii.beforeInput,e,n,r),e.data=t,Fl(e)):e=null,i===null?e:e===null?i:[i,e]}},U$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jR(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!U$[t.type]:e==="textarea"}var BR={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function zR(t,e,n){return t=ar.getPooled(BR.change,t,e,n),t.type="change",QP(n),Fl(t),t}var Sc=null,Gc=null;function j$(t){Tm(t)}function bm(t){var e=ra(t);if(aR(e))return t}function B$(t,e){if(t==="change")return e}var Kv=!1;Xs&&(Kv=ER("input")&&(!document.documentMode||9<document.documentMode));function Hb(){Sc&&(Sc.detachEvent("onpropertychange",WR),Gc=Sc=null)}function WR(t){if(t.propertyName==="value"&&bm(Gc))if(t=zR(Gc,t,QE(t)),Lo)Tm(t);else{Lo=!0;try{$E(j$,t)}finally{Lo=!1,jE()}}}function z$(t,e,n){t==="focus"?(Hb(),Sc=e,Gc=n,Sc.attachEvent("onpropertychange",WR)):t==="blur"&&Hb()}function W$(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bm(Gc)}function q$(t,e){if(t==="click")return bm(e)}function H$(t,e){if(t==="input"||t==="change")return bm(e)}var K$={eventTypes:BR,_isInputEventSupported:Kv,extractEvents:function(t,e,n,r){var i=e?ra(e):window,s=i.nodeName&&i.nodeName.toLowerCase();if(s==="select"||s==="input"&&i.type==="file")var o=B$;else if(jR(i))if(Kv)o=H$;else{o=W$;var a=z$}else(s=i.nodeName)&&s.toLowerCase()==="input"&&(i.type==="checkbox"||i.type==="radio")&&(o=q$);if(o&&(o=o(t,e)))return zR(o,n,r);a&&a(t,i,e),t==="blur"&&(t=i._wrapperState)&&t.controlled&&i.type==="number"&&Dv(i,"number",i.value)}},Hd=ar.extend({view:null,detail:null}),G$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Y$(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=G$[t])?!!e[t]:!1}function aw(){return Y$}var Kb=0,Gb=0,Yb=!1,Qb=!1,Kd=Hd.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:aw,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=Kb;return Kb=t.screenX,Yb?t.type==="mousemove"?t.screenX-e:0:(Yb=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=Gb;return Gb=t.screenY,Qb?t.type==="mousemove"?t.screenY-e:0:(Qb=!0,0)}}),qR=Kd.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Gu={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Q$={eventTypes:Gu,extractEvents:function(t,e,n,r,i){var s=t==="mouseover"||t==="pointerover",o=t==="mouseout"||t==="pointerout";if(s&&!(i&32)&&(n.relatedTarget||n.fromElement)||!o&&!s)return null;if(s=r.window===r?r:(s=r.ownerDocument)?s.defaultView||s.parentWindow:window,o){if(o=e,e=(e=n.relatedTarget||n.toElement)?Wd(e):null,e!==null){var a=ba(e);(e!==a||e.tag!==5&&e.tag!==6)&&(e=null)}}else o=null;if(o===e)return null;if(t==="mouseout"||t==="mouseover")var l=Kd,c=Gu.mouseLeave,d=Gu.mouseEnter,f="mouse";else(t==="pointerout"||t==="pointerover")&&(l=qR,c=Gu.pointerLeave,d=Gu.pointerEnter,f="pointer");if(t=o==null?s:ra(o),s=e==null?s:ra(e),c=l.getPooled(c,o,n,r),c.type=f+"leave",c.target=t,c.relatedTarget=s,n=l.getPooled(d,e,n,r),n.type=f+"enter",n.target=s,n.relatedTarget=t,r=o,f=e,r&&f)e:{for(l=r,d=f,o=0,t=l;t;t=Ai(t))o++;for(t=0,e=d;e;e=Ai(e))t++;for(;0<o-t;)l=Ai(l),o--;for(;0<t-o;)d=Ai(d),t--;for(;o--;){if(l===d||l===d.alternate)break e;l=Ai(l),d=Ai(d)}l=null}else l=null;for(d=l,l=[];r&&r!==d&&(o=r.alternate,!(o!==null&&o===d));)l.push(r),r=Ai(r);for(r=[];f&&f!==d&&(o=f.alternate,!(o!==null&&o===d));)r.push(f),f=Ai(f);for(f=0;f<l.length;f++)Hv(l[f],"bubbled",c);for(f=r.length;0<f--;)Hv(r[f],"captured",n);return i&64?[c,n]:[c]}};function X$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ia=typeof Object.is=="function"?Object.is:X$,J$=Object.prototype.hasOwnProperty;function Yc(t,e){if(ia(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!J$.call(e,n[r])||!ia(t[n[r]],e[n[r]]))return!1;return!0}var Z$=Xs&&"documentMode"in document&&11>=document.documentMode,HR={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},hl=null,Gv=null,Pc=null,Yv=!1;function Xb(t,e){var n=e.window===e?e.document:e.nodeType===9?e:e.ownerDocument;return Yv||hl==null||hl!==zv(n)?null:(n=hl,"selectionStart"in n&&Wv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Pc&&Yc(Pc,n)?null:(Pc=n,t=ar.getPooled(HR.select,Gv,t,e),t.type="select",t.target=hl,Fl(t),t))}var eU={eventTypes:HR,extractEvents:function(t,e,n,r,i,s){if(i=s||(r.window===r?r.document:r.nodeType===9?r:r.ownerDocument),!(s=!i)){e:{i=GE(i),s=FE.onSelect;for(var o=0;o<s.length;o++)if(!i.has(s[o])){i=!1;break e}i=!0}s=!i}if(s)return null;switch(i=e?ra(e):window,t){case"focus":(jR(i)||i.contentEditable==="true")&&(hl=i,Gv=e,Pc=null);break;case"blur":Pc=Gv=hl=null;break;case"mousedown":Yv=!0;break;case"contextmenu":case"mouseup":case"dragend":return Yv=!1,Xb(n,r);case"selectionchange":if(Z$)break;case"keydown":case"keyup":return Xb(n,r)}return null}},tU=ar.extend({animationName:null,elapsedTime:null,pseudoElement:null}),nU=ar.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),rU=Hd.extend({relatedTarget:null});function Hf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}var iU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oU=Hd.extend({key:function(t){if(t.key){var e=iU[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Hf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?sU[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:aw,charCode:function(t){return t.type==="keypress"?Hf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),aU=Kd.extend({dataTransfer:null}),lU=Hd.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:aw}),uU=ar.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),cU=Kd.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),dU={eventTypes:PR,extractEvents:function(t,e,n,r){var i=RR.get(t);if(!i)return null;switch(t){case"keypress":if(Hf(n)===0)return null;case"keydown":case"keyup":t=oU;break;case"blur":case"focus":t=rU;break;case"click":if(n.button===2)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=Kd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=aU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=lU;break;case pR:case mR:case gR:t=tU;break;case _R:t=uU;break;case"scroll":t=Hd;break;case"wheel":t=cU;break;case"copy":case"cut":case"paste":t=nU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=qR;break;default:t=ar}return e=t.getPooled(i,e,n,r),Fl(e),e}};if(gp)throw Error(z(101));gp=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" "));GP();var hU=qd;ME=iw;HP=hU;KP=ra;YP({SimpleEventPlugin:dU,EnterLeaveEventPlugin:Q$,ChangeEventPlugin:K$,SelectEventPlugin:eU,BeforeInputEventPlugin:$$});var Qv=[],fl=-1;function lt(t){0>fl||(t.current=Qv[fl],Qv[fl]=null,fl--)}function Ct(t,e){fl++,Qv[fl]=t.current,t.current=e}var Ds={},yn={current:Ds},jn={current:!1},sa=Ds;function $l(t,e){var n=t.type.contextTypes;if(!n)return Ds;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Bn(t){return t=t.childContextTypes,t!=null}function Tp(){lt(jn),lt(yn)}function Jb(t,e,n){if(yn.current!==Ds)throw Error(z(168));Ct(yn,e),Ct(jn,n)}function KR(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(z(108,Di(e)||"Unknown",i));return Nn({},n,{},r)}function Kf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ds,sa=yn.current,Ct(yn,t),Ct(jn,jn.current),!0}function Zb(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=KR(t,e,sa),r.__reactInternalMemoizedMergedChildContext=t,lt(jn),lt(yn),Ct(yn,t)):lt(jn),Ct(jn,n)}var fU=on.unstable_runWithPriority,lw=on.unstable_scheduleCallback,GR=on.unstable_cancelCallback,eA=on.unstable_requestPaint,Xv=on.unstable_now,pU=on.unstable_getCurrentPriorityLevel,Am=on.unstable_ImmediatePriority,YR=on.unstable_UserBlockingPriority,QR=on.unstable_NormalPriority,XR=on.unstable_LowPriority,JR=on.unstable_IdlePriority,ZR={},mU=on.unstable_shouldYield,gU=eA!==void 0?eA:function(){},Si=null,Gf=null,U_=!1,tA=Xv(),Er=1e4>tA?Xv:function(){return Xv()-tA};function Sm(){switch(pU()){case Am:return 99;case YR:return 98;case QR:return 97;case XR:return 96;case JR:return 95;default:throw Error(z(332))}}function eC(t){switch(t){case 99:return Am;case 98:return YR;case 97:return QR;case 96:return XR;case 95:return JR;default:throw Error(z(332))}}function Os(t,e){return t=eC(t),fU(t,e)}function tC(t,e,n){return t=eC(t),lw(t,e,n)}function nA(t){return Si===null?(Si=[t],Gf=lw(Am,nC)):Si.push(t),ZR}function vi(){if(Gf!==null){var t=Gf;Gf=null,GR(t)}nC()}function nC(){if(!U_&&Si!==null){U_=!0;var t=0;try{var e=Si;Os(99,function(){for(;t<e.length;t++){var n=e[t];do n=n(!0);while(n!==null)}}),Si=null}catch(n){throw Si!==null&&(Si=Si.slice(t+1)),lw(Am,vi),n}finally{U_=!1}}}function Yf(t,e,n){return n/=10,1073741821-(((1073741821-t+e/10)/n|0)+1)*n}function Nr(t,e){if(t&&t.defaultProps){e=Nn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n])}return e}var Ip={current:null},bp=null,pl=null,Ap=null;function uw(){Ap=pl=bp=null}function cw(t){var e=Ip.current;lt(Ip),t.type._context._currentValue=e}function rC(t,e){for(;t!==null;){var n=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,n!==null&&n.childExpirationTime<e&&(n.childExpirationTime=e);else if(n!==null&&n.childExpirationTime<e)n.childExpirationTime=e;else break;t=t.return}}function Al(t,e){bp=t,Ap=pl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.expirationTime>=e&&(Zr=!0),t.firstContext=null)}function Ir(t,e){if(Ap!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(Ap=t,e=1073741823),e={context:t,observedBits:e,next:null},pl===null){if(bp===null)throw Error(z(308));pl=e,bp.dependencies={expirationTime:0,firstContext:e,responders:null}}else pl=pl.next=e;return t._currentValue}var ds=!1;function dw(t){t.updateQueue={baseState:t.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function hw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,baseQueue:t.baseQueue,shared:t.shared,effects:t.effects})}function As(t,e){return t={expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null},t.next=t}function Ss(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function rA(t,e){var n=t.alternate;n!==null&&hw(n,t),t=t.updateQueue,n=t.baseQueue,n===null?(t.baseQueue=e.next=e,e.next=e):(e.next=n.next,n.next=e)}function Qc(t,e,n,r){var i=t.updateQueue;ds=!1;var s=i.baseQueue,o=i.shared.pending;if(o!==null){if(s!==null){var a=s.next;s.next=o.next,o.next=a}s=o,i.shared.pending=null,a=t.alternate,a!==null&&(a=a.updateQueue,a!==null&&(a.baseQueue=o))}if(s!==null){a=s.next;var l=i.baseState,c=0,d=null,f=null,m=null;if(a!==null){var v=a;do{if(o=v.expirationTime,o<r){var b={expirationTime:v.expirationTime,suspenseConfig:v.suspenseConfig,tag:v.tag,payload:v.payload,callback:v.callback,next:null};m===null?(f=m=b,d=l):m=m.next=b,o>c&&(c=o)}else{m!==null&&(m=m.next={expirationTime:1073741823,suspenseConfig:v.suspenseConfig,tag:v.tag,payload:v.payload,callback:v.callback,next:null}),DC(o,v.suspenseConfig);e:{var I=t,_=v;switch(o=e,b=n,_.tag){case 1:if(I=_.payload,typeof I=="function"){l=I.call(b,l,o);break e}l=I;break e;case 3:I.effectTag=I.effectTag&-4097|64;case 0:if(I=_.payload,o=typeof I=="function"?I.call(b,l,o):I,o==null)break e;l=Nn({},l,o);break e;case 2:ds=!0}}v.callback!==null&&(t.effectTag|=32,o=i.effects,o===null?i.effects=[v]:o.push(v))}if(v=v.next,v===null||v===a){if(o=i.shared.pending,o===null)break;v=s.next=o.next,o.next=a,i.baseQueue=s=o,i.shared.pending=null}}while(!0)}m===null?d=l:m.next=f,i.baseState=d,i.baseQueue=m,xm(c),t.expirationTime=c,t.memoizedState=l}}function iA(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=i,i=n,typeof r!="function")throw Error(z(191,r));r.call(i)}}}var Rc=Vr.ReactCurrentBatchConfig,iC=new Em.Component().refs;function Sp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Nn({},e,n),t.memoizedState=n,t.expirationTime===0&&(t.updateQueue.baseState=n)}var Pm={isMounted:function(t){return(t=t._reactInternalFiber)?ba(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var r=ui(),i=Rc.suspense;r=Xo(r,t,i),i=As(r,i),i.payload=e,n!=null&&(i.callback=n),Ss(t,i),Rs(t,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var r=ui(),i=Rc.suspense;r=Xo(r,t,i),i=As(r,i),i.tag=1,i.payload=e,n!=null&&(i.callback=n),Ss(t,i),Rs(t,r)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=ui(),r=Rc.suspense;n=Xo(n,t,r),r=As(n,r),r.tag=2,e!=null&&(r.callback=e),Ss(t,r),Rs(t,n)}};function sA(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Yc(n,r)||!Yc(i,s):!0}function sC(t,e,n){var r=!1,i=Ds,s=e.contextType;return typeof s=="object"&&s!==null?s=Ir(s):(i=Bn(e)?sa:yn.current,r=e.contextTypes,s=(r=r!=null)?$l(t,i):Ds),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Pm,t.stateNode=e,e._reactInternalFiber=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function oA(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Pm.enqueueReplaceState(e,e.state,null)}function Jv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=iC,dw(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ir(s):(s=Bn(e)?sa:yn.current,i.context=$l(t,s)),Qc(t,n,i,r),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Sp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Pm.enqueueReplaceState(i,i.state,null),Qc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.effectTag|=4)}var ff=Array.isArray;function Yu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var o=r.refs;o===iC&&(o=r.refs={}),s===null?delete o[i]:o[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function pf(t,e){if(t.type!=="textarea")throw Error(z(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e,""))}function oC(t){function e(_,y){if(t){var T=_.lastEffect;T!==null?(T.nextEffect=y,_.lastEffect=y):_.firstEffect=_.lastEffect=y,y.nextEffect=null,y.effectTag=8}}function n(_,y){if(!t)return null;for(;y!==null;)e(_,y),y=y.sibling;return null}function r(_,y){for(_=new Map;y!==null;)y.key!==null?_.set(y.key,y):_.set(y.index,y),y=y.sibling;return _}function i(_,y){return _=oa(_,y),_.index=0,_.sibling=null,_}function s(_,y,T){return _.index=T,t?(T=_.alternate,T!==null?(T=T.index,T<y?(_.effectTag=2,y):T):(_.effectTag=2,y)):y}function o(_){return t&&_.alternate===null&&(_.effectTag=2),_}function a(_,y,T,A){return y===null||y.tag!==6?(y=H_(T,_.mode,A),y.return=_,y):(y=i(y,T),y.return=_,y)}function l(_,y,T,A){return y!==null&&y.elementType===T.type?(A=i(y,T.props),A.ref=Yu(_,y,T),A.return=_,A):(A=Zf(T.type,T.key,T.props,null,_.mode,A),A.ref=Yu(_,y,T),A.return=_,A)}function c(_,y,T,A){return y===null||y.tag!==4||y.stateNode.containerInfo!==T.containerInfo||y.stateNode.implementation!==T.implementation?(y=K_(T,_.mode,A),y.return=_,y):(y=i(y,T.children||[]),y.return=_,y)}function d(_,y,T,A,E){return y===null||y.tag!==7?(y=vs(T,_.mode,A,E),y.return=_,y):(y=i(y,T),y.return=_,y)}function f(_,y,T){if(typeof y=="string"||typeof y=="number")return y=H_(""+y,_.mode,T),y.return=_,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case uf:return T=Zf(y.type,y.key,y.props,null,_.mode,T),T.ref=Yu(_,null,y),T.return=_,T;case ul:return y=K_(y,_.mode,T),y.return=_,y}if(ff(y)||zu(y))return y=vs(y,_.mode,T,null),y.return=_,y;pf(_,y)}return null}function m(_,y,T,A){var E=y!==null?y.key:null;if(typeof T=="string"||typeof T=="number")return E!==null?null:a(_,y,""+T,A);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case uf:return T.key===E?T.type===Co?d(_,y,T.props.children,A,E):l(_,y,T,A):null;case ul:return T.key===E?c(_,y,T,A):null}if(ff(T)||zu(T))return E!==null?null:d(_,y,T,A,null);pf(_,T)}return null}function v(_,y,T,A,E){if(typeof A=="string"||typeof A=="number")return _=_.get(T)||null,a(y,_,""+A,E);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case uf:return _=_.get(A.key===null?T:A.key)||null,A.type===Co?d(y,_,A.props.children,E,A.key):l(y,_,A,E);case ul:return _=_.get(A.key===null?T:A.key)||null,c(y,_,A,E)}if(ff(A)||zu(A))return _=_.get(T)||null,d(y,_,A,E,null);pf(y,A)}return null}function b(_,y,T,A){for(var E=null,N=null,O=y,L=y=0,G=null;O!==null&&L<T.length;L++){O.index>L?(G=O,O=null):G=O.sibling;var H=m(_,O,T[L],A);if(H===null){O===null&&(O=G);break}t&&O&&H.alternate===null&&e(_,O),y=s(H,y,L),N===null?E=H:N.sibling=H,N=H,O=G}if(L===T.length)return n(_,O),E;if(O===null){for(;L<T.length;L++)O=f(_,T[L],A),O!==null&&(y=s(O,y,L),N===null?E=O:N.sibling=O,N=O);return E}for(O=r(_,O);L<T.length;L++)G=v(O,_,L,T[L],A),G!==null&&(t&&G.alternate!==null&&O.delete(G.key===null?L:G.key),y=s(G,y,L),N===null?E=G:N.sibling=G,N=G);return t&&O.forEach(function(Ce){return e(_,Ce)}),E}function I(_,y,T,A){var E=zu(T);if(typeof E!="function")throw Error(z(150));if(T=E.call(T),T==null)throw Error(z(151));for(var N=E=null,O=y,L=y=0,G=null,H=T.next();O!==null&&!H.done;L++,H=T.next()){O.index>L?(G=O,O=null):G=O.sibling;var Ce=m(_,O,H.value,A);if(Ce===null){O===null&&(O=G);break}t&&O&&Ce.alternate===null&&e(_,O),y=s(Ce,y,L),N===null?E=Ce:N.sibling=Ce,N=Ce,O=G}if(H.done)return n(_,O),E;if(O===null){for(;!H.done;L++,H=T.next())H=f(_,H.value,A),H!==null&&(y=s(H,y,L),N===null?E=H:N.sibling=H,N=H);return E}for(O=r(_,O);!H.done;L++,H=T.next())H=v(O,_,L,H.value,A),H!==null&&(t&&H.alternate!==null&&O.delete(H.key===null?L:H.key),y=s(H,y,L),N===null?E=H:N.sibling=H,N=H);return t&&O.forEach(function(De){return e(_,De)}),E}return function(_,y,T,A){var E=typeof T=="object"&&T!==null&&T.type===Co&&T.key===null;E&&(T=T.props.children);var N=typeof T=="object"&&T!==null;if(N)switch(T.$$typeof){case uf:e:{for(N=T.key,E=y;E!==null;){if(E.key===N){switch(E.tag){case 7:if(T.type===Co){n(_,E.sibling),y=i(E,T.props.children),y.return=_,_=y;break e}break;default:if(E.elementType===T.type){n(_,E.sibling),y=i(E,T.props),y.ref=Yu(_,E,T),y.return=_,_=y;break e}}n(_,E);break}else e(_,E);E=E.sibling}T.type===Co?(y=vs(T.props.children,_.mode,A,T.key),y.return=_,_=y):(A=Zf(T.type,T.key,T.props,null,_.mode,A),A.ref=Yu(_,y,T),A.return=_,_=A)}return o(_);case ul:e:{for(E=T.key;y!==null;){if(y.key===E)if(y.tag===4&&y.stateNode.containerInfo===T.containerInfo&&y.stateNode.implementation===T.implementation){n(_,y.sibling),y=i(y,T.children||[]),y.return=_,_=y;break e}else{n(_,y);break}else e(_,y);y=y.sibling}y=K_(T,_.mode,A),y.return=_,_=y}return o(_)}if(typeof T=="string"||typeof T=="number")return T=""+T,y!==null&&y.tag===6?(n(_,y.sibling),y=i(y,T),y.return=_,_=y):(n(_,y),y=H_(T,_.mode,A),y.return=_,_=y),o(_);if(ff(T))return b(_,y,T,A);if(zu(T))return I(_,y,T,A);if(N&&pf(_,T),typeof T>"u"&&!E)switch(_.tag){case 1:case 0:throw _=_.type,Error(z(152,_.displayName||_.name||"Component"))}return n(_,y)}}var Ul=oC(!0),fw=oC(!1),Gd={},li={current:Gd},Xc={current:Gd},Jc={current:Gd};function Vo(t){if(t===Gd)throw Error(z(174));return t}function Zv(t,e){switch(Ct(Jc,e),Ct(Xc,t),Ct(li,Gd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Vv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Vv(e,t)}lt(li),Ct(li,e)}function jl(){lt(li),lt(Xc),lt(Jc)}function aA(t){Vo(Jc.current);var e=Vo(li.current),n=Vv(e,t.type);e!==n&&(Ct(Xc,t),Ct(li,n))}function pw(t){Xc.current===t&&(lt(li),lt(Xc))}var vt={current:0};function Pp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data===tw||n.data===nw))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.effectTag&64)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function mw(t,e){return{responder:t,props:e}}var Qf=Vr.ReactCurrentDispatcher,Tr=Vr.ReactCurrentBatchConfig,gs=0,Lt=null,mn=null,gn=null,Rp=!1;function Jn(){throw Error(z(321))}function gw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ia(t[n],e[n]))return!1;return!0}function _w(t,e,n,r,i,s){if(gs=s,Lt=e,e.memoizedState=null,e.updateQueue=null,e.expirationTime=0,Qf.current=t===null||t.memoizedState===null?_U:vU,t=n(r,i),e.expirationTime===gs){s=0;do{if(e.expirationTime=0,!(25>s))throw Error(z(301));s+=1,gn=mn=null,e.updateQueue=null,Qf.current=yU,t=n(r,i)}while(e.expirationTime===gs)}if(Qf.current=xp,e=mn!==null&&mn.next!==null,gs=0,gn=mn=Lt=null,Rp=!1,e)throw Error(z(300));return t}function Sl(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gn===null?Lt.memoizedState=gn=t:gn=gn.next=t,gn}function ou(){if(mn===null){var t=Lt.alternate;t=t!==null?t.memoizedState:null}else t=mn.next;var e=gn===null?Lt.memoizedState:gn.next;if(e!==null)gn=e,mn=t;else{if(t===null)throw Error(z(310));mn=t,t={memoizedState:mn.memoizedState,baseState:mn.baseState,baseQueue:mn.baseQueue,queue:mn.queue,next:null},gn===null?Lt.memoizedState=gn=t:gn=gn.next=t}return gn}function Go(t,e){return typeof e=="function"?e(t):e}function mf(t){var e=ou(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=mn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){i=i.next,r=r.baseState;var a=o=s=null,l=i;do{var c=l.expirationTime;if(c<gs){var d={expirationTime:l.expirationTime,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};a===null?(o=a=d,s=r):a=a.next=d,c>Lt.expirationTime&&(Lt.expirationTime=c,xm(c))}else a!==null&&(a=a.next={expirationTime:1073741823,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),DC(c,l.suspenseConfig),r=l.eagerReducer===t?l.eagerState:t(r,l.action);l=l.next}while(l!==null&&l!==i);a===null?s=r:a.next=o,ia(r,e.memoizedState)||(Zr=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=a,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function gf(t){var e=ou(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ia(s,e.memoizedState)||(Zr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function j_(t){var e=Sl();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:Go,lastRenderedState:t},t=t.dispatch=hC.bind(null,Lt,t),[e.memoizedState,t]}function ey(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Lt.updateQueue,e===null?(e={lastEffect:null},Lt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function aC(){return ou().memoizedState}function ty(t,e,n,r){var i=Sl();Lt.effectTag|=t,i.memoizedState=ey(1|e,n,void 0,r===void 0?null:r)}function vw(t,e,n,r){var i=ou();r=r===void 0?null:r;var s=void 0;if(mn!==null){var o=mn.memoizedState;if(s=o.destroy,r!==null&&gw(r,o.deps)){ey(e,n,s,r);return}}Lt.effectTag|=t,i.memoizedState=ey(1|e,n,s,r)}function lA(t,e){return ty(516,4,t,e)}function Cp(t,e){return vw(516,4,t,e)}function lC(t,e){return vw(4,2,t,e)}function uC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function cC(t,e,n){return n=n!=null?n.concat([t]):null,vw(4,2,uC.bind(null,e,t),n)}function yw(){}function uA(t,e){return Sl().memoizedState=[t,e===void 0?null:e],t}function kp(t,e){var n=ou();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&gw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function dC(t,e){var n=ou();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&gw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ew(t,e,n){var r=Sm();Os(98>r?98:r,function(){t(!0)}),Os(97<r?97:r,function(){var i=Tr.suspense;Tr.suspense=e===void 0?null:e;try{t(!1),n()}finally{Tr.suspense=i}})}function hC(t,e,n){var r=ui(),i=Rc.suspense;r=Xo(r,t,i),i={expirationTime:r,suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var s=e.pending;if(s===null?i.next=i:(i.next=s.next,s.next=i),e.pending=i,s=t.alternate,t===Lt||s!==null&&s===Lt)Rp=!0,i.expirationTime=gs,Lt.expirationTime=gs;else{if(t.expirationTime===0&&(s===null||s.expirationTime===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.eagerReducer=s,i.eagerState=a,ia(a,o))return}catch{}finally{}Rs(t,r)}}var xp={readContext:Ir,useCallback:Jn,useContext:Jn,useEffect:Jn,useImperativeHandle:Jn,useLayoutEffect:Jn,useMemo:Jn,useReducer:Jn,useRef:Jn,useState:Jn,useDebugValue:Jn,useResponder:Jn,useDeferredValue:Jn,useTransition:Jn},_U={readContext:Ir,useCallback:uA,useContext:Ir,useEffect:lA,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ty(4,2,uC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ty(4,2,t,e)},useMemo:function(t,e){var n=Sl();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Sl();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=hC.bind(null,Lt,t),[r.memoizedState,t]},useRef:function(t){var e=Sl();return t={current:t},e.memoizedState=t},useState:j_,useDebugValue:yw,useResponder:mw,useDeferredValue:function(t,e){var n=j_(t),r=n[0],i=n[1];return lA(function(){var s=Tr.suspense;Tr.suspense=e===void 0?null:e;try{i(t)}finally{Tr.suspense=s}},[t,e]),r},useTransition:function(t){var e=j_(!1),n=e[0];return e=e[1],[uA(Ew.bind(null,e,t),[e,t]),n]}},vU={readContext:Ir,useCallback:kp,useContext:Ir,useEffect:Cp,useImperativeHandle:cC,useLayoutEffect:lC,useMemo:dC,useReducer:mf,useRef:aC,useState:function(){return mf(Go)},useDebugValue:yw,useResponder:mw,useDeferredValue:function(t,e){var n=mf(Go),r=n[0],i=n[1];return Cp(function(){var s=Tr.suspense;Tr.suspense=e===void 0?null:e;try{i(t)}finally{Tr.suspense=s}},[t,e]),r},useTransition:function(t){var e=mf(Go),n=e[0];return e=e[1],[kp(Ew.bind(null,e,t),[e,t]),n]}},yU={readContext:Ir,useCallback:kp,useContext:Ir,useEffect:Cp,useImperativeHandle:cC,useLayoutEffect:lC,useMemo:dC,useReducer:gf,useRef:aC,useState:function(){return gf(Go)},useDebugValue:yw,useResponder:mw,useDeferredValue:function(t,e){var n=gf(Go),r=n[0],i=n[1];return Cp(function(){var s=Tr.suspense;Tr.suspense=e===void 0?null:e;try{i(t)}finally{Tr.suspense=s}},[t,e]),r},useTransition:function(t){var e=gf(Go),n=e[0];return e=e[1],[kp(Ew.bind(null,e,t),[e,t]),n]}},Ri=null,_s=null,Yo=!1;function fC(t,e){var n=ei(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,t.lastEffect!==null?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function cA(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function ny(t){if(Yo){var e=_s;if(e){var n=e;if(!cA(t,e)){if(e=bl(n.nextSibling),!e||!cA(t,e)){t.effectTag=t.effectTag&-1025|2,Yo=!1,Ri=t;return}fC(Ri,n)}Ri=t,_s=bl(e.firstChild)}else t.effectTag=t.effectTag&-1025|2,Yo=!1,Ri=t}}function dA(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ri=t}function _f(t){if(t!==Ri)return!1;if(!Yo)return dA(t),Yo=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!qv(e,t.memoizedProps))for(e=_s;e;)fC(t,e),e=bl(e.nextSibling);if(dA(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n===DR){if(e===0){_s=bl(t.nextSibling);break e}e--}else n!==NR&&n!==nw&&n!==tw||e++}t=t.nextSibling}_s=null}}else _s=Ri?bl(t.stateNode.nextSibling):null;return!0}function B_(){_s=Ri=null,Yo=!1}var EU=Vr.ReactCurrentOwner,Zr=!1;function Zn(t,e,n,r){e.child=t===null?fw(e,null,n,r):Ul(e,t.child,n,r)}function hA(t,e,n,r,i){n=n.render;var s=e.ref;return Al(e,i),r=_w(t,e,n,r,s,i),t!==null&&!Zr?(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),Ci(t,e,i)):(e.effectTag|=1,Zn(t,e,r,i),e.child)}function fA(t,e,n,r,i,s){if(t===null){var o=n.type;return typeof o=="function"&&!Aw(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,pC(t,e,o,r,i,s)):(t=Zf(n.type,null,r,null,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}return o=t.child,i<s&&(i=o.memoizedProps,n=n.compare,n=n!==null?n:Yc,n(i,r)&&t.ref===e.ref)?Ci(t,e,s):(e.effectTag|=1,t=oa(o,r),t.ref=e.ref,t.return=e,e.child=t)}function pC(t,e,n,r,i,s){return t!==null&&Yc(t.memoizedProps,r)&&t.ref===e.ref&&(Zr=!1,i<s)?(e.expirationTime=t.expirationTime,Ci(t,e,s)):ry(t,e,n,r,s)}function mC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.effectTag|=128)}function ry(t,e,n,r,i){var s=Bn(n)?sa:yn.current;return s=$l(e,s),Al(e,i),n=_w(t,e,n,r,s,i),t!==null&&!Zr?(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),Ci(t,e,i)):(e.effectTag|=1,Zn(t,e,n,i),e.child)}function pA(t,e,n,r,i){if(Bn(n)){var s=!0;Kf(e)}else s=!1;if(Al(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.effectTag|=2),sC(e,n,r),Jv(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ir(c):(c=Bn(n)?sa:yn.current,c=$l(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&oA(e,o,r,c),ds=!1;var m=e.memoizedState;o.state=m,Qc(e,r,o,i),l=e.memoizedState,a!==r||m!==l||jn.current||ds?(typeof d=="function"&&(Sp(e,n,d,r),l=e.memoizedState),(a=ds||sA(e,n,a,r,m,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.effectTag|=4)):(typeof o.componentDidMount=="function"&&(e.effectTag|=4),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.effectTag|=4),r=!1)}else o=e.stateNode,hw(t,e),a=e.memoizedProps,o.props=e.type===e.elementType?a:Nr(e.type,a),l=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ir(c):(c=Bn(n)?sa:yn.current,c=$l(e,c)),d=n.getDerivedStateFromProps,(f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&oA(e,o,r,c),ds=!1,l=e.memoizedState,o.state=l,Qc(e,r,o,i),m=e.memoizedState,a!==r||l!==m||jn.current||ds?(typeof d=="function"&&(Sp(e,n,d,r),m=e.memoizedState),(d=ds||sA(e,n,a,r,l,m,c))?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,c)),typeof o.componentDidUpdate=="function"&&(e.effectTag|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.effectTag|=256)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=256),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=256),r=!1);return iy(t,e,n,r,s,i)}function iy(t,e,n,r,i,s){mC(t,e);var o=(e.effectTag&64)!==0;if(!r&&!o)return i&&Zb(e,n,!1),Ci(t,e,s);r=e.stateNode,EU.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.effectTag|=1,t!==null&&o?(e.child=Ul(e,t.child,null,s),e.child=Ul(e,null,a,s)):Zn(t,e,a,s),e.memoizedState=r.state,i&&Zb(e,n,!0),e.child}function mA(t){var e=t.stateNode;e.pendingContext?Jb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Jb(t,e.context,!1),Zv(t,e.containerInfo)}var z_={dehydrated:null,retryTime:0};function gA(t,e,n){var r=e.mode,i=e.pendingProps,s=vt.current,o=!1,a;if((a=(e.effectTag&64)!==0)||(a=(s&2)!==0&&(t===null||t.memoizedState!==null)),a?(o=!0,e.effectTag&=-65):t!==null&&t.memoizedState===null||i.fallback===void 0||i.unstable_avoidThisFallback===!0||(s|=1),Ct(vt,s&1),t===null){if(i.fallback!==void 0&&ny(e),o){if(o=i.fallback,i=vs(null,r,0,null),i.return=e,!(e.mode&2))for(t=e.memoizedState!==null?e.child.child:e.child,i.child=t;t!==null;)t.return=i,t=t.sibling;return n=vs(o,r,n,null),n.return=e,i.sibling=n,e.memoizedState=z_,e.child=i,n}return r=i.children,e.memoizedState=null,e.child=fw(e,null,r,n)}if(t.memoizedState!==null){if(t=t.child,r=t.sibling,o){if(i=i.fallback,n=oa(t,t.pendingProps),n.return=e,!(e.mode&2)&&(o=e.memoizedState!==null?e.child.child:e.child,o!==t.child))for(n.child=o;o!==null;)o.return=n,o=o.sibling;return r=oa(r,i),r.return=e,n.sibling=r,n.childExpirationTime=0,e.memoizedState=z_,e.child=n,r}return n=Ul(e,t.child,i.children,n),e.memoizedState=null,e.child=n}if(t=t.child,o){if(o=i.fallback,i=vs(null,r,0,null),i.return=e,i.child=t,t!==null&&(t.return=i),!(e.mode&2))for(t=e.memoizedState!==null?e.child.child:e.child,i.child=t;t!==null;)t.return=i,t=t.sibling;return n=vs(o,r,n,null),n.return=e,i.sibling=n,n.effectTag|=2,i.childExpirationTime=0,e.memoizedState=z_,e.child=i,n}return e.memoizedState=null,e.child=Ul(e,t,i.children,n)}function _A(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;n!==null&&n.expirationTime<e&&(n.expirationTime=e),rC(t.return,e)}function W_(t,e,n,r,i,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailExpiration=0,o.tailMode=i,o.lastEffect=s)}function vA(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Zn(t,e,r.children,n),r=vt.current,r&2)r=r&1|2,e.effectTag|=64;else{if(t!==null&&t.effectTag&64)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_A(t,n);else if(t.tag===19)_A(t,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ct(vt,r),!(e.mode&2))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Pp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),W_(e,!1,i,n,s,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Pp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}W_(e,!0,n,null,s,e.lastEffect);break;case"together":W_(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Ci(t,e,n){t!==null&&(e.dependencies=t.dependencies);var r=e.expirationTime;if(r!==0&&xm(r),e.childExpirationTime<n)return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=oa(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=oa(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}var gC,sy,_C,vC;gC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};sy=function(){};_C=function(t,e,n,r,i){var s=t.memoizedProps;if(s!==r){var o=e.stateNode;switch(Vo(li.current),t=null,n){case"input":s=xv(o,s),r=xv(o,r),t=[];break;case"option":s=Ov(o,s),r=Ov(o,r),t=[];break;case"select":s=Nn({},s,{value:void 0}),r=Nn({},r,{value:void 0}),t=[];break;case"textarea":s=Lv(o,s),r=Lv(o,r),t=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(o.onclick=yp)}jv(n,r);var a,l;n=null;for(a in s)if(!r.hasOwnProperty(a)&&s.hasOwnProperty(a)&&s[a]!=null)if(a==="style")for(l in o=s[a],o)o.hasOwnProperty(l)&&(n||(n={}),n[l]="");else a!=="dangerouslySetInnerHTML"&&a!=="children"&&a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Vl.hasOwnProperty(a)?t||(t=[]):(t=t||[]).push(a,null));for(a in r){var c=r[a];if(o=s!=null?s[a]:void 0,r.hasOwnProperty(a)&&c!==o&&(c!=null||o!=null))if(a==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(t||(t=[]),t.push(a,n)),n=c;else a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(t=t||[]).push(a,c)):a==="children"?o===c||typeof c!="string"&&typeof c!="number"||(t=t||[]).push(a,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&(Vl.hasOwnProperty(a)?(c!=null&&bi(i,a),t||o===c||(t=[])):(t=t||[]).push(a,c))}n&&(t=t||[]).push("style",n),i=t,(e.updateQueue=i)&&(e.effectTag|=4)}};vC=function(t,e,n,r){n!==r&&(e.effectTag|=4)};function vf(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function wU(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Bn(e.type)&&Tp(),null;case 3:return jl(),lt(jn),lt(yn),n=e.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),t!==null&&t.child!==null||!_f(e)||(e.effectTag|=4),sy(e),null;case 5:pw(e),n=Vo(Jc.current);var i=e.type;if(t!==null&&e.stateNode!=null)_C(t,e,i,r,n),t.ref!==e.ref&&(e.effectTag|=128);else{if(!r){if(e.stateNode===null)throw Error(z(166));return null}if(t=Vo(li.current),_f(e)){r=e.stateNode,i=e.type;var s=e.memoizedProps;switch(r[ps]=e,r[Ep]=s,i){case"iframe":case"object":case"embed":dt("load",r);break;case"video":case"audio":for(t=0;t<dc.length;t++)dt(dc[t],r);break;case"source":dt("error",r);break;case"img":case"image":case"link":dt("error",r),dt("load",r);break;case"form":dt("reset",r),dt("submit",r);break;case"details":dt("toggle",r);break;case"input":Cb(r,s),dt("invalid",r),bi(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!s.multiple},dt("invalid",r),bi(n,"onChange");break;case"textarea":xb(r,s),dt("invalid",r),bi(n,"onChange")}jv(i,s),t=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(t=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(t=["children",""+a]):Vl.hasOwnProperty(o)&&a!=null&&bi(n,o)}switch(i){case"input":cf(r),kb(r,s,!0);break;case"textarea":cf(r),Nb(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=yp)}n=t,e.updateQueue=n,n!==null&&(e.effectTag|=4)}else{switch(o=n.nodeType===9?n:n.ownerDocument,t===Fb&&(t=dR(i)),t===Fb?i==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(i,{is:r.is}):(t=o.createElement(i),i==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,i),t[ps]=e,t[Ep]=r,gC(t,e,!1,!1),e.stateNode=t,o=Bv(i,r),i){case"iframe":case"object":case"embed":dt("load",t),a=r;break;case"video":case"audio":for(a=0;a<dc.length;a++)dt(dc[a],t);a=r;break;case"source":dt("error",t),a=r;break;case"img":case"image":case"link":dt("error",t),dt("load",t),a=r;break;case"form":dt("reset",t),dt("submit",t),a=r;break;case"details":dt("toggle",t),a=r;break;case"input":Cb(t,r),a=xv(t,r),dt("invalid",t),bi(n,"onChange");break;case"option":a=Ov(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},a=Nn({},r,{value:void 0}),dt("invalid",t),bi(n,"onChange");break;case"textarea":xb(t,r),a=Lv(t,r),dt("invalid",t),bi(n,"onChange");break;default:a=r}jv(i,a);var l=a;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?kR(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&hR(t,c)):s==="children"?typeof c=="string"?(i!=="textarea"||c!=="")&&qc(t,c):typeof c=="number"&&qc(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Vl.hasOwnProperty(s)?c!=null&&bi(n,s):c!=null&&WE(t,s,c,o))}switch(i){case"input":cf(t),kb(t,r,!1);break;case"textarea":cf(t),Nb(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ns(r.value));break;case"select":t.multiple=!!r.multiple,n=r.value,n!=null?Il(t,!!r.multiple,n,!1):r.defaultValue!=null&&Il(t,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=yp)}OR(i,r)&&(e.effectTag|=4)}e.ref!==null&&(e.effectTag|=128)}return null;case 6:if(t&&e.stateNode!=null)vC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));n=Vo(Jc.current),Vo(li.current),_f(e)?(n=e.stateNode,r=e.memoizedProps,n[ps]=e,n.nodeValue!==r&&(e.effectTag|=4)):(n=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),n[ps]=e,e.stateNode=n)}return null;case 13:return lt(vt),r=e.memoizedState,e.effectTag&64?(e.expirationTime=n,e):(n=r!==null,r=!1,t===null?e.memoizedProps.fallback!==void 0&&_f(e):(i=t.memoizedState,r=i!==null,n||i===null||(i=t.child.sibling,i!==null&&(s=e.firstEffect,s!==null?(e.firstEffect=i,i.nextEffect=s):(e.firstEffect=e.lastEffect=i,i.nextEffect=null),i.effectTag=8))),n&&!r&&e.mode&2&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||vt.current&1?Bt===Qo&&(Bt=Op):((Bt===Qo||Bt===Op)&&(Bt=Rm),ed!==0&&rr!==null&&($o(rr,zn),FC(rr,ed)))),(n||r)&&(e.effectTag|=4),null);case 4:return jl(),sy(e),null;case 10:return cw(e),null;case 17:return Bn(e.type)&&Tp(),null;case 19:if(lt(vt),r=e.memoizedState,r===null)return null;if(i=(e.effectTag&64)!==0,s=r.rendering,s===null){if(i)vf(r,!1);else if(Bt!==Qo||t!==null&&t.effectTag&64)for(s=e.child;s!==null;){if(t=Pp(s),t!==null){for(e.effectTag|=64,vf(r,!1),i=t.updateQueue,i!==null&&(e.updateQueue=i,e.effectTag|=4),r.lastEffect===null&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=e.child;r!==null;)i=r,s=n,i.effectTag&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,t=i.alternate,t===null?(i.childExpirationTime=0,i.expirationTime=s,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null):(i.childExpirationTime=t.childExpirationTime,i.expirationTime=t.expirationTime,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,s=t.dependencies,i.dependencies=s===null?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),r=r.sibling;return Ct(vt,vt.current&1|2),e.child}s=s.sibling}}else{if(!i)if(t=Pp(s),t!==null){if(e.effectTag|=64,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.effectTag|=4),vf(r,!0),r.tail===null&&r.tailMode==="hidden"&&!s.alternate)return e=e.lastEffect=r.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*Er()-r.renderingStartTime>r.tailExpiration&&1<n&&(e.effectTag|=64,i=!0,vf(r,!1),e.expirationTime=e.childExpirationTime=n-1);r.isBackwards?(s.sibling=e.child,e.child=s):(n=r.last,n!==null?n.sibling=s:e.child=s,r.last=s)}return r.tail!==null?(r.tailExpiration===0&&(r.tailExpiration=Er()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=Er(),n.sibling=null,e=vt.current,Ct(vt,i?e&1|2:e&1),n):null}throw Error(z(156,e.tag))}function TU(t){switch(t.tag){case 1:Bn(t.type)&&Tp();var e=t.effectTag;return e&4096?(t.effectTag=e&-4097|64,t):null;case 3:if(jl(),lt(jn),lt(yn),e=t.effectTag,e&64)throw Error(z(285));return t.effectTag=e&-4097|64,t;case 5:return pw(t),null;case 13:return lt(vt),e=t.effectTag,e&4096?(t.effectTag=e&-4097|64,t):null;case 19:return lt(vt),null;case 4:return jl(),null;case 10:return cw(t),null;default:return null}}function ww(t,e){return{value:t,source:e,stack:KE(e)}}var IU=typeof WeakSet=="function"?WeakSet:Set;function oy(t,e){var n=e.source,r=e.stack;r===null&&n!==null&&(r=KE(n)),n!==null&&Di(n.type),e=e.value,t!==null&&t.tag===1&&Di(t.type);try{console.error(e)}catch(i){setTimeout(function(){throw i})}}function bU(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(n){Jo(t,n)}}function yA(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(n){Jo(t,n)}else e.current=null}function AU(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.effectTag&256&&t!==null){var n=t.memoizedProps,r=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?n:Nr(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(z(163))}function yC(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.destroy;n.destroy=void 0,r!==void 0&&r()}n=n.next}while(n!==e)}}function EC(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function SU(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:EC(3,n);return;case 1:if(t=n.stateNode,n.effectTag&4)if(e===null)t.componentDidMount();else{var r=n.elementType===n.type?e.memoizedProps:Nr(n.type,e.memoizedProps);t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}e=n.updateQueue,e!==null&&iA(n,e,t);return;case 3:if(e=n.updateQueue,e!==null){if(t=null,n.child!==null)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}iA(n,e,t)}return;case 5:t=n.stateNode,e===null&&n.effectTag&4&&OR(n.type,n.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&SR(n))));return;case 19:case 17:case 20:case 21:return}throw Error(z(163))}function EA(t,e,n){switch(typeof py=="function"&&py(e),e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var r=t.next;Os(97<n?97:n,function(){var i=r;do{var s=i.destroy;if(s!==void 0){var o=e;try{s()}catch(a){Jo(o,a)}}i=i.next}while(i!==r)})}break;case 1:yA(e),n=e.stateNode,typeof n.componentWillUnmount=="function"&&bU(e,n);break;case 5:yA(e);break;case 4:TC(t,e,n)}}function wC(t){var e=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,t.stateNode=null,e!==null&&wC(e)}function wA(t){return t.tag===5||t.tag===3||t.tag===4}function TA(t){e:{for(var e=t.return;e!==null;){if(wA(e)){var n=e;break e}e=e.return}throw Error(z(160))}switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:e=e.containerInfo,r=!0;break;case 4:e=e.containerInfo,r=!0;break;default:throw Error(z(161))}n.effectTag&16&&(qc(e,""),n.effectTag&=-17);e:t:for(n=t;;){for(;n.sibling===null;){if(n.return===null||wA(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.effectTag&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.effectTag&2)){n=n.stateNode;break e}}r?ay(t,n,e):ly(t,n,e)}function ay(t,e,n){var r=t.tag,i=r===5||r===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=yp));else if(r!==4&&(t=t.child,t!==null))for(ay(t,e,n),t=t.sibling;t!==null;)ay(t,e,n),t=t.sibling}function ly(t,e,n){var r=t.tag,i=r===5||r===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ly(t,e,n),t=t.sibling;t!==null;)ly(t,e,n),t=t.sibling}function TC(t,e,n){for(var r=e,i=!1,s,o;;){if(!i){i=r.return;e:for(;;){if(i===null)throw Error(z(160));switch(s=i.stateNode,i.tag){case 5:o=!1;break e;case 3:s=s.containerInfo,o=!0;break e;case 4:s=s.containerInfo,o=!0;break e}i=i.return}i=!0}if(r.tag===5||r.tag===6){e:for(var a=t,l=r,c=n,d=l;;)if(EA(a,d,c),d.child!==null&&d.tag!==4)d.child.return=d,d=d.child;else{if(d===l)break e;for(;d.sibling===null;){if(d.return===null||d.return===l)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}o?(a=s,l=r.stateNode,a.nodeType===8?a.parentNode.removeChild(l):a.removeChild(l)):s.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){s=r.stateNode.containerInfo,o=!0,r.child.return=r,r=r.child;continue}}else if(EA(t,r,n),r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return,r.tag===4&&(i=!1)}r.sibling.return=r.return,r=r.sibling}}function q_(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:yC(3,e);return;case 1:return;case 5:var n=e.stateNode;if(n!=null){var r=e.memoizedProps,i=t!==null?t.memoizedProps:r;t=e.type;var s=e.updateQueue;if(e.updateQueue=null,s!==null){for(n[Ep]=r,t==="input"&&r.type==="radio"&&r.name!=null&&lR(n,r),Bv(t,i),e=Bv(t,r),i=0;i<s.length;i+=2){var o=s[i],a=s[i+1];o==="style"?kR(n,a):o==="dangerouslySetInnerHTML"?hR(n,a):o==="children"?qc(n,a):WE(n,o,a,e)}switch(t){case"input":Nv(n,r);break;case"textarea":uR(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,t=r.value,t!=null?Il(n,!!r.multiple,t,!1):e!==!!r.multiple&&(r.defaultValue!=null?Il(n,!!r.multiple,r.defaultValue,!0):Il(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(z(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:e=e.stateNode,e.hydrate&&(e.hydrate=!1,SR(e.containerInfo));return;case 12:return;case 13:if(n=e,e.memoizedState===null?r=!1:(r=!0,n=e.child,bw=Er()),n!==null)e:for(t=n;;){if(t.tag===5)s=t.stateNode,r?(s=s.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(s=t.stateNode,i=t.memoizedProps.style,i=i!=null&&i.hasOwnProperty("display")?i.display:null,s.style.display=CR("display",i));else if(t.tag===6)t.stateNode.nodeValue=r?"":t.memoizedProps;else if(t.tag===13&&t.memoizedState!==null&&t.memoizedState.dehydrated===null){s=t.child.sibling,s.return=t,t=s;continue}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}IA(e);return;case 19:IA(e);return;case 17:return}throw Error(z(163))}function IA(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new IU),e.forEach(function(r){var i=VU.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}var PU=typeof WeakMap=="function"?WeakMap:Map;function IC(t,e,n){n=As(n,null),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Mp||(Mp=!0,uy=r),oy(t,e)},n}function bC(t,e,n){n=As(n,null),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return oy(t,e),r(i)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){typeof r!="function"&&(Ps===null?Ps=new Set([this]):Ps.add(this),oy(t,e));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}var RU=Math.ceil,Np=Vr.ReactCurrentDispatcher,AC=Vr.ReactCurrentOwner,zt=0,Tw=8,Mr=16,fi=32,Qo=0,Dp=1,SC=2,Op=3,Rm=4,Iw=5,pe=zt,rr=null,ve=null,zn=0,Bt=Qo,Cm=null,Pi=1073741823,Zc=1073741823,Lp=null,ed=0,Vp=!1,bw=0,PC=500,oe=null,Mp=!1,uy=null,Ps=null,Fp=!1,Cc=null,fc=90,Mo=null,kc=0,cy=null,Xf=0;function ui(){return(pe&(Mr|fi))!==zt?1073741821-(Er()/10|0):Xf!==0?Xf:Xf=1073741821-(Er()/10|0)}function Xo(t,e,n){if(e=e.mode,!(e&2))return 1073741823;var r=Sm();if(!(e&4))return r===99?1073741823:1073741822;if((pe&Mr)!==zt)return zn;if(n!==null)t=Yf(t,n.timeoutMs|0||5e3,250);else switch(r){case 99:t=1073741823;break;case 98:t=Yf(t,150,100);break;case 97:case 96:t=Yf(t,5e3,250);break;case 95:t=2;break;default:throw Error(z(326))}return rr!==null&&t===zn&&--t,t}function Rs(t,e){if(50<kc)throw kc=0,cy=null,Error(z(185));if(t=km(t,e),t!==null){var n=Sm();e===1073741823?(pe&Tw)!==zt&&(pe&(Mr|fi))===zt?dy(t):(ir(t),pe===zt&&vi()):ir(t),(pe&4)===zt||n!==98&&n!==99||(Mo===null?Mo=new Map([[t,e]]):(n=Mo.get(t),(n===void 0||n>e)&&Mo.set(t,e)))}}function km(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;n!==null&&n.expirationTime<e&&(n.expirationTime=e);var r=t.return,i=null;if(r===null&&t.tag===3)i=t.stateNode;else for(;r!==null;){if(n=r.alternate,r.childExpirationTime<e&&(r.childExpirationTime=e),n!==null&&n.childExpirationTime<e&&(n.childExpirationTime=e),r.return===null&&r.tag===3){i=r.stateNode;break}r=r.return}return i!==null&&(rr===i&&(xm(e),Bt===Rm&&$o(i,zn)),FC(i,e)),i}function Jf(t){var e=t.lastExpiredTime;if(e!==0||(e=t.firstPendingTime,!MC(t,e)))return e;var n=t.lastPingedTime;return t=t.nextKnownPendingLevel,t=n>t?n:t,2>=t&&e!==t?0:t}function ir(t){if(t.lastExpiredTime!==0)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=nA(dy.bind(null,t));else{var e=Jf(t),n=t.callbackNode;if(e===0)n!==null&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var r=ui();if(e===1073741823?r=99:e===1||e===2?r=95:(r=10*(1073741821-e)-10*(1073741821-r),r=0>=r?99:250>=r?98:5250>=r?97:95),n!==null){var i=t.callbackPriority;if(t.callbackExpirationTime===e&&i>=r)return;n!==ZR&&GR(n)}t.callbackExpirationTime=e,t.callbackPriority=r,e=e===1073741823?nA(dy.bind(null,t)):tC(r,RC.bind(null,t),{timeout:10*(1073741821-e)-Er()}),t.callbackNode=e}}}function RC(t,e){if(Xf=0,e)return e=ui(),my(t,e),ir(t),null;var n=Jf(t);if(n!==0){if(e=t.callbackNode,(pe&(Mr|fi))!==zt)throw Error(z(327));if(au(),t===rr&&n===zn||Fo(t,n),ve!==null){var r=pe;pe|=Mr;var i=NC();do try{xU();break}catch(a){xC(t,a)}while(!0);if(uw(),pe=r,Np.current=i,Bt===Dp)throw e=Cm,Fo(t,n),$o(t,n),ir(t),e;if(ve===null)switch(i=t.finishedWork=t.current.alternate,t.finishedExpirationTime=n,r=Bt,rr=null,r){case Qo:case Dp:throw Error(z(345));case SC:my(t,2<n?2:n);break;case Op:if($o(t,n),r=t.lastSuspendedTime,n===r&&(t.nextKnownPendingLevel=hy(i)),Pi===1073741823&&(i=bw+PC-Er(),10<i)){if(Vp){var s=t.lastPingedTime;if(s===0||s>=n){t.lastPingedTime=n,Fo(t,n);break}}if(s=Jf(t),s!==0&&s!==n)break;if(r!==0&&r!==n){t.lastPingedTime=r;break}t.timeoutHandle=$_(So.bind(null,t),i);break}So(t);break;case Rm:if($o(t,n),r=t.lastSuspendedTime,n===r&&(t.nextKnownPendingLevel=hy(i)),Vp&&(i=t.lastPingedTime,i===0||i>=n)){t.lastPingedTime=n,Fo(t,n);break}if(i=Jf(t),i!==0&&i!==n)break;if(r!==0&&r!==n){t.lastPingedTime=r;break}if(Zc!==1073741823?r=10*(1073741821-Zc)-Er():Pi===1073741823?r=0:(r=10*(1073741821-Pi)-5e3,i=Er(),n=10*(1073741821-n)-i,r=i-r,0>r&&(r=0),r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*RU(r/1960))-r,n<r&&(r=n)),10<r){t.timeoutHandle=$_(So.bind(null,t),r);break}So(t);break;case Iw:if(Pi!==1073741823&&Lp!==null){s=Pi;var o=Lp;if(r=o.busyMinDurationMs|0,0>=r?r=0:(i=o.busyDelayMs|0,s=Er()-(10*(1073741821-s)-(o.timeoutMs|0||5e3)),r=s<=i?0:i+r-s),10<r){$o(t,n),t.timeoutHandle=$_(So.bind(null,t),r);break}}So(t);break;default:throw Error(z(329))}if(ir(t),t.callbackNode===e)return RC.bind(null,t)}}return null}function dy(t){var e=t.lastExpiredTime;if(e=e!==0?e:1073741823,(pe&(Mr|fi))!==zt)throw Error(z(327));if(au(),t===rr&&e===zn||Fo(t,e),ve!==null){var n=pe;pe|=Mr;var r=NC();do try{kU();break}catch(i){xC(t,i)}while(!0);if(uw(),pe=n,Np.current=r,Bt===Dp)throw n=Cm,Fo(t,e),$o(t,e),ir(t),n;if(ve!==null)throw Error(z(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,rr=null,So(t),ir(t)}return null}function CU(){if(Mo!==null){var t=Mo;Mo=null,t.forEach(function(e,n){my(n,e),ir(n)}),vi()}}function CC(t,e){var n=pe;pe|=1;try{return t(e)}finally{pe=n,pe===zt&&vi()}}function kC(t,e){var n=pe;pe&=-2,pe|=Tw;try{return t(e)}finally{pe=n,pe===zt&&vi()}}function Fo(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,R$(n)),ve!==null)for(n=ve.return;n!==null;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&Tp();break;case 3:jl(),lt(jn),lt(yn);break;case 5:pw(r);break;case 4:jl();break;case 13:lt(vt);break;case 19:lt(vt);break;case 10:cw(r)}n=n.return}rr=t,ve=oa(t.current,null),zn=e,Bt=Qo,Cm=null,Zc=Pi=1073741823,Lp=null,ed=0,Vp=!1}function xC(t,e){do{try{if(uw(),Qf.current=xp,Rp)for(var n=Lt.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}if(gs=0,gn=mn=Lt=null,Rp=!1,ve===null||ve.return===null)return Bt=Dp,Cm=e,ve=null;e:{var i=t,s=ve.return,o=ve,a=e;if(e=zn,o.effectTag|=2048,o.firstEffect=o.lastEffect=null,a!==null&&typeof a=="object"&&typeof a.then=="function"){var l=a;if(!(o.mode&2)){var c=o.alternate;c?(o.updateQueue=c.updateQueue,o.memoizedState=c.memoizedState,o.expirationTime=c.expirationTime):(o.updateQueue=null,o.memoizedState=null)}var d=(vt.current&1)!==0,f=s;do{var m;if(m=f.tag===13){var v=f.memoizedState;if(v!==null)m=v.dehydrated!==null;else{var b=f.memoizedProps;m=b.fallback===void 0?!1:b.unstable_avoidThisFallback!==!0?!0:!d}}if(m){var I=f.updateQueue;if(I===null){var _=new Set;_.add(l),f.updateQueue=_}else I.add(l);if(!(f.mode&2)){if(f.effectTag|=64,o.effectTag&=-2981,o.tag===1)if(o.alternate===null)o.tag=17;else{var y=As(1073741823,null);y.tag=2,Ss(o,y)}o.expirationTime=1073741823;break e}a=void 0,o=e;var T=i.pingCache;if(T===null?(T=i.pingCache=new PU,a=new Set,T.set(l,a)):(a=T.get(l),a===void 0&&(a=new Set,T.set(l,a))),!a.has(o)){a.add(o);var A=LU.bind(null,i,l,o);l.then(A,A)}f.effectTag|=4096,f.expirationTime=e;break e}f=f.return}while(f!==null);a=Error((Di(o.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`+KE(o))}Bt!==Iw&&(Bt=SC),a=ww(a,o),f=s;do{switch(f.tag){case 3:l=a,f.effectTag|=4096,f.expirationTime=e;var E=IC(f,l,e);rA(f,E);break e;case 1:l=a;var N=f.type,O=f.stateNode;if(!(f.effectTag&64)&&(typeof N.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Ps===null||!Ps.has(O)))){f.effectTag|=4096,f.expirationTime=e;var L=bC(f,l,e);rA(f,L);break e}}f=f.return}while(f!==null)}ve=LC(ve)}catch(G){e=G;continue}break}while(!0)}function NC(){var t=Np.current;return Np.current=xp,t===null?xp:t}function DC(t,e){t<Pi&&2<t&&(Pi=t),e!==null&&t<Zc&&2<t&&(Zc=t,Lp=e)}function xm(t){t>ed&&(ed=t)}function kU(){for(;ve!==null;)ve=OC(ve)}function xU(){for(;ve!==null&&!mU();)ve=OC(ve)}function OC(t){var e=VC(t.alternate,t,zn);return t.memoizedProps=t.pendingProps,e===null&&(e=LC(t)),AC.current=null,e}function LC(t){ve=t;do{var e=ve.alternate;if(t=ve.return,ve.effectTag&2048){if(e=TU(ve),e!==null)return e.effectTag&=2047,e;t!==null&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}else{if(e=wU(e,ve,zn),zn===1||ve.childExpirationTime!==1){for(var n=0,r=ve.child;r!==null;){var i=r.expirationTime,s=r.childExpirationTime;i>n&&(n=i),s>n&&(n=s),r=r.sibling}ve.childExpirationTime=n}if(e!==null)return e;t!==null&&!(t.effectTag&2048)&&(t.firstEffect===null&&(t.firstEffect=ve.firstEffect),ve.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=ve.firstEffect),t.lastEffect=ve.lastEffect),1<ve.effectTag&&(t.lastEffect!==null?t.lastEffect.nextEffect=ve:t.firstEffect=ve,t.lastEffect=ve))}if(e=ve.sibling,e!==null)return e;ve=t}while(ve!==null);return Bt===Qo&&(Bt=Iw),null}function hy(t){var e=t.expirationTime;return t=t.childExpirationTime,e>t?e:t}function So(t){var e=Sm();return Os(99,NU.bind(null,t,e)),null}function NU(t,e){do au();while(Cc!==null);if((pe&(Mr|fi))!==zt)throw Error(z(327));var n=t.finishedWork,r=t.finishedExpirationTime;if(n===null)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var i=hy(n);if(t.firstPendingTime=i,r<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:r<=t.firstSuspendedTime&&(t.firstSuspendedTime=r-1),r<=t.lastPingedTime&&(t.lastPingedTime=0),r<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===rr&&(ve=rr=null,zn=0),1<n.effectTag?n.lastEffect!==null?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,i!==null){var s=pe;pe|=fi,AC.current=null,M_=zf;var o=jb();if(Wv(o)){if("selectionStart"in o)var a={start:o.selectionStart,end:o.selectionEnd};else e:{a=(a=o.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var f=0,m=-1,v=-1,b=0,I=0,_=o,y=null;t:for(;;){for(var T;_!==a||c!==0&&_.nodeType!==3||(m=f+c),_!==d||l!==0&&_.nodeType!==3||(v=f+l),_.nodeType===3&&(f+=_.nodeValue.length),(T=_.firstChild)!==null;)y=_,_=T;for(;;){if(_===o)break t;if(y===a&&++b===c&&(m=f),y===d&&++I===l&&(v=f),(T=_.nextSibling)!==null)break;_=y,y=_.parentNode}_=T}a=m===-1||v===-1?null:{start:m,end:v}}else a=null}a=a||{start:0,end:0}}else a=null;F_={activeElementDetached:null,focusedElem:o,selectionRange:a},zf=!1,oe=i;do try{DU()}catch(H){if(oe===null)throw Error(z(330));Jo(oe,H),oe=oe.nextEffect}while(oe!==null);oe=i;do try{for(o=t,a=e;oe!==null;){var A=oe.effectTag;if(A&16&&qc(oe.stateNode,""),A&128){var E=oe.alternate;if(E!==null){var N=E.ref;N!==null&&(typeof N=="function"?N(null):N.current=null)}}switch(A&1038){case 2:TA(oe),oe.effectTag&=-3;break;case 6:TA(oe),oe.effectTag&=-3,q_(oe.alternate,oe);break;case 1024:oe.effectTag&=-1025;break;case 1028:oe.effectTag&=-1025,q_(oe.alternate,oe);break;case 4:q_(oe.alternate,oe);break;case 8:c=oe,TC(o,c,a),wC(c)}oe=oe.nextEffect}}catch(H){if(oe===null)throw Error(z(330));Jo(oe,H),oe=oe.nextEffect}while(oe!==null);if(N=F_,E=jb(),A=N.focusedElem,a=N.selectionRange,E!==A&&A&&A.ownerDocument&&xR(A.ownerDocument.documentElement,A)){for(a!==null&&Wv(A)&&(E=a.start,N=a.end,N===void 0&&(N=E),"selectionStart"in A?(A.selectionStart=E,A.selectionEnd=Math.min(N,A.value.length)):(N=(E=A.ownerDocument||document)&&E.defaultView||window,N.getSelection&&(N=N.getSelection(),c=A.textContent.length,o=Math.min(a.start,c),a=a.end===void 0?o:Math.min(a.end,c),!N.extend&&o>a&&(c=a,a=o,o=c),c=Ub(A,o),d=Ub(A,a),c&&d&&(N.rangeCount!==1||N.anchorNode!==c.node||N.anchorOffset!==c.offset||N.focusNode!==d.node||N.focusOffset!==d.offset)&&(E=E.createRange(),E.setStart(c.node,c.offset),N.removeAllRanges(),o>a?(N.addRange(E),N.extend(d.node,d.offset)):(E.setEnd(d.node,d.offset),N.addRange(E)))))),E=[],N=A;N=N.parentNode;)N.nodeType===1&&E.push({element:N,left:N.scrollLeft,top:N.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<E.length;A++)N=E[A],N.element.scrollLeft=N.left,N.element.scrollTop=N.top}zf=!!M_,F_=M_=null,t.current=n,oe=i;do try{for(A=t;oe!==null;){var O=oe.effectTag;if(O&36&&SU(A,oe.alternate,oe),O&128){E=void 0;var L=oe.ref;if(L!==null){var G=oe.stateNode;switch(oe.tag){case 5:E=G;break;default:E=G}typeof L=="function"?L(E):L.current=E}}oe=oe.nextEffect}}catch(H){if(oe===null)throw Error(z(330));Jo(oe,H),oe=oe.nextEffect}while(oe!==null);oe=null,gU(),pe=s}else t.current=n;if(Fp)Fp=!1,Cc=t,fc=e;else for(oe=i;oe!==null;)e=oe.nextEffect,oe.nextEffect=null,oe=e;if(e=t.firstPendingTime,e===0&&(Ps=null),e===1073741823?t===cy?kc++:(kc=0,cy=t):kc=0,typeof fy=="function"&&fy(n.stateNode,r),ir(t),Mp)throw Mp=!1,t=uy,uy=null,t;return(pe&Tw)!==zt||vi(),null}function DU(){for(;oe!==null;){var t=oe.effectTag;t&256&&AU(oe.alternate,oe),!(t&512)||Fp||(Fp=!0,tC(97,function(){return au(),null})),oe=oe.nextEffect}}function au(){if(fc!==90){var t=97<fc?97:fc;return fc=90,Os(t,OU)}}function OU(){if(Cc===null)return!1;var t=Cc;if(Cc=null,(pe&(Mr|fi))!==zt)throw Error(z(331));var e=pe;for(pe|=fi,t=t.current.firstEffect;t!==null;){try{var n=t;if(n.effectTag&512)switch(n.tag){case 0:case 11:case 15:case 22:yC(5,n),EC(5,n)}}catch(r){if(t===null)throw Error(z(330));Jo(t,r)}n=t.nextEffect,t.nextEffect=null,t=n}return pe=e,vi(),!0}function bA(t,e,n){e=ww(n,e),e=IC(t,e,1073741823),Ss(t,e),t=km(t,1073741823),t!==null&&ir(t)}function Jo(t,e){if(t.tag===3)bA(t,t,e);else for(var n=t.return;n!==null;){if(n.tag===3){bA(n,t,e);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ps===null||!Ps.has(r))){t=ww(e,t),t=bC(n,t,1073741823),Ss(n,t),n=km(n,1073741823),n!==null&&ir(n);break}}n=n.return}}function LU(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),rr===t&&zn===n?Bt===Rm||Bt===Op&&Pi===1073741823&&Er()-bw<PC?Fo(t,zn):Vp=!0:MC(t,n)&&(e=t.lastPingedTime,e!==0&&e<n||(t.lastPingedTime=n,ir(t)))}function VU(t,e){var n=t.stateNode;n!==null&&n.delete(e),e=0,e===0&&(e=ui(),e=Xo(e,t,null)),t=km(t,e),t!==null&&ir(t)}var VC;VC=function(t,e,n){var r=e.expirationTime;if(t!==null){var i=e.pendingProps;if(t.memoizedProps!==i||jn.current)Zr=!0;else{if(r<n){switch(Zr=!1,e.tag){case 3:mA(e),B_();break;case 5:if(aA(e),e.mode&4&&n!==1&&i.hidden)return e.expirationTime=e.childExpirationTime=1,null;break;case 1:Bn(e.type)&&Kf(e);break;case 4:Zv(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value,i=e.type._context,Ct(Ip,i._currentValue),i._currentValue=r;break;case 13:if(e.memoizedState!==null)return r=e.child.childExpirationTime,r!==0&&r>=n?gA(t,e,n):(Ct(vt,vt.current&1),e=Ci(t,e,n),e!==null?e.sibling:null);Ct(vt,vt.current&1);break;case 19:if(r=e.childExpirationTime>=n,t.effectTag&64){if(r)return vA(t,e,n);e.effectTag|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null),Ct(vt,vt.current),!r)return null}return Ci(t,e,n)}Zr=!1}}else Zr=!1;switch(e.expirationTime=0,e.tag){case 2:if(r=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,i=$l(e,yn.current),Al(e,n),i=_w(null,e,r,t,i,n),e.effectTag|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,Bn(r)){var s=!0;Kf(e)}else s=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,dw(e);var o=r.getDerivedStateFromProps;typeof o=="function"&&Sp(e,r,o,t),i.updater=Pm,e.stateNode=i,i._reactInternalFiber=e,Jv(e,r,t,n),e=iy(null,e,r,!0,s,n)}else e.tag=0,Zn(null,e,i,n),e=e.child;return e;case 16:e:{if(i=e.elementType,t!==null&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,d$(i),i._status!==1)throw i._result;switch(i=i._result,e.type=i,s=e.tag=$U(i),t=Nr(i,t),s){case 0:e=ry(null,e,i,t,n);break e;case 1:e=pA(null,e,i,t,n);break e;case 11:e=hA(null,e,i,t,n);break e;case 14:e=fA(null,e,i,Nr(i.type,t),r,n);break e}throw Error(z(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nr(r,i),ry(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nr(r,i),pA(t,e,r,i,n);case 3:if(mA(e),r=e.updateQueue,t===null||r===null)throw Error(z(282));if(r=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,hw(t,e),Qc(e,r,null,n),r=e.memoizedState.element,r===i)B_(),e=Ci(t,e,n);else{if((i=e.stateNode.hydrate)&&(_s=bl(e.stateNode.containerInfo.firstChild),Ri=e,i=Yo=!0),i)for(n=fw(e,null,r,n),e.child=n;n;)n.effectTag=n.effectTag&-3|1024,n=n.sibling;else Zn(t,e,r,n),B_();e=e.child}return e;case 5:return aA(e),t===null&&ny(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,qv(r,i)?o=null:s!==null&&qv(r,s)&&(e.effectTag|=16),mC(t,e),e.mode&4&&n!==1&&i.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(Zn(t,e,o,n),e=e.child),e;case 6:return t===null&&ny(e),null;case 13:return gA(t,e,n);case 4:return Zv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ul(e,null,r,n):Zn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nr(r,i),hA(t,e,r,i,n);case 7:return Zn(t,e,e.pendingProps,n),e.child;case 8:return Zn(t,e,e.pendingProps.children,n),e.child;case 12:return Zn(t,e,e.pendingProps.children,n),e.child;case 10:e:{r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value;var a=e.type._context;if(Ct(Ip,a._currentValue),a._currentValue=s,o!==null)if(a=o.value,s=ia(a,s)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(a,s):1073741823)|0,s===0){if(o.children===i.children&&!jn.current){e=Ci(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r&&c.observedBits&s){a.tag===1&&(c=As(n,null),c.tag=2,Ss(a,c)),a.expirationTime<n&&(a.expirationTime=n),c=a.alternate,c!==null&&c.expirationTime<n&&(c.expirationTime=n),rC(a.return,n),l.expirationTime<n&&(l.expirationTime=n);break}c=c.next}}else o=a.tag===10&&a.type===e.type?null:a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Zn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps,r=s.children,Al(e,n),i=Ir(i,s.unstable_observedBits),r=r(i),e.effectTag|=1,Zn(t,e,r,n),e.child;case 14:return i=e.type,s=Nr(i,e.pendingProps),s=Nr(i.type,s),fA(t,e,i,s,r,n);case 15:return pC(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nr(r,i),t!==null&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,Bn(r)?(t=!0,Kf(e)):t=!1,Al(e,n),sC(e,r,i),Jv(e,r,i,n),iy(null,e,r,!0,t,n);case 19:return vA(t,e,n)}throw Error(z(156,e.tag))};var fy=null,py=null;function MU(t){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);fy=function(r){try{e.onCommitFiberRoot(n,r,void 0,(r.current.effectTag&64)===64)}catch{}},py=function(r){try{e.onCommitFiberUnmount(n,r)}catch{}}}catch{}return!0}function FU(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function ei(t,e,n,r){return new FU(t,e,n,r)}function Aw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $U(t){if(typeof t=="function")return Aw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===qE)return 11;if(t===HE)return 14}return 2}function oa(t,e){var n=t.alternate;return n===null?(n=ei(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=t.childExpirationTime,n.expirationTime=t.expirationTime,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Zf(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Aw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Co:return vs(n.children,i,s,e);case c$:o=8,i|=7;break;case tR:o=8,i|=1;break;case Uf:return t=ei(12,n,e,i|8),t.elementType=Uf,t.type=Uf,t.expirationTime=s,t;case jf:return t=ei(13,n,e,i),t.type=jf,t.elementType=jf,t.expirationTime=s,t;case kv:return t=ei(19,n,e,i),t.elementType=kv,t.expirationTime=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case nR:o=10;break e;case rR:o=9;break e;case qE:o=11;break e;case HE:o=14;break e;case iR:o=16,r=null;break e;case sR:o=22;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=ei(o,n,e,i),e.elementType=t,e.type=r,e.expirationTime=s,e}function vs(t,e,n,r){return t=ei(7,t,r,e),t.expirationTime=n,t}function H_(t,e,n){return t=ei(6,t,null,e),t.expirationTime=n,t}function K_(t,e,n){return e=ei(4,t.children!==null?t.children:[],t.key,e),e.expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function UU(t,e,n){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function MC(t,e){var n=t.firstSuspendedTime;return t=t.lastSuspendedTime,n!==0&&n>=e&&t<=e}function $o(t,e){var n=t.firstSuspendedTime,r=t.lastSuspendedTime;n<e&&(t.firstSuspendedTime=e),(r>e||n===0)&&(t.lastSuspendedTime=e),e<=t.lastPingedTime&&(t.lastPingedTime=0),e<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function FC(t,e){e>t.firstPendingTime&&(t.firstPendingTime=e);var n=t.firstSuspendedTime;n!==0&&(e>=n?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:e>=t.lastSuspendedTime&&(t.lastSuspendedTime=e+1),e>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=e))}function my(t,e){var n=t.lastExpiredTime;(n===0||n>e)&&(t.lastExpiredTime=e)}function $p(t,e,n,r){var i=e.current,s=ui(),o=Rc.suspense;s=Xo(s,i,o);e:if(n){n=n._reactInternalFiber;t:{if(ba(n)!==n||n.tag!==1)throw Error(z(170));var a=n;do{switch(a.tag){case 3:a=a.stateNode.context;break t;case 1:if(Bn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break t}}a=a.return}while(a!==null);throw Error(z(171))}if(n.tag===1){var l=n.type;if(Bn(l)){n=KR(n,l,a);break e}}n=a}else n=Ds;return e.context===null?e.context=n:e.pendingContext=n,e=As(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),Ss(i,e),Rs(i,s),s}function G_(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function AA(t,e){t=t.memoizedState,t!==null&&t.dehydrated!==null&&t.retryTime<e&&(t.retryTime=e)}function Sw(t,e){AA(t,e),(t=t.alternate)&&AA(t,e)}function Pw(t,e,n){n=n!=null&&n.hydrate===!0;var r=new UU(t,e,n),i=ei(3,null,null,e===2?7:e===1?3:0);r.current=i,i.stateNode=r,dw(i),t[zd]=r.current,n&&e!==0&&_$(t,t.nodeType===9?t:t.ownerDocument),this._internalRoot=r}Pw.prototype.render=function(t){$p(t,this._internalRoot,null,null)};Pw.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;$p(null,t,null,function(){e[zd]=null})};function Yd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function jU(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Pw(t,0,e?{hydrate:!0}:void 0)}function Nm(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s._internalRoot;if(typeof i=="function"){var a=i;i=function(){var c=G_(o);a.call(c)}}$p(e,o,t,i)}else{if(s=n._reactRootContainer=jU(n,r),o=s._internalRoot,typeof i=="function"){var l=i;i=function(){var c=G_(o);l.call(c)}}kC(function(){$p(e,o,t,i)})}return G_(o)}function BU(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ul,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}bR=function(t){if(t.tag===13){var e=Yf(ui(),150,100);Rs(t,e),Sw(t,e)}};XE=function(t){t.tag===13&&(Rs(t,3),Sw(t,3))};AR=function(t){if(t.tag===13){var e=ui();e=Xo(e,t,null),Rs(t,e),Sw(t,e)}};Cv=function(t,e,n){switch(e){case"input":if(Nv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=iw(r);if(!i)throw Error(z(90));aR(r),Nv(r,i)}}}break;case"textarea":uR(t,n);break;case"select":e=n.value,e!=null&&Il(t,!!n.multiple,e,!1)}};$E=CC;JP=function(t,e,n,r,i){var s=pe;pe|=4;try{return Os(98,t.bind(null,e,n,r,i))}finally{pe=s,pe===zt&&vi()}};UE=function(){(pe&(1|Mr|fi))===zt&&(CU(),au())};ZP=function(t,e){var n=pe;pe|=2;try{return t(e)}finally{pe=n,pe===zt&&vi()}};function $C(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yd(e))throw Error(z(200));return BU(t,e,null,n)}var zU={Events:[qd,ra,iw,YP,Rv,Fl,function(t){YE(t,k$)},QP,XP,Im,Tm,au,{current:!1}]};(function(t){var e=t.findFiberByHostInstance;return MU(Nn({},t,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vr.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=yR(n),n===null?null:n.stateNode},findFiberByHostInstance:function(n){return e?e(n):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))})({findFiberByHostInstance:Wd,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"});Ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zU;Ar.createPortal=$C;Ar.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternalFiber;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):Error(z(268,Object.keys(t)));return t=yR(e),t=t===null?null:t.stateNode,t};Ar.flushSync=function(t,e){if((pe&(Mr|fi))!==zt)throw Error(z(187));var n=pe;pe|=1;try{return Os(99,t.bind(null,e))}finally{pe=n,vi()}};Ar.hydrate=function(t,e,n){if(!Yd(e))throw Error(z(200));return Nm(null,t,e,!0,n)};Ar.render=function(t,e,n){if(!Yd(e))throw Error(z(200));return Nm(null,t,e,!1,n)};Ar.unmountComponentAtNode=function(t){if(!Yd(t))throw Error(z(40));return t._reactRootContainer?(kC(function(){Nm(null,null,t,!1,function(){t._reactRootContainer=null,t[zd]=null})}),!0):!1};Ar.unstable_batchedUpdates=CC;Ar.unstable_createPortal=function(t,e){return $C(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Ar.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Yd(n))throw Error(z(200));if(t==null||t._reactInternalFiber===void 0)throw Error(z(38));return Nm(t,e,n,!1,r)};Ar.version="16.14.0";function UC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(UC)}catch(t){console.error(t)}}UC(),zP.exports=Ar;var Rw=zP.exports;const jC=xE(Rw),WU=bP({__proto__:null,default:jC},[Rw]);var qU={exports:{}};/*!
  * Bootstrap v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(t,e){(function(n,r){t.exports=r()})($2,function(){const n=new Map,r={set(p,u,h){n.has(p)||n.set(p,new Map);const g=n.get(p);if(!g.has(u)&&g.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(g.keys())[0]}.`);return}g.set(u,h)},get(p,u){return n.has(p)&&n.get(p).get(u)||null},remove(p,u){if(!n.has(p))return;const h=n.get(p);h.delete(u),h.size===0&&n.delete(p)}},i=1e6,s=1e3,o="transitionend",a=p=>(p&&window.CSS&&window.CSS.escape&&(p=p.replace(/#([^\s"#']+)/g,(u,h)=>`#${CSS.escape(h)}`)),p),l=p=>p==null?`${p}`:Object.prototype.toString.call(p).match(/\s([a-z]+)/i)[1].toLowerCase(),c=p=>{do p+=Math.floor(Math.random()*i);while(document.getElementById(p));return p},d=p=>{if(!p)return 0;let{transitionDuration:u,transitionDelay:h}=window.getComputedStyle(p);const g=Number.parseFloat(u),w=Number.parseFloat(h);return!g&&!w?0:(u=u.split(",")[0],h=h.split(",")[0],(Number.parseFloat(u)+Number.parseFloat(h))*s)},f=p=>{p.dispatchEvent(new Event(o))},m=p=>!p||typeof p!="object"?!1:(typeof p.jquery<"u"&&(p=p[0]),typeof p.nodeType<"u"),v=p=>m(p)?p.jquery?p[0]:p:typeof p=="string"&&p.length>0?document.querySelector(a(p)):null,b=p=>{if(!m(p)||p.getClientRects().length===0)return!1;const u=getComputedStyle(p).getPropertyValue("visibility")==="visible",h=p.closest("details:not([open])");if(!h)return u;if(h!==p){const g=p.closest("summary");if(g&&g.parentNode!==h||g===null)return!1}return u},I=p=>!p||p.nodeType!==Node.ELEMENT_NODE||p.classList.contains("disabled")?!0:typeof p.disabled<"u"?p.disabled:p.hasAttribute("disabled")&&p.getAttribute("disabled")!=="false",_=p=>{if(!document.documentElement.attachShadow)return null;if(typeof p.getRootNode=="function"){const u=p.getRootNode();return u instanceof ShadowRoot?u:null}return p instanceof ShadowRoot?p:p.parentNode?_(p.parentNode):null},y=()=>{},T=p=>{p.offsetHeight},A=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,E=[],N=p=>{document.readyState==="loading"?(E.length||document.addEventListener("DOMContentLoaded",()=>{for(const u of E)u()}),E.push(p)):p()},O=()=>document.documentElement.dir==="rtl",L=p=>{N(()=>{const u=A();if(u){const h=p.NAME,g=u.fn[h];u.fn[h]=p.jQueryInterface,u.fn[h].Constructor=p,u.fn[h].noConflict=()=>(u.fn[h]=g,p.jQueryInterface)}})},G=(p,u=[],h=p)=>typeof p=="function"?p(...u):h,H=(p,u,h=!0)=>{if(!h){G(p);return}const g=5,w=d(u)+g;let P=!1;const C=({target:M})=>{M===u&&(P=!0,u.removeEventListener(o,C),G(p))};u.addEventListener(o,C),setTimeout(()=>{P||f(u)},w)},Ce=(p,u,h,g)=>{const w=p.length;let P=p.indexOf(u);return P===-1?!h&&g?p[w-1]:p[0]:(P+=h?1:-1,g&&(P=(P+w)%w),p[Math.max(0,Math.min(P,w-1))])},De=/[^.]*(?=\..*)\.|.*/,pt=/\..*/,un=/::\d+$/,Ke={};let ye=1;const cr={mouseenter:"mouseover",mouseleave:"mouseout"},En=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function wn(p,u){return u&&`${u}::${ye++}`||p.uidEvent||ye++}function Qt(p){const u=wn(p);return p.uidEvent=u,Ke[u]=Ke[u]||{},Ke[u]}function dr(p,u){return function h(g){return Ze(g,{delegateTarget:p}),h.oneOff&&V.off(p,g.type,u),u.apply(p,[g])}}function Sr(p,u,h){return function g(w){const P=p.querySelectorAll(u);for(let{target:C}=w;C&&C!==this;C=C.parentNode)for(const M of P)if(M===C)return Ze(w,{delegateTarget:C}),g.oneOff&&V.off(p,w.type,u,h),h.apply(C,[w])}}function Tn(p,u,h=null){return Object.values(p).find(g=>g.callable===u&&g.delegationSelector===h)}function hr(p,u,h){const g=typeof u=="string",w=g?h:u||h;let P=Ge(p);return En.has(P)||(P=p),[g,w,P]}function q(p,u,h,g,w){if(typeof u!="string"||!p)return;let[P,C,M]=hr(u,h,g);u in cr&&(C=(Qe=>function(Se){if(!Se.relatedTarget||Se.relatedTarget!==Se.delegateTarget&&!Se.delegateTarget.contains(Se.relatedTarget))return Qe.call(this,Se)})(C));const B=Qt(p),te=B[M]||(B[M]={}),K=Tn(te,C,P?h:null);if(K){K.oneOff=K.oneOff&&w;return}const Te=wn(C,u.replace(De,"")),Ae=P?Sr(p,h,C):dr(p,C);Ae.delegationSelector=P?h:null,Ae.callable=C,Ae.oneOff=w,Ae.uidEvent=Te,te[Te]=Ae,p.addEventListener(M,Ae,P)}function ie(p,u,h,g,w){const P=Tn(u[h],g,w);P&&(p.removeEventListener(h,P,!!w),delete u[h][P.uidEvent])}function be(p,u,h,g){const w=u[h]||{};for(const[P,C]of Object.entries(w))P.includes(g)&&ie(p,u,h,C.callable,C.delegationSelector)}function Ge(p){return p=p.replace(pt,""),cr[p]||p}const V={on(p,u,h,g){q(p,u,h,g,!1)},one(p,u,h,g){q(p,u,h,g,!0)},off(p,u,h,g){if(typeof u!="string"||!p)return;const[w,P,C]=hr(u,h,g),M=C!==u,B=Qt(p),te=B[C]||{},K=u.startsWith(".");if(typeof P<"u"){if(!Object.keys(te).length)return;ie(p,B,C,P,w?h:null);return}if(K)for(const Te of Object.keys(B))be(p,B,Te,u.slice(1));for(const[Te,Ae]of Object.entries(te)){const me=Te.replace(un,"");(!M||u.includes(me))&&ie(p,B,C,Ae.callable,Ae.delegationSelector)}},trigger(p,u,h){if(typeof u!="string"||!p)return null;const g=A(),w=Ge(u),P=u!==w;let C=null,M=!0,B=!0,te=!1;P&&g&&(C=g.Event(u,h),g(p).trigger(C),M=!C.isPropagationStopped(),B=!C.isImmediatePropagationStopped(),te=C.isDefaultPrevented());const K=Ze(new Event(u,{bubbles:M,cancelable:!0}),h);return te&&K.preventDefault(),B&&p.dispatchEvent(K),K.defaultPrevented&&C&&C.preventDefault(),K}};function Ze(p,u={}){for(const[h,g]of Object.entries(u))try{p[h]=g}catch{Object.defineProperty(p,h,{configurable:!0,get(){return g}})}return p}function cn(p){if(p==="true")return!0;if(p==="false")return!1;if(p===Number(p).toString())return Number(p);if(p===""||p==="null")return null;if(typeof p!="string")return p;try{return JSON.parse(decodeURIComponent(p))}catch{return p}}function fr(p){return p.replace(/[A-Z]/g,u=>`-${u.toLowerCase()}`)}const Ft={setDataAttribute(p,u,h){p.setAttribute(`data-bs-${fr(u)}`,h)},removeDataAttribute(p,u){p.removeAttribute(`data-bs-${fr(u)}`)},getDataAttributes(p){if(!p)return{};const u={},h=Object.keys(p.dataset).filter(g=>g.startsWith("bs")&&!g.startsWith("bsConfig"));for(const g of h){let w=g.replace(/^bs/,"");w=w.charAt(0).toLowerCase()+w.slice(1,w.length),u[w]=cn(p.dataset[g])}return u},getDataAttribute(p,u){return cn(p.getAttribute(`data-bs-${fr(u)}`))}};class qn{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(u){return u=this._mergeConfigObj(u),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}_configAfterMerge(u){return u}_mergeConfigObj(u,h){const g=m(h)?Ft.getDataAttribute(h,"config"):{};return{...this.constructor.Default,...typeof g=="object"?g:{},...m(h)?Ft.getDataAttributes(h):{},...typeof u=="object"?u:{}}}_typeCheckConfig(u,h=this.constructor.DefaultType){for(const[g,w]of Object.entries(h)){const P=u[g],C=m(P)?"element":l(P);if(!new RegExp(w).test(C))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${g}" provided type "${C}" but expected type "${w}".`)}}}const Kg="5.3.2";class Hn extends qn{constructor(u,h){super(),u=v(u),u&&(this._element=u,this._config=this._getConfig(h),r.set(this._element,this.constructor.DATA_KEY,this))}dispose(){r.remove(this._element,this.constructor.DATA_KEY),V.off(this._element,this.constructor.EVENT_KEY);for(const u of Object.getOwnPropertyNames(this))this[u]=null}_queueCallback(u,h,g=!0){H(u,h,g)}_getConfig(u){return u=this._mergeConfigObj(u,this._element),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}static getInstance(u){return r.get(v(u),this.DATA_KEY)}static getOrCreateInstance(u,h={}){return this.getInstance(u)||new this(u,typeof h=="object"?h:null)}static get VERSION(){return Kg}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(u){return`${u}${this.EVENT_KEY}`}}const Ru=p=>{let u=p.getAttribute("data-bs-target");if(!u||u==="#"){let h=p.getAttribute("href");if(!h||!h.includes("#")&&!h.startsWith("."))return null;h.includes("#")&&!h.startsWith("#")&&(h=`#${h.split("#")[1]}`),u=h&&h!=="#"?a(h.trim()):null}return u},ue={find(p,u=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(u,p))},findOne(p,u=document.documentElement){return Element.prototype.querySelector.call(u,p)},children(p,u){return[].concat(...p.children).filter(h=>h.matches(u))},parents(p,u){const h=[];let g=p.parentNode.closest(u);for(;g;)h.push(g),g=g.parentNode.closest(u);return h},prev(p,u){let h=p.previousElementSibling;for(;h;){if(h.matches(u))return[h];h=h.previousElementSibling}return[]},next(p,u){let h=p.nextElementSibling;for(;h;){if(h.matches(u))return[h];h=h.nextElementSibling}return[]},focusableChildren(p){const u=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(h=>`${h}:not([tabindex^="-"])`).join(",");return this.find(u,p).filter(h=>!I(h)&&b(h))},getSelectorFromElement(p){const u=Ru(p);return u&&ue.findOne(u)?u:null},getElementFromSelector(p){const u=Ru(p);return u?ue.findOne(u):null},getMultipleElementsFromSelector(p){const u=Ru(p);return u?ue.find(u):[]}},Oa=(p,u="hide")=>{const h=`click.dismiss${p.EVENT_KEY}`,g=p.NAME;V.on(document,h,`[data-bs-dismiss="${g}"]`,function(w){if(["A","AREA"].includes(this.tagName)&&w.preventDefault(),I(this))return;const P=ue.getElementFromSelector(this)||this.closest(`.${g}`);p.getOrCreateInstance(P)[u]()})},oo="alert",La=".bs.alert",Br=`close${La}`,ao=`closed${La}`,Vh="fade",Va="show";class lo extends Hn{static get NAME(){return oo}close(){if(V.trigger(this._element,Br).defaultPrevented)return;this._element.classList.remove(Va);const h=this._element.classList.contains(Vh);this._queueCallback(()=>this._destroyElement(),this._element,h)}_destroyElement(){this._element.remove(),V.trigger(this._element,ao),this.dispose()}static jQueryInterface(u){return this.each(function(){const h=lo.getOrCreateInstance(this);if(typeof u=="string"){if(h[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);h[u](this)}})}}Oa(lo,"close"),L(lo);const zr="button",Mh=".bs.button",Fh=".data-api",Qg="active",Cu='[data-bs-toggle="button"]',Ma=`click${Mh}${Fh}`;class Ji extends Hn{static get NAME(){return zr}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Qg))}static jQueryInterface(u){return this.each(function(){const h=Ji.getOrCreateInstance(this);u==="toggle"&&h[u]()})}}V.on(document,Ma,Cu,p=>{p.preventDefault();const u=p.target.closest(Cu);Ji.getOrCreateInstance(u).toggle()}),L(Ji);const ku="swipe",Zi=".bs.swipe",$h=`touchstart${Zi}`,Xg=`touchmove${Zi}`,Uh=`touchend${Zi}`,Jg=`pointerdown${Zi}`,S=`pointerup${Zi}`,x="touch",F="pen",Q="pointer-event",ne=40,Ee={endCallback:null,leftCallback:null,rightCallback:null},he={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class ce extends qn{constructor(u,h){super(),this._element=u,!(!u||!ce.isSupported())&&(this._config=this._getConfig(h),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Ee}static get DefaultType(){return he}static get NAME(){return ku}dispose(){V.off(this._element,Zi)}_start(u){if(!this._supportPointerEvents){this._deltaX=u.touches[0].clientX;return}this._eventIsPointerPenTouch(u)&&(this._deltaX=u.clientX)}_end(u){this._eventIsPointerPenTouch(u)&&(this._deltaX=u.clientX-this._deltaX),this._handleSwipe(),G(this._config.endCallback)}_move(u){this._deltaX=u.touches&&u.touches.length>1?0:u.touches[0].clientX-this._deltaX}_handleSwipe(){const u=Math.abs(this._deltaX);if(u<=ne)return;const h=u/this._deltaX;this._deltaX=0,h&&G(h>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(V.on(this._element,Jg,u=>this._start(u)),V.on(this._element,S,u=>this._end(u)),this._element.classList.add(Q)):(V.on(this._element,$h,u=>this._start(u)),V.on(this._element,Xg,u=>this._move(u)),V.on(this._element,Uh,u=>this._end(u)))}_eventIsPointerPenTouch(u){return this._supportPointerEvents&&(u.pointerType===F||u.pointerType===x)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const le="carousel",Ye=".bs.carousel",we=".data-api",Be="ArrowLeft",et="ArrowRight",Xt=500,dn="next",pr="prev",Wr="left",Pr="right",Kn=`slide${Ye}`,es=`slid${Ye}`,xu=`keydown${Ye}`,Nu=`mouseenter${Ye}`,Du=`mouseleave${Ye}`,ts=`dragstart${Ye}`,ze=`load${Ye}${we}`,Ln=`click${Ye}${we}`,ct="carousel",mr="active",jh="slide",Zg="carousel-item-end",BL="carousel-item-start",zL="carousel-item-next",WL="carousel-item-prev",qI=".active",HI=".carousel-item",qL=qI+HI,HL=".carousel-item img",KL=".carousel-indicators",GL="[data-bs-slide], [data-bs-slide-to]",YL='[data-bs-ride="carousel"]',QL={[Be]:Pr,[et]:Wr},XL={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},JL={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Fa extends Hn{constructor(u,h){super(u,h),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ue.findOne(KL,this._element),this._addEventListeners(),this._config.ride===ct&&this.cycle()}static get Default(){return XL}static get DefaultType(){return JL}static get NAME(){return le}next(){this._slide(dn)}nextWhenVisible(){!document.hidden&&b(this._element)&&this.next()}prev(){this._slide(pr)}pause(){this._isSliding&&f(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){V.one(this._element,es,()=>this.cycle());return}this.cycle()}}to(u){const h=this._getItems();if(u>h.length-1||u<0)return;if(this._isSliding){V.one(this._element,es,()=>this.to(u));return}const g=this._getItemIndex(this._getActive());if(g===u)return;const w=u>g?dn:pr;this._slide(w,h[u])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(u){return u.defaultInterval=u.interval,u}_addEventListeners(){this._config.keyboard&&V.on(this._element,xu,u=>this._keydown(u)),this._config.pause==="hover"&&(V.on(this._element,Nu,()=>this.pause()),V.on(this._element,Du,()=>this._maybeEnableCycle())),this._config.touch&&ce.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const g of ue.find(HL,this._element))V.on(g,ts,w=>w.preventDefault());const h={leftCallback:()=>this._slide(this._directionToOrder(Wr)),rightCallback:()=>this._slide(this._directionToOrder(Pr)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),Xt+this._config.interval))}};this._swipeHelper=new ce(this._element,h)}_keydown(u){if(/input|textarea/i.test(u.target.tagName))return;const h=QL[u.key];h&&(u.preventDefault(),this._slide(this._directionToOrder(h)))}_getItemIndex(u){return this._getItems().indexOf(u)}_setActiveIndicatorElement(u){if(!this._indicatorsElement)return;const h=ue.findOne(qI,this._indicatorsElement);h.classList.remove(mr),h.removeAttribute("aria-current");const g=ue.findOne(`[data-bs-slide-to="${u}"]`,this._indicatorsElement);g&&(g.classList.add(mr),g.setAttribute("aria-current","true"))}_updateInterval(){const u=this._activeElement||this._getActive();if(!u)return;const h=Number.parseInt(u.getAttribute("data-bs-interval"),10);this._config.interval=h||this._config.defaultInterval}_slide(u,h=null){if(this._isSliding)return;const g=this._getActive(),w=u===dn,P=h||Ce(this._getItems(),g,w,this._config.wrap);if(P===g)return;const C=this._getItemIndex(P),M=me=>V.trigger(this._element,me,{relatedTarget:P,direction:this._orderToDirection(u),from:this._getItemIndex(g),to:C});if(M(Kn).defaultPrevented||!g||!P)return;const te=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(C),this._activeElement=P;const K=w?BL:Zg,Te=w?zL:WL;P.classList.add(Te),T(P),g.classList.add(K),P.classList.add(K);const Ae=()=>{P.classList.remove(K,Te),P.classList.add(mr),g.classList.remove(mr,Te,K),this._isSliding=!1,M(es)};this._queueCallback(Ae,g,this._isAnimated()),te&&this.cycle()}_isAnimated(){return this._element.classList.contains(jh)}_getActive(){return ue.findOne(qL,this._element)}_getItems(){return ue.find(HI,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(u){return O()?u===Wr?pr:dn:u===Wr?dn:pr}_orderToDirection(u){return O()?u===pr?Wr:Pr:u===pr?Pr:Wr}static jQueryInterface(u){return this.each(function(){const h=Fa.getOrCreateInstance(this,u);if(typeof u=="number"){h.to(u);return}if(typeof u=="string"){if(h[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);h[u]()}})}}V.on(document,Ln,GL,function(p){const u=ue.getElementFromSelector(this);if(!u||!u.classList.contains(ct))return;p.preventDefault();const h=Fa.getOrCreateInstance(u),g=this.getAttribute("data-bs-slide-to");if(g){h.to(g),h._maybeEnableCycle();return}if(Ft.getDataAttribute(this,"slide")==="next"){h.next(),h._maybeEnableCycle();return}h.prev(),h._maybeEnableCycle()}),V.on(window,ze,()=>{const p=ue.find(YL);for(const u of p)Fa.getOrCreateInstance(u)}),L(Fa);const ZL="collapse",Ou=".bs.collapse",eV=".data-api",tV=`show${Ou}`,nV=`shown${Ou}`,rV=`hide${Ou}`,iV=`hidden${Ou}`,sV=`click${Ou}${eV}`,e_="show",$a="collapse",Bh="collapsing",oV="collapsed",aV=`:scope .${$a} .${$a}`,lV="collapse-horizontal",uV="width",cV="height",dV=".collapse.show, .collapse.collapsing",t_='[data-bs-toggle="collapse"]',hV={parent:null,toggle:!0},fV={parent:"(null|element)",toggle:"boolean"};class Ua extends Hn{constructor(u,h){super(u,h),this._isTransitioning=!1,this._triggerArray=[];const g=ue.find(t_);for(const w of g){const P=ue.getSelectorFromElement(w),C=ue.find(P).filter(M=>M===this._element);P!==null&&C.length&&this._triggerArray.push(w)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return hV}static get DefaultType(){return fV}static get NAME(){return ZL}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let u=[];if(this._config.parent&&(u=this._getFirstLevelChildren(dV).filter(M=>M!==this._element).map(M=>Ua.getOrCreateInstance(M,{toggle:!1}))),u.length&&u[0]._isTransitioning||V.trigger(this._element,tV).defaultPrevented)return;for(const M of u)M.hide();const g=this._getDimension();this._element.classList.remove($a),this._element.classList.add(Bh),this._element.style[g]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const w=()=>{this._isTransitioning=!1,this._element.classList.remove(Bh),this._element.classList.add($a,e_),this._element.style[g]="",V.trigger(this._element,nV)},C=`scroll${g[0].toUpperCase()+g.slice(1)}`;this._queueCallback(w,this._element,!0),this._element.style[g]=`${this._element[C]}px`}hide(){if(this._isTransitioning||!this._isShown()||V.trigger(this._element,rV).defaultPrevented)return;const h=this._getDimension();this._element.style[h]=`${this._element.getBoundingClientRect()[h]}px`,T(this._element),this._element.classList.add(Bh),this._element.classList.remove($a,e_);for(const w of this._triggerArray){const P=ue.getElementFromSelector(w);P&&!this._isShown(P)&&this._addAriaAndCollapsedClass([w],!1)}this._isTransitioning=!0;const g=()=>{this._isTransitioning=!1,this._element.classList.remove(Bh),this._element.classList.add($a),V.trigger(this._element,iV)};this._element.style[h]="",this._queueCallback(g,this._element,!0)}_isShown(u=this._element){return u.classList.contains(e_)}_configAfterMerge(u){return u.toggle=!!u.toggle,u.parent=v(u.parent),u}_getDimension(){return this._element.classList.contains(lV)?uV:cV}_initializeChildren(){if(!this._config.parent)return;const u=this._getFirstLevelChildren(t_);for(const h of u){const g=ue.getElementFromSelector(h);g&&this._addAriaAndCollapsedClass([h],this._isShown(g))}}_getFirstLevelChildren(u){const h=ue.find(aV,this._config.parent);return ue.find(u,this._config.parent).filter(g=>!h.includes(g))}_addAriaAndCollapsedClass(u,h){if(u.length)for(const g of u)g.classList.toggle(oV,!h),g.setAttribute("aria-expanded",h)}static jQueryInterface(u){const h={};return typeof u=="string"&&/show|hide/.test(u)&&(h.toggle=!1),this.each(function(){const g=Ua.getOrCreateInstance(this,h);if(typeof u=="string"){if(typeof g[u]>"u")throw new TypeError(`No method named "${u}"`);g[u]()}})}}V.on(document,sV,t_,function(p){(p.target.tagName==="A"||p.delegateTarget&&p.delegateTarget.tagName==="A")&&p.preventDefault();for(const u of ue.getMultipleElementsFromSelector(this))Ua.getOrCreateInstance(u,{toggle:!1}).toggle()}),L(Ua);var In="top",Gn="bottom",Yn="right",bn="left",zh="auto",ja=[In,Gn,Yn,bn],uo="start",Ba="end",KI="clippingParents",n_="viewport",za="popper",GI="reference",r_=ja.reduce(function(p,u){return p.concat([u+"-"+uo,u+"-"+Ba])},[]),i_=[].concat(ja,[zh]).reduce(function(p,u){return p.concat([u,u+"-"+uo,u+"-"+Ba])},[]),YI="beforeRead",QI="read",XI="afterRead",JI="beforeMain",ZI="main",e0="afterMain",t0="beforeWrite",n0="write",r0="afterWrite",i0=[YI,QI,XI,JI,ZI,e0,t0,n0,r0];function qr(p){return p?(p.nodeName||"").toLowerCase():null}function Qn(p){if(p==null)return window;if(p.toString()!=="[object Window]"){var u=p.ownerDocument;return u&&u.defaultView||window}return p}function co(p){var u=Qn(p).Element;return p instanceof u||p instanceof Element}function gr(p){var u=Qn(p).HTMLElement;return p instanceof u||p instanceof HTMLElement}function s_(p){if(typeof ShadowRoot>"u")return!1;var u=Qn(p).ShadowRoot;return p instanceof u||p instanceof ShadowRoot}function pV(p){var u=p.state;Object.keys(u.elements).forEach(function(h){var g=u.styles[h]||{},w=u.attributes[h]||{},P=u.elements[h];!gr(P)||!qr(P)||(Object.assign(P.style,g),Object.keys(w).forEach(function(C){var M=w[C];M===!1?P.removeAttribute(C):P.setAttribute(C,M===!0?"":M)}))})}function mV(p){var u=p.state,h={popper:{position:u.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(u.elements.popper.style,h.popper),u.styles=h,u.elements.arrow&&Object.assign(u.elements.arrow.style,h.arrow),function(){Object.keys(u.elements).forEach(function(g){var w=u.elements[g],P=u.attributes[g]||{},C=Object.keys(u.styles.hasOwnProperty(g)?u.styles[g]:h[g]),M=C.reduce(function(B,te){return B[te]="",B},{});!gr(w)||!qr(w)||(Object.assign(w.style,M),Object.keys(P).forEach(function(B){w.removeAttribute(B)}))})}}const o_={name:"applyStyles",enabled:!0,phase:"write",fn:pV,effect:mV,requires:["computeStyles"]};function Hr(p){return p.split("-")[0]}var ho=Math.max,Wh=Math.min,Wa=Math.round;function a_(){var p=navigator.userAgentData;return p!=null&&p.brands&&Array.isArray(p.brands)?p.brands.map(function(u){return u.brand+"/"+u.version}).join(" "):navigator.userAgent}function s0(){return!/^((?!chrome|android).)*safari/i.test(a_())}function qa(p,u,h){u===void 0&&(u=!1),h===void 0&&(h=!1);var g=p.getBoundingClientRect(),w=1,P=1;u&&gr(p)&&(w=p.offsetWidth>0&&Wa(g.width)/p.offsetWidth||1,P=p.offsetHeight>0&&Wa(g.height)/p.offsetHeight||1);var C=co(p)?Qn(p):window,M=C.visualViewport,B=!s0()&&h,te=(g.left+(B&&M?M.offsetLeft:0))/w,K=(g.top+(B&&M?M.offsetTop:0))/P,Te=g.width/w,Ae=g.height/P;return{width:Te,height:Ae,top:K,right:te+Te,bottom:K+Ae,left:te,x:te,y:K}}function l_(p){var u=qa(p),h=p.offsetWidth,g=p.offsetHeight;return Math.abs(u.width-h)<=1&&(h=u.width),Math.abs(u.height-g)<=1&&(g=u.height),{x:p.offsetLeft,y:p.offsetTop,width:h,height:g}}function o0(p,u){var h=u.getRootNode&&u.getRootNode();if(p.contains(u))return!0;if(h&&s_(h)){var g=u;do{if(g&&p.isSameNode(g))return!0;g=g.parentNode||g.host}while(g)}return!1}function Ei(p){return Qn(p).getComputedStyle(p)}function gV(p){return["table","td","th"].indexOf(qr(p))>=0}function ns(p){return((co(p)?p.ownerDocument:p.document)||window.document).documentElement}function qh(p){return qr(p)==="html"?p:p.assignedSlot||p.parentNode||(s_(p)?p.host:null)||ns(p)}function a0(p){return!gr(p)||Ei(p).position==="fixed"?null:p.offsetParent}function _V(p){var u=/firefox/i.test(a_()),h=/Trident/i.test(a_());if(h&&gr(p)){var g=Ei(p);if(g.position==="fixed")return null}var w=qh(p);for(s_(w)&&(w=w.host);gr(w)&&["html","body"].indexOf(qr(w))<0;){var P=Ei(w);if(P.transform!=="none"||P.perspective!=="none"||P.contain==="paint"||["transform","perspective"].indexOf(P.willChange)!==-1||u&&P.willChange==="filter"||u&&P.filter&&P.filter!=="none")return w;w=w.parentNode}return null}function Lu(p){for(var u=Qn(p),h=a0(p);h&&gV(h)&&Ei(h).position==="static";)h=a0(h);return h&&(qr(h)==="html"||qr(h)==="body"&&Ei(h).position==="static")?u:h||_V(p)||u}function u_(p){return["top","bottom"].indexOf(p)>=0?"x":"y"}function Vu(p,u,h){return ho(p,Wh(u,h))}function vV(p,u,h){var g=Vu(p,u,h);return g>h?h:g}function l0(){return{top:0,right:0,bottom:0,left:0}}function u0(p){return Object.assign({},l0(),p)}function c0(p,u){return u.reduce(function(h,g){return h[g]=p,h},{})}var yV=function(u,h){return u=typeof u=="function"?u(Object.assign({},h.rects,{placement:h.placement})):u,u0(typeof u!="number"?u:c0(u,ja))};function EV(p){var u,h=p.state,g=p.name,w=p.options,P=h.elements.arrow,C=h.modifiersData.popperOffsets,M=Hr(h.placement),B=u_(M),te=[bn,Yn].indexOf(M)>=0,K=te?"height":"width";if(!(!P||!C)){var Te=yV(w.padding,h),Ae=l_(P),me=B==="y"?In:bn,Qe=B==="y"?Gn:Yn,Se=h.rects.reference[K]+h.rects.reference[B]-C[B]-h.rects.popper[K],Fe=C[B]-h.rects.reference[B],tt=Lu(P),At=tt?B==="y"?tt.clientHeight||0:tt.clientWidth||0:0,St=Se/2-Fe/2,ke=Te[me],We=At-Ae[K]-Te[Qe],qe=At/2-Ae[K]/2+St,mt=Vu(ke,qe,We),Jt=B;h.modifiersData[g]=(u={},u[Jt]=mt,u.centerOffset=mt-qe,u)}}function wV(p){var u=p.state,h=p.options,g=h.element,w=g===void 0?"[data-popper-arrow]":g;w!=null&&(typeof w=="string"&&(w=u.elements.popper.querySelector(w),!w)||o0(u.elements.popper,w)&&(u.elements.arrow=w))}const d0={name:"arrow",enabled:!0,phase:"main",fn:EV,effect:wV,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ha(p){return p.split("-")[1]}var TV={top:"auto",right:"auto",bottom:"auto",left:"auto"};function IV(p,u){var h=p.x,g=p.y,w=u.devicePixelRatio||1;return{x:Wa(h*w)/w||0,y:Wa(g*w)/w||0}}function h0(p){var u,h=p.popper,g=p.popperRect,w=p.placement,P=p.variation,C=p.offsets,M=p.position,B=p.gpuAcceleration,te=p.adaptive,K=p.roundOffsets,Te=p.isFixed,Ae=C.x,me=Ae===void 0?0:Ae,Qe=C.y,Se=Qe===void 0?0:Qe,Fe=typeof K=="function"?K({x:me,y:Se}):{x:me,y:Se};me=Fe.x,Se=Fe.y;var tt=C.hasOwnProperty("x"),At=C.hasOwnProperty("y"),St=bn,ke=In,We=window;if(te){var qe=Lu(h),mt="clientHeight",Jt="clientWidth";if(qe===Qn(h)&&(qe=ns(h),Ei(qe).position!=="static"&&M==="absolute"&&(mt="scrollHeight",Jt="scrollWidth")),qe=qe,w===In||(w===bn||w===Yn)&&P===Ba){ke=Gn;var $t=Te&&qe===We&&We.visualViewport?We.visualViewport.height:qe[mt];Se-=$t-g.height,Se*=B?1:-1}if(w===bn||(w===In||w===Gn)&&P===Ba){St=Yn;var Ot=Te&&qe===We&&We.visualViewport?We.visualViewport.width:qe[Jt];me-=Ot-g.width,me*=B?1:-1}}var hn=Object.assign({position:M},te&&TV),Cr=K===!0?IV({x:me,y:Se},Qn(h)):{x:me,y:Se};if(me=Cr.x,Se=Cr.y,B){var An;return Object.assign({},hn,(An={},An[ke]=At?"0":"",An[St]=tt?"0":"",An.transform=(We.devicePixelRatio||1)<=1?"translate("+me+"px, "+Se+"px)":"translate3d("+me+"px, "+Se+"px, 0)",An))}return Object.assign({},hn,(u={},u[ke]=At?Se+"px":"",u[St]=tt?me+"px":"",u.transform="",u))}function bV(p){var u=p.state,h=p.options,g=h.gpuAcceleration,w=g===void 0?!0:g,P=h.adaptive,C=P===void 0?!0:P,M=h.roundOffsets,B=M===void 0?!0:M,te={placement:Hr(u.placement),variation:Ha(u.placement),popper:u.elements.popper,popperRect:u.rects.popper,gpuAcceleration:w,isFixed:u.options.strategy==="fixed"};u.modifiersData.popperOffsets!=null&&(u.styles.popper=Object.assign({},u.styles.popper,h0(Object.assign({},te,{offsets:u.modifiersData.popperOffsets,position:u.options.strategy,adaptive:C,roundOffsets:B})))),u.modifiersData.arrow!=null&&(u.styles.arrow=Object.assign({},u.styles.arrow,h0(Object.assign({},te,{offsets:u.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:B})))),u.attributes.popper=Object.assign({},u.attributes.popper,{"data-popper-placement":u.placement})}const c_={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:bV,data:{}};var Hh={passive:!0};function AV(p){var u=p.state,h=p.instance,g=p.options,w=g.scroll,P=w===void 0?!0:w,C=g.resize,M=C===void 0?!0:C,B=Qn(u.elements.popper),te=[].concat(u.scrollParents.reference,u.scrollParents.popper);return P&&te.forEach(function(K){K.addEventListener("scroll",h.update,Hh)}),M&&B.addEventListener("resize",h.update,Hh),function(){P&&te.forEach(function(K){K.removeEventListener("scroll",h.update,Hh)}),M&&B.removeEventListener("resize",h.update,Hh)}}const d_={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:AV,data:{}};var SV={left:"right",right:"left",bottom:"top",top:"bottom"};function Kh(p){return p.replace(/left|right|bottom|top/g,function(u){return SV[u]})}var PV={start:"end",end:"start"};function f0(p){return p.replace(/start|end/g,function(u){return PV[u]})}function h_(p){var u=Qn(p),h=u.pageXOffset,g=u.pageYOffset;return{scrollLeft:h,scrollTop:g}}function f_(p){return qa(ns(p)).left+h_(p).scrollLeft}function RV(p,u){var h=Qn(p),g=ns(p),w=h.visualViewport,P=g.clientWidth,C=g.clientHeight,M=0,B=0;if(w){P=w.width,C=w.height;var te=s0();(te||!te&&u==="fixed")&&(M=w.offsetLeft,B=w.offsetTop)}return{width:P,height:C,x:M+f_(p),y:B}}function CV(p){var u,h=ns(p),g=h_(p),w=(u=p.ownerDocument)==null?void 0:u.body,P=ho(h.scrollWidth,h.clientWidth,w?w.scrollWidth:0,w?w.clientWidth:0),C=ho(h.scrollHeight,h.clientHeight,w?w.scrollHeight:0,w?w.clientHeight:0),M=-g.scrollLeft+f_(p),B=-g.scrollTop;return Ei(w||h).direction==="rtl"&&(M+=ho(h.clientWidth,w?w.clientWidth:0)-P),{width:P,height:C,x:M,y:B}}function p_(p){var u=Ei(p),h=u.overflow,g=u.overflowX,w=u.overflowY;return/auto|scroll|overlay|hidden/.test(h+w+g)}function p0(p){return["html","body","#document"].indexOf(qr(p))>=0?p.ownerDocument.body:gr(p)&&p_(p)?p:p0(qh(p))}function Mu(p,u){var h;u===void 0&&(u=[]);var g=p0(p),w=g===((h=p.ownerDocument)==null?void 0:h.body),P=Qn(g),C=w?[P].concat(P.visualViewport||[],p_(g)?g:[]):g,M=u.concat(C);return w?M:M.concat(Mu(qh(C)))}function m_(p){return Object.assign({},p,{left:p.x,top:p.y,right:p.x+p.width,bottom:p.y+p.height})}function kV(p,u){var h=qa(p,!1,u==="fixed");return h.top=h.top+p.clientTop,h.left=h.left+p.clientLeft,h.bottom=h.top+p.clientHeight,h.right=h.left+p.clientWidth,h.width=p.clientWidth,h.height=p.clientHeight,h.x=h.left,h.y=h.top,h}function m0(p,u,h){return u===n_?m_(RV(p,h)):co(u)?kV(u,h):m_(CV(ns(p)))}function xV(p){var u=Mu(qh(p)),h=["absolute","fixed"].indexOf(Ei(p).position)>=0,g=h&&gr(p)?Lu(p):p;return co(g)?u.filter(function(w){return co(w)&&o0(w,g)&&qr(w)!=="body"}):[]}function NV(p,u,h,g){var w=u==="clippingParents"?xV(p):[].concat(u),P=[].concat(w,[h]),C=P[0],M=P.reduce(function(B,te){var K=m0(p,te,g);return B.top=ho(K.top,B.top),B.right=Wh(K.right,B.right),B.bottom=Wh(K.bottom,B.bottom),B.left=ho(K.left,B.left),B},m0(p,C,g));return M.width=M.right-M.left,M.height=M.bottom-M.top,M.x=M.left,M.y=M.top,M}function g0(p){var u=p.reference,h=p.element,g=p.placement,w=g?Hr(g):null,P=g?Ha(g):null,C=u.x+u.width/2-h.width/2,M=u.y+u.height/2-h.height/2,B;switch(w){case In:B={x:C,y:u.y-h.height};break;case Gn:B={x:C,y:u.y+u.height};break;case Yn:B={x:u.x+u.width,y:M};break;case bn:B={x:u.x-h.width,y:M};break;default:B={x:u.x,y:u.y}}var te=w?u_(w):null;if(te!=null){var K=te==="y"?"height":"width";switch(P){case uo:B[te]=B[te]-(u[K]/2-h[K]/2);break;case Ba:B[te]=B[te]+(u[K]/2-h[K]/2);break}}return B}function Ka(p,u){u===void 0&&(u={});var h=u,g=h.placement,w=g===void 0?p.placement:g,P=h.strategy,C=P===void 0?p.strategy:P,M=h.boundary,B=M===void 0?KI:M,te=h.rootBoundary,K=te===void 0?n_:te,Te=h.elementContext,Ae=Te===void 0?za:Te,me=h.altBoundary,Qe=me===void 0?!1:me,Se=h.padding,Fe=Se===void 0?0:Se,tt=u0(typeof Fe!="number"?Fe:c0(Fe,ja)),At=Ae===za?GI:za,St=p.rects.popper,ke=p.elements[Qe?At:Ae],We=NV(co(ke)?ke:ke.contextElement||ns(p.elements.popper),B,K,C),qe=qa(p.elements.reference),mt=g0({reference:qe,element:St,strategy:"absolute",placement:w}),Jt=m_(Object.assign({},St,mt)),$t=Ae===za?Jt:qe,Ot={top:We.top-$t.top+tt.top,bottom:$t.bottom-We.bottom+tt.bottom,left:We.left-$t.left+tt.left,right:$t.right-We.right+tt.right},hn=p.modifiersData.offset;if(Ae===za&&hn){var Cr=hn[w];Object.keys(Ot).forEach(function(An){var Eo=[Yn,Gn].indexOf(An)>=0?1:-1,wo=[In,Gn].indexOf(An)>=0?"y":"x";Ot[An]+=Cr[wo]*Eo})}return Ot}function DV(p,u){u===void 0&&(u={});var h=u,g=h.placement,w=h.boundary,P=h.rootBoundary,C=h.padding,M=h.flipVariations,B=h.allowedAutoPlacements,te=B===void 0?i_:B,K=Ha(g),Te=K?M?r_:r_.filter(function(Qe){return Ha(Qe)===K}):ja,Ae=Te.filter(function(Qe){return te.indexOf(Qe)>=0});Ae.length===0&&(Ae=Te);var me=Ae.reduce(function(Qe,Se){return Qe[Se]=Ka(p,{placement:Se,boundary:w,rootBoundary:P,padding:C})[Hr(Se)],Qe},{});return Object.keys(me).sort(function(Qe,Se){return me[Qe]-me[Se]})}function OV(p){if(Hr(p)===zh)return[];var u=Kh(p);return[f0(p),u,f0(u)]}function LV(p){var u=p.state,h=p.options,g=p.name;if(!u.modifiersData[g]._skip){for(var w=h.mainAxis,P=w===void 0?!0:w,C=h.altAxis,M=C===void 0?!0:C,B=h.fallbackPlacements,te=h.padding,K=h.boundary,Te=h.rootBoundary,Ae=h.altBoundary,me=h.flipVariations,Qe=me===void 0?!0:me,Se=h.allowedAutoPlacements,Fe=u.options.placement,tt=Hr(Fe),At=tt===Fe,St=B||(At||!Qe?[Kh(Fe)]:OV(Fe)),ke=[Fe].concat(St).reduce(function(Qa,is){return Qa.concat(Hr(is)===zh?DV(u,{placement:is,boundary:K,rootBoundary:Te,padding:te,flipVariations:Qe,allowedAutoPlacements:Se}):is)},[]),We=u.rects.reference,qe=u.rects.popper,mt=new Map,Jt=!0,$t=ke[0],Ot=0;Ot<ke.length;Ot++){var hn=ke[Ot],Cr=Hr(hn),An=Ha(hn)===uo,Eo=[In,Gn].indexOf(Cr)>=0,wo=Eo?"width":"height",Xn=Ka(u,{placement:hn,boundary:K,rootBoundary:Te,altBoundary:Ae,padding:te}),kr=Eo?An?Yn:bn:An?Gn:In;We[wo]>qe[wo]&&(kr=Kh(kr));var nf=Kh(kr),To=[];if(P&&To.push(Xn[Cr]<=0),M&&To.push(Xn[kr]<=0,Xn[nf]<=0),To.every(function(Qa){return Qa})){$t=hn,Jt=!1;break}mt.set(hn,To)}if(Jt)for(var rf=Qe?3:1,C_=function(is){var Bu=ke.find(function(of){var Io=mt.get(of);if(Io)return Io.slice(0,is).every(function(k_){return k_})});if(Bu)return $t=Bu,"break"},ju=rf;ju>0;ju--){var sf=C_(ju);if(sf==="break")break}u.placement!==$t&&(u.modifiersData[g]._skip=!0,u.placement=$t,u.reset=!0)}}const _0={name:"flip",enabled:!0,phase:"main",fn:LV,requiresIfExists:["offset"],data:{_skip:!1}};function v0(p,u,h){return h===void 0&&(h={x:0,y:0}),{top:p.top-u.height-h.y,right:p.right-u.width+h.x,bottom:p.bottom-u.height+h.y,left:p.left-u.width-h.x}}function y0(p){return[In,Yn,Gn,bn].some(function(u){return p[u]>=0})}function VV(p){var u=p.state,h=p.name,g=u.rects.reference,w=u.rects.popper,P=u.modifiersData.preventOverflow,C=Ka(u,{elementContext:"reference"}),M=Ka(u,{altBoundary:!0}),B=v0(C,g),te=v0(M,w,P),K=y0(B),Te=y0(te);u.modifiersData[h]={referenceClippingOffsets:B,popperEscapeOffsets:te,isReferenceHidden:K,hasPopperEscaped:Te},u.attributes.popper=Object.assign({},u.attributes.popper,{"data-popper-reference-hidden":K,"data-popper-escaped":Te})}const E0={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:VV};function MV(p,u,h){var g=Hr(p),w=[bn,In].indexOf(g)>=0?-1:1,P=typeof h=="function"?h(Object.assign({},u,{placement:p})):h,C=P[0],M=P[1];return C=C||0,M=(M||0)*w,[bn,Yn].indexOf(g)>=0?{x:M,y:C}:{x:C,y:M}}function FV(p){var u=p.state,h=p.options,g=p.name,w=h.offset,P=w===void 0?[0,0]:w,C=i_.reduce(function(K,Te){return K[Te]=MV(Te,u.rects,P),K},{}),M=C[u.placement],B=M.x,te=M.y;u.modifiersData.popperOffsets!=null&&(u.modifiersData.popperOffsets.x+=B,u.modifiersData.popperOffsets.y+=te),u.modifiersData[g]=C}const w0={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:FV};function $V(p){var u=p.state,h=p.name;u.modifiersData[h]=g0({reference:u.rects.reference,element:u.rects.popper,strategy:"absolute",placement:u.placement})}const g_={name:"popperOffsets",enabled:!0,phase:"read",fn:$V,data:{}};function UV(p){return p==="x"?"y":"x"}function jV(p){var u=p.state,h=p.options,g=p.name,w=h.mainAxis,P=w===void 0?!0:w,C=h.altAxis,M=C===void 0?!1:C,B=h.boundary,te=h.rootBoundary,K=h.altBoundary,Te=h.padding,Ae=h.tether,me=Ae===void 0?!0:Ae,Qe=h.tetherOffset,Se=Qe===void 0?0:Qe,Fe=Ka(u,{boundary:B,rootBoundary:te,padding:Te,altBoundary:K}),tt=Hr(u.placement),At=Ha(u.placement),St=!At,ke=u_(tt),We=UV(ke),qe=u.modifiersData.popperOffsets,mt=u.rects.reference,Jt=u.rects.popper,$t=typeof Se=="function"?Se(Object.assign({},u.rects,{placement:u.placement})):Se,Ot=typeof $t=="number"?{mainAxis:$t,altAxis:$t}:Object.assign({mainAxis:0,altAxis:0},$t),hn=u.modifiersData.offset?u.modifiersData.offset[u.placement]:null,Cr={x:0,y:0};if(qe){if(P){var An,Eo=ke==="y"?In:bn,wo=ke==="y"?Gn:Yn,Xn=ke==="y"?"height":"width",kr=qe[ke],nf=kr+Fe[Eo],To=kr-Fe[wo],rf=me?-Jt[Xn]/2:0,C_=At===uo?mt[Xn]:Jt[Xn],ju=At===uo?-Jt[Xn]:-mt[Xn],sf=u.elements.arrow,Qa=me&&sf?l_(sf):{width:0,height:0},is=u.modifiersData["arrow#persistent"]?u.modifiersData["arrow#persistent"].padding:l0(),Bu=is[Eo],of=is[wo],Io=Vu(0,mt[Xn],Qa[Xn]),k_=St?mt[Xn]/2-rf-Io-Bu-Ot.mainAxis:C_-Io-Bu-Ot.mainAxis,D2=St?-mt[Xn]/2+rf+Io+of+Ot.mainAxis:ju+Io+of+Ot.mainAxis,x_=u.elements.arrow&&Lu(u.elements.arrow),O2=x_?ke==="y"?x_.clientTop||0:x_.clientLeft||0:0,ub=(An=hn==null?void 0:hn[ke])!=null?An:0,L2=kr+k_-ub-O2,V2=kr+D2-ub,cb=Vu(me?Wh(nf,L2):nf,kr,me?ho(To,V2):To);qe[ke]=cb,Cr[ke]=cb-kr}if(M){var db,M2=ke==="x"?In:bn,F2=ke==="x"?Gn:Yn,bo=qe[We],af=We==="y"?"height":"width",hb=bo+Fe[M2],fb=bo-Fe[F2],N_=[In,bn].indexOf(tt)!==-1,pb=(db=hn==null?void 0:hn[We])!=null?db:0,mb=N_?hb:bo-mt[af]-Jt[af]-pb+Ot.altAxis,gb=N_?bo+mt[af]+Jt[af]-pb-Ot.altAxis:fb,_b=me&&N_?vV(mb,bo,gb):Vu(me?mb:hb,bo,me?gb:fb);qe[We]=_b,Cr[We]=_b-bo}u.modifiersData[g]=Cr}}const T0={name:"preventOverflow",enabled:!0,phase:"main",fn:jV,requiresIfExists:["offset"]};function BV(p){return{scrollLeft:p.scrollLeft,scrollTop:p.scrollTop}}function zV(p){return p===Qn(p)||!gr(p)?h_(p):BV(p)}function WV(p){var u=p.getBoundingClientRect(),h=Wa(u.width)/p.offsetWidth||1,g=Wa(u.height)/p.offsetHeight||1;return h!==1||g!==1}function qV(p,u,h){h===void 0&&(h=!1);var g=gr(u),w=gr(u)&&WV(u),P=ns(u),C=qa(p,w,h),M={scrollLeft:0,scrollTop:0},B={x:0,y:0};return(g||!g&&!h)&&((qr(u)!=="body"||p_(P))&&(M=zV(u)),gr(u)?(B=qa(u,!0),B.x+=u.clientLeft,B.y+=u.clientTop):P&&(B.x=f_(P))),{x:C.left+M.scrollLeft-B.x,y:C.top+M.scrollTop-B.y,width:C.width,height:C.height}}function HV(p){var u=new Map,h=new Set,g=[];p.forEach(function(P){u.set(P.name,P)});function w(P){h.add(P.name);var C=[].concat(P.requires||[],P.requiresIfExists||[]);C.forEach(function(M){if(!h.has(M)){var B=u.get(M);B&&w(B)}}),g.push(P)}return p.forEach(function(P){h.has(P.name)||w(P)}),g}function KV(p){var u=HV(p);return i0.reduce(function(h,g){return h.concat(u.filter(function(w){return w.phase===g}))},[])}function GV(p){var u;return function(){return u||(u=new Promise(function(h){Promise.resolve().then(function(){u=void 0,h(p())})})),u}}function YV(p){var u=p.reduce(function(h,g){var w=h[g.name];return h[g.name]=w?Object.assign({},w,g,{options:Object.assign({},w.options,g.options),data:Object.assign({},w.data,g.data)}):g,h},{});return Object.keys(u).map(function(h){return u[h]})}var I0={placement:"bottom",modifiers:[],strategy:"absolute"};function b0(){for(var p=arguments.length,u=new Array(p),h=0;h<p;h++)u[h]=arguments[h];return!u.some(function(g){return!(g&&typeof g.getBoundingClientRect=="function")})}function Gh(p){p===void 0&&(p={});var u=p,h=u.defaultModifiers,g=h===void 0?[]:h,w=u.defaultOptions,P=w===void 0?I0:w;return function(M,B,te){te===void 0&&(te=P);var K={placement:"bottom",orderedModifiers:[],options:Object.assign({},I0,P),modifiersData:{},elements:{reference:M,popper:B},attributes:{},styles:{}},Te=[],Ae=!1,me={state:K,setOptions:function(tt){var At=typeof tt=="function"?tt(K.options):tt;Se(),K.options=Object.assign({},P,K.options,At),K.scrollParents={reference:co(M)?Mu(M):M.contextElement?Mu(M.contextElement):[],popper:Mu(B)};var St=KV(YV([].concat(g,K.options.modifiers)));return K.orderedModifiers=St.filter(function(ke){return ke.enabled}),Qe(),me.update()},forceUpdate:function(){if(!Ae){var tt=K.elements,At=tt.reference,St=tt.popper;if(b0(At,St)){K.rects={reference:qV(At,Lu(St),K.options.strategy==="fixed"),popper:l_(St)},K.reset=!1,K.placement=K.options.placement,K.orderedModifiers.forEach(function(Ot){return K.modifiersData[Ot.name]=Object.assign({},Ot.data)});for(var ke=0;ke<K.orderedModifiers.length;ke++){if(K.reset===!0){K.reset=!1,ke=-1;continue}var We=K.orderedModifiers[ke],qe=We.fn,mt=We.options,Jt=mt===void 0?{}:mt,$t=We.name;typeof qe=="function"&&(K=qe({state:K,options:Jt,name:$t,instance:me})||K)}}}},update:GV(function(){return new Promise(function(Fe){me.forceUpdate(),Fe(K)})}),destroy:function(){Se(),Ae=!0}};if(!b0(M,B))return me;me.setOptions(te).then(function(Fe){!Ae&&te.onFirstUpdate&&te.onFirstUpdate(Fe)});function Qe(){K.orderedModifiers.forEach(function(Fe){var tt=Fe.name,At=Fe.options,St=At===void 0?{}:At,ke=Fe.effect;if(typeof ke=="function"){var We=ke({state:K,name:tt,instance:me,options:St}),qe=function(){};Te.push(We||qe)}})}function Se(){Te.forEach(function(Fe){return Fe()}),Te=[]}return me}}var QV=Gh(),XV=[d_,g_,c_,o_],JV=Gh({defaultModifiers:XV}),ZV=[d_,g_,c_,o_,w0,_0,T0,d0,E0],__=Gh({defaultModifiers:ZV});const A0=Object.freeze(Object.defineProperty({__proto__:null,afterMain:e0,afterRead:XI,afterWrite:r0,applyStyles:o_,arrow:d0,auto:zh,basePlacements:ja,beforeMain:JI,beforeRead:YI,beforeWrite:t0,bottom:Gn,clippingParents:KI,computeStyles:c_,createPopper:__,createPopperBase:QV,createPopperLite:JV,detectOverflow:Ka,end:Ba,eventListeners:d_,flip:_0,hide:E0,left:bn,main:ZI,modifierPhases:i0,offset:w0,placements:i_,popper:za,popperGenerator:Gh,popperOffsets:g_,preventOverflow:T0,read:QI,reference:GI,right:Yn,start:uo,top:In,variationPlacements:r_,viewport:n_,write:n0},Symbol.toStringTag,{value:"Module"})),S0="dropdown",fo=".bs.dropdown",v_=".data-api",eM="Escape",P0="Tab",tM="ArrowUp",R0="ArrowDown",nM=2,rM=`hide${fo}`,iM=`hidden${fo}`,sM=`show${fo}`,oM=`shown${fo}`,C0=`click${fo}${v_}`,k0=`keydown${fo}${v_}`,aM=`keyup${fo}${v_}`,Ga="show",lM="dropup",uM="dropend",cM="dropstart",dM="dropup-center",hM="dropdown-center",po='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',fM=`${po}.${Ga}`,Yh=".dropdown-menu",pM=".navbar",mM=".navbar-nav",gM=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",_M=O()?"top-end":"top-start",vM=O()?"top-start":"top-end",yM=O()?"bottom-end":"bottom-start",EM=O()?"bottom-start":"bottom-end",wM=O()?"left-start":"right-start",TM=O()?"right-start":"left-start",IM="top",bM="bottom",AM={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},SM={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Rr extends Hn{constructor(u,h){super(u,h),this._popper=null,this._parent=this._element.parentNode,this._menu=ue.next(this._element,Yh)[0]||ue.prev(this._element,Yh)[0]||ue.findOne(Yh,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return AM}static get DefaultType(){return SM}static get NAME(){return S0}toggle(){return this._isShown()?this.hide():this.show()}show(){if(I(this._element)||this._isShown())return;const u={relatedTarget:this._element};if(!V.trigger(this._element,sM,u).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(mM))for(const g of[].concat(...document.body.children))V.on(g,"mouseover",y);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Ga),this._element.classList.add(Ga),V.trigger(this._element,oM,u)}}hide(){if(I(this._element)||!this._isShown())return;const u={relatedTarget:this._element};this._completeHide(u)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(u){if(!V.trigger(this._element,rM,u).defaultPrevented){if("ontouchstart"in document.documentElement)for(const g of[].concat(...document.body.children))V.off(g,"mouseover",y);this._popper&&this._popper.destroy(),this._menu.classList.remove(Ga),this._element.classList.remove(Ga),this._element.setAttribute("aria-expanded","false"),Ft.removeDataAttribute(this._menu,"popper"),V.trigger(this._element,iM,u)}}_getConfig(u){if(u=super._getConfig(u),typeof u.reference=="object"&&!m(u.reference)&&typeof u.reference.getBoundingClientRect!="function")throw new TypeError(`${S0.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return u}_createPopper(){if(typeof A0>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let u=this._element;this._config.reference==="parent"?u=this._parent:m(this._config.reference)?u=v(this._config.reference):typeof this._config.reference=="object"&&(u=this._config.reference);const h=this._getPopperConfig();this._popper=__(u,this._menu,h)}_isShown(){return this._menu.classList.contains(Ga)}_getPlacement(){const u=this._parent;if(u.classList.contains(uM))return wM;if(u.classList.contains(cM))return TM;if(u.classList.contains(dM))return IM;if(u.classList.contains(hM))return bM;const h=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return u.classList.contains(lM)?h?vM:_M:h?EM:yM}_detectNavbar(){return this._element.closest(pM)!==null}_getOffset(){const{offset:u}=this._config;return typeof u=="string"?u.split(",").map(h=>Number.parseInt(h,10)):typeof u=="function"?h=>u(h,this._element):u}_getPopperConfig(){const u={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Ft.setDataAttribute(this._menu,"popper","static"),u.modifiers=[{name:"applyStyles",enabled:!1}]),{...u,...G(this._config.popperConfig,[u])}}_selectMenuItem({key:u,target:h}){const g=ue.find(gM,this._menu).filter(w=>b(w));g.length&&Ce(g,h,u===R0,!g.includes(h)).focus()}static jQueryInterface(u){return this.each(function(){const h=Rr.getOrCreateInstance(this,u);if(typeof u=="string"){if(typeof h[u]>"u")throw new TypeError(`No method named "${u}"`);h[u]()}})}static clearMenus(u){if(u.button===nM||u.type==="keyup"&&u.key!==P0)return;const h=ue.find(fM);for(const g of h){const w=Rr.getInstance(g);if(!w||w._config.autoClose===!1)continue;const P=u.composedPath(),C=P.includes(w._menu);if(P.includes(w._element)||w._config.autoClose==="inside"&&!C||w._config.autoClose==="outside"&&C||w._menu.contains(u.target)&&(u.type==="keyup"&&u.key===P0||/input|select|option|textarea|form/i.test(u.target.tagName)))continue;const M={relatedTarget:w._element};u.type==="click"&&(M.clickEvent=u),w._completeHide(M)}}static dataApiKeydownHandler(u){const h=/input|textarea/i.test(u.target.tagName),g=u.key===eM,w=[tM,R0].includes(u.key);if(!w&&!g||h&&!g)return;u.preventDefault();const P=this.matches(po)?this:ue.prev(this,po)[0]||ue.next(this,po)[0]||ue.findOne(po,u.delegateTarget.parentNode),C=Rr.getOrCreateInstance(P);if(w){u.stopPropagation(),C.show(),C._selectMenuItem(u);return}C._isShown()&&(u.stopPropagation(),C.hide(),P.focus())}}V.on(document,k0,po,Rr.dataApiKeydownHandler),V.on(document,k0,Yh,Rr.dataApiKeydownHandler),V.on(document,C0,Rr.clearMenus),V.on(document,aM,Rr.clearMenus),V.on(document,C0,po,function(p){p.preventDefault(),Rr.getOrCreateInstance(this).toggle()}),L(Rr);const x0="backdrop",PM="fade",N0="show",D0=`mousedown.bs.${x0}`,RM={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},CM={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class O0 extends qn{constructor(u){super(),this._config=this._getConfig(u),this._isAppended=!1,this._element=null}static get Default(){return RM}static get DefaultType(){return CM}static get NAME(){return x0}show(u){if(!this._config.isVisible){G(u);return}this._append();const h=this._getElement();this._config.isAnimated&&T(h),h.classList.add(N0),this._emulateAnimation(()=>{G(u)})}hide(u){if(!this._config.isVisible){G(u);return}this._getElement().classList.remove(N0),this._emulateAnimation(()=>{this.dispose(),G(u)})}dispose(){this._isAppended&&(V.off(this._element,D0),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const u=document.createElement("div");u.className=this._config.className,this._config.isAnimated&&u.classList.add(PM),this._element=u}return this._element}_configAfterMerge(u){return u.rootElement=v(u.rootElement),u}_append(){if(this._isAppended)return;const u=this._getElement();this._config.rootElement.append(u),V.on(u,D0,()=>{G(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(u){H(u,this._getElement(),this._config.isAnimated)}}const kM="focustrap",Qh=".bs.focustrap",xM=`focusin${Qh}`,NM=`keydown.tab${Qh}`,DM="Tab",OM="forward",L0="backward",LM={autofocus:!0,trapElement:null},VM={autofocus:"boolean",trapElement:"element"};class V0 extends qn{constructor(u){super(),this._config=this._getConfig(u),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return LM}static get DefaultType(){return VM}static get NAME(){return kM}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),V.off(document,Qh),V.on(document,xM,u=>this._handleFocusin(u)),V.on(document,NM,u=>this._handleKeydown(u)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,V.off(document,Qh))}_handleFocusin(u){const{trapElement:h}=this._config;if(u.target===document||u.target===h||h.contains(u.target))return;const g=ue.focusableChildren(h);g.length===0?h.focus():this._lastTabNavDirection===L0?g[g.length-1].focus():g[0].focus()}_handleKeydown(u){u.key===DM&&(this._lastTabNavDirection=u.shiftKey?L0:OM)}}const M0=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",F0=".sticky-top",Xh="padding-right",$0="margin-right";class y_{constructor(){this._element=document.body}getWidth(){const u=document.documentElement.clientWidth;return Math.abs(window.innerWidth-u)}hide(){const u=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Xh,h=>h+u),this._setElementAttributes(M0,Xh,h=>h+u),this._setElementAttributes(F0,$0,h=>h-u)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Xh),this._resetElementAttributes(M0,Xh),this._resetElementAttributes(F0,$0)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(u,h,g){const w=this.getWidth(),P=C=>{if(C!==this._element&&window.innerWidth>C.clientWidth+w)return;this._saveInitialAttribute(C,h);const M=window.getComputedStyle(C).getPropertyValue(h);C.style.setProperty(h,`${g(Number.parseFloat(M))}px`)};this._applyManipulationCallback(u,P)}_saveInitialAttribute(u,h){const g=u.style.getPropertyValue(h);g&&Ft.setDataAttribute(u,h,g)}_resetElementAttributes(u,h){const g=w=>{const P=Ft.getDataAttribute(w,h);if(P===null){w.style.removeProperty(h);return}Ft.removeDataAttribute(w,h),w.style.setProperty(h,P)};this._applyManipulationCallback(u,g)}_applyManipulationCallback(u,h){if(m(u)){h(u);return}for(const g of ue.find(u,this._element))h(g)}}const MM="modal",_r=".bs.modal",FM=".data-api",$M="Escape",UM=`hide${_r}`,jM=`hidePrevented${_r}`,U0=`hidden${_r}`,j0=`show${_r}`,BM=`shown${_r}`,zM=`resize${_r}`,WM=`click.dismiss${_r}`,qM=`mousedown.dismiss${_r}`,HM=`keydown.dismiss${_r}`,KM=`click${_r}${FM}`,B0="modal-open",GM="fade",z0="show",E_="modal-static",YM=".modal.show",QM=".modal-dialog",XM=".modal-body",JM='[data-bs-toggle="modal"]',ZM={backdrop:!0,focus:!0,keyboard:!0},eF={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class mo extends Hn{constructor(u,h){super(u,h),this._dialog=ue.findOne(QM,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new y_,this._addEventListeners()}static get Default(){return ZM}static get DefaultType(){return eF}static get NAME(){return MM}toggle(u){return this._isShown?this.hide():this.show(u)}show(u){this._isShown||this._isTransitioning||V.trigger(this._element,j0,{relatedTarget:u}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(B0),this._adjustDialog(),this._backdrop.show(()=>this._showElement(u)))}hide(){!this._isShown||this._isTransitioning||V.trigger(this._element,UM).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(z0),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){V.off(window,_r),V.off(this._dialog,_r),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new O0({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new V0({trapElement:this._element})}_showElement(u){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const h=ue.findOne(XM,this._dialog);h&&(h.scrollTop=0),T(this._element),this._element.classList.add(z0);const g=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,V.trigger(this._element,BM,{relatedTarget:u})};this._queueCallback(g,this._dialog,this._isAnimated())}_addEventListeners(){V.on(this._element,HM,u=>{if(u.key===$M){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),V.on(window,zM,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),V.on(this._element,qM,u=>{V.one(this._element,WM,h=>{if(!(this._element!==u.target||this._element!==h.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(B0),this._resetAdjustments(),this._scrollBar.reset(),V.trigger(this._element,U0)})}_isAnimated(){return this._element.classList.contains(GM)}_triggerBackdropTransition(){if(V.trigger(this._element,jM).defaultPrevented)return;const h=this._element.scrollHeight>document.documentElement.clientHeight,g=this._element.style.overflowY;g==="hidden"||this._element.classList.contains(E_)||(h||(this._element.style.overflowY="hidden"),this._element.classList.add(E_),this._queueCallback(()=>{this._element.classList.remove(E_),this._queueCallback(()=>{this._element.style.overflowY=g},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const u=this._element.scrollHeight>document.documentElement.clientHeight,h=this._scrollBar.getWidth(),g=h>0;if(g&&!u){const w=O()?"paddingLeft":"paddingRight";this._element.style[w]=`${h}px`}if(!g&&u){const w=O()?"paddingRight":"paddingLeft";this._element.style[w]=`${h}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(u,h){return this.each(function(){const g=mo.getOrCreateInstance(this,u);if(typeof u=="string"){if(typeof g[u]>"u")throw new TypeError(`No method named "${u}"`);g[u](h)}})}}V.on(document,KM,JM,function(p){const u=ue.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&p.preventDefault(),V.one(u,j0,w=>{w.defaultPrevented||V.one(u,U0,()=>{b(this)&&this.focus()})});const h=ue.findOne(YM);h&&mo.getInstance(h).hide(),mo.getOrCreateInstance(u).toggle(this)}),Oa(mo),L(mo);const tF="offcanvas",wi=".bs.offcanvas",W0=".data-api",nF=`load${wi}${W0}`,rF="Escape",q0="show",H0="showing",K0="hiding",iF="offcanvas-backdrop",G0=".offcanvas.show",sF=`show${wi}`,oF=`shown${wi}`,aF=`hide${wi}`,Y0=`hidePrevented${wi}`,Q0=`hidden${wi}`,lF=`resize${wi}`,uF=`click${wi}${W0}`,cF=`keydown.dismiss${wi}`,dF='[data-bs-toggle="offcanvas"]',hF={backdrop:!0,keyboard:!0,scroll:!1},fF={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Ti extends Hn{constructor(u,h){super(u,h),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return hF}static get DefaultType(){return fF}static get NAME(){return tF}toggle(u){return this._isShown?this.hide():this.show(u)}show(u){if(this._isShown||V.trigger(this._element,sF,{relatedTarget:u}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new y_().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(H0);const g=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(q0),this._element.classList.remove(H0),V.trigger(this._element,oF,{relatedTarget:u})};this._queueCallback(g,this._element,!0)}hide(){if(!this._isShown||V.trigger(this._element,aF).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(K0),this._backdrop.hide();const h=()=>{this._element.classList.remove(q0,K0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new y_().reset(),V.trigger(this._element,Q0)};this._queueCallback(h,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const u=()=>{if(this._config.backdrop==="static"){V.trigger(this._element,Y0);return}this.hide()},h=!!this._config.backdrop;return new O0({className:iF,isVisible:h,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:h?u:null})}_initializeFocusTrap(){return new V0({trapElement:this._element})}_addEventListeners(){V.on(this._element,cF,u=>{if(u.key===rF){if(this._config.keyboard){this.hide();return}V.trigger(this._element,Y0)}})}static jQueryInterface(u){return this.each(function(){const h=Ti.getOrCreateInstance(this,u);if(typeof u=="string"){if(h[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);h[u](this)}})}}V.on(document,uF,dF,function(p){const u=ue.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&p.preventDefault(),I(this))return;V.one(u,Q0,()=>{b(this)&&this.focus()});const h=ue.findOne(G0);h&&h!==u&&Ti.getInstance(h).hide(),Ti.getOrCreateInstance(u).toggle(this)}),V.on(window,nF,()=>{for(const p of ue.find(G0))Ti.getOrCreateInstance(p).show()}),V.on(window,lF,()=>{for(const p of ue.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(p).position!=="fixed"&&Ti.getOrCreateInstance(p).hide()}),Oa(Ti),L(Ti);const X0={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},pF=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),mF=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,gF=(p,u)=>{const h=p.nodeName.toLowerCase();return u.includes(h)?pF.has(h)?!!mF.test(p.nodeValue):!0:u.filter(g=>g instanceof RegExp).some(g=>g.test(h))};function _F(p,u,h){if(!p.length)return p;if(h&&typeof h=="function")return h(p);const w=new window.DOMParser().parseFromString(p,"text/html"),P=[].concat(...w.body.querySelectorAll("*"));for(const C of P){const M=C.nodeName.toLowerCase();if(!Object.keys(u).includes(M)){C.remove();continue}const B=[].concat(...C.attributes),te=[].concat(u["*"]||[],u[M]||[]);for(const K of B)gF(K,te)||C.removeAttribute(K.nodeName)}return w.body.innerHTML}const vF="TemplateFactory",yF={allowList:X0,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},EF={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},wF={entry:"(string|element|function|null)",selector:"(string|element)"};class TF extends qn{constructor(u){super(),this._config=this._getConfig(u)}static get Default(){return yF}static get DefaultType(){return EF}static get NAME(){return vF}getContent(){return Object.values(this._config.content).map(u=>this._resolvePossibleFunction(u)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(u){return this._checkContent(u),this._config.content={...this._config.content,...u},this}toHtml(){const u=document.createElement("div");u.innerHTML=this._maybeSanitize(this._config.template);for(const[w,P]of Object.entries(this._config.content))this._setContent(u,P,w);const h=u.children[0],g=this._resolvePossibleFunction(this._config.extraClass);return g&&h.classList.add(...g.split(" ")),h}_typeCheckConfig(u){super._typeCheckConfig(u),this._checkContent(u.content)}_checkContent(u){for(const[h,g]of Object.entries(u))super._typeCheckConfig({selector:h,entry:g},wF)}_setContent(u,h,g){const w=ue.findOne(g,u);if(w){if(h=this._resolvePossibleFunction(h),!h){w.remove();return}if(m(h)){this._putElementInTemplate(v(h),w);return}if(this._config.html){w.innerHTML=this._maybeSanitize(h);return}w.textContent=h}}_maybeSanitize(u){return this._config.sanitize?_F(u,this._config.allowList,this._config.sanitizeFn):u}_resolvePossibleFunction(u){return G(u,[this])}_putElementInTemplate(u,h){if(this._config.html){h.innerHTML="",h.append(u);return}h.textContent=u.textContent}}const IF="tooltip",bF=new Set(["sanitize","allowList","sanitizeFn"]),w_="fade",AF="modal",Jh="show",SF=".tooltip-inner",J0=`.${AF}`,Z0="hide.bs.modal",Fu="hover",T_="focus",PF="click",RF="manual",CF="hide",kF="hidden",xF="show",NF="shown",DF="inserted",OF="click",LF="focusin",VF="focusout",MF="mouseenter",FF="mouseleave",$F={AUTO:"auto",TOP:"top",RIGHT:O()?"left":"right",BOTTOM:"bottom",LEFT:O()?"right":"left"},UF={allowList:X0,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},jF={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class go extends Hn{constructor(u,h){if(typeof A0>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(u,h),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return UF}static get DefaultType(){return jF}static get NAME(){return IF}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),V.off(this._element.closest(J0),Z0,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const u=V.trigger(this._element,this.constructor.eventName(xF)),g=(_(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(u.defaultPrevented||!g)return;this._disposePopper();const w=this._getTipElement();this._element.setAttribute("aria-describedby",w.getAttribute("id"));const{container:P}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(P.append(w),V.trigger(this._element,this.constructor.eventName(DF))),this._popper=this._createPopper(w),w.classList.add(Jh),"ontouchstart"in document.documentElement)for(const M of[].concat(...document.body.children))V.on(M,"mouseover",y);const C=()=>{V.trigger(this._element,this.constructor.eventName(NF)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(C,this.tip,this._isAnimated())}hide(){if(!this._isShown()||V.trigger(this._element,this.constructor.eventName(CF)).defaultPrevented)return;if(this._getTipElement().classList.remove(Jh),"ontouchstart"in document.documentElement)for(const w of[].concat(...document.body.children))V.off(w,"mouseover",y);this._activeTrigger[PF]=!1,this._activeTrigger[T_]=!1,this._activeTrigger[Fu]=!1,this._isHovered=null;const g=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),V.trigger(this._element,this.constructor.eventName(kF)))};this._queueCallback(g,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(u){const h=this._getTemplateFactory(u).toHtml();if(!h)return null;h.classList.remove(w_,Jh),h.classList.add(`bs-${this.constructor.NAME}-auto`);const g=c(this.constructor.NAME).toString();return h.setAttribute("id",g),this._isAnimated()&&h.classList.add(w_),h}setContent(u){this._newContent=u,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(u){return this._templateFactory?this._templateFactory.changeContent(u):this._templateFactory=new TF({...this._config,content:u,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[SF]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(u){return this.constructor.getOrCreateInstance(u.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(w_)}_isShown(){return this.tip&&this.tip.classList.contains(Jh)}_createPopper(u){const h=G(this._config.placement,[this,u,this._element]),g=$F[h.toUpperCase()];return __(this._element,u,this._getPopperConfig(g))}_getOffset(){const{offset:u}=this._config;return typeof u=="string"?u.split(",").map(h=>Number.parseInt(h,10)):typeof u=="function"?h=>u(h,this._element):u}_resolvePossibleFunction(u){return G(u,[this._element])}_getPopperConfig(u){const h={placement:u,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:g=>{this._getTipElement().setAttribute("data-popper-placement",g.state.placement)}}]};return{...h,...G(this._config.popperConfig,[h])}}_setListeners(){const u=this._config.trigger.split(" ");for(const h of u)if(h==="click")V.on(this._element,this.constructor.eventName(OF),this._config.selector,g=>{this._initializeOnDelegatedTarget(g).toggle()});else if(h!==RF){const g=h===Fu?this.constructor.eventName(MF):this.constructor.eventName(LF),w=h===Fu?this.constructor.eventName(FF):this.constructor.eventName(VF);V.on(this._element,g,this._config.selector,P=>{const C=this._initializeOnDelegatedTarget(P);C._activeTrigger[P.type==="focusin"?T_:Fu]=!0,C._enter()}),V.on(this._element,w,this._config.selector,P=>{const C=this._initializeOnDelegatedTarget(P);C._activeTrigger[P.type==="focusout"?T_:Fu]=C._element.contains(P.relatedTarget),C._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},V.on(this._element.closest(J0),Z0,this._hideModalHandler)}_fixTitle(){const u=this._element.getAttribute("title");u&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",u),this._element.setAttribute("data-bs-original-title",u),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(u,h){clearTimeout(this._timeout),this._timeout=setTimeout(u,h)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(u){const h=Ft.getDataAttributes(this._element);for(const g of Object.keys(h))bF.has(g)&&delete h[g];return u={...h,...typeof u=="object"&&u?u:{}},u=this._mergeConfigObj(u),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}_configAfterMerge(u){return u.container=u.container===!1?document.body:v(u.container),typeof u.delay=="number"&&(u.delay={show:u.delay,hide:u.delay}),typeof u.title=="number"&&(u.title=u.title.toString()),typeof u.content=="number"&&(u.content=u.content.toString()),u}_getDelegateConfig(){const u={};for(const[h,g]of Object.entries(this._config))this.constructor.Default[h]!==g&&(u[h]=g);return u.selector=!1,u.trigger="manual",u}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(u){return this.each(function(){const h=go.getOrCreateInstance(this,u);if(typeof u=="string"){if(typeof h[u]>"u")throw new TypeError(`No method named "${u}"`);h[u]()}})}}L(go);const BF="popover",zF=".popover-header",WF=".popover-body",qF={...go.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},HF={...go.DefaultType,content:"(null|string|element|function)"};class Zh extends go{static get Default(){return qF}static get DefaultType(){return HF}static get NAME(){return BF}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[zF]:this._getTitle(),[WF]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(u){return this.each(function(){const h=Zh.getOrCreateInstance(this,u);if(typeof u=="string"){if(typeof h[u]>"u")throw new TypeError(`No method named "${u}"`);h[u]()}})}}L(Zh);const KF="scrollspy",I_=".bs.scrollspy",GF=".data-api",YF=`activate${I_}`,eb=`click${I_}`,QF=`load${I_}${GF}`,XF="dropdown-item",Ya="active",JF='[data-bs-spy="scroll"]',b_="[href]",ZF=".nav, .list-group",tb=".nav-link",e2=`${tb}, .nav-item > ${tb}, .list-group-item`,t2=".dropdown",n2=".dropdown-toggle",r2={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},i2={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class $u extends Hn{constructor(u,h){super(u,h),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return r2}static get DefaultType(){return i2}static get NAME(){return KF}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const u of this._observableSections.values())this._observer.observe(u)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(u){return u.target=v(u.target)||document.body,u.rootMargin=u.offset?`${u.offset}px 0px -30%`:u.rootMargin,typeof u.threshold=="string"&&(u.threshold=u.threshold.split(",").map(h=>Number.parseFloat(h))),u}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(V.off(this._config.target,eb),V.on(this._config.target,eb,b_,u=>{const h=this._observableSections.get(u.target.hash);if(h){u.preventDefault();const g=this._rootElement||window,w=h.offsetTop-this._element.offsetTop;if(g.scrollTo){g.scrollTo({top:w,behavior:"smooth"});return}g.scrollTop=w}}))}_getNewObserver(){const u={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(h=>this._observerCallback(h),u)}_observerCallback(u){const h=C=>this._targetLinks.get(`#${C.target.id}`),g=C=>{this._previousScrollData.visibleEntryTop=C.target.offsetTop,this._process(h(C))},w=(this._rootElement||document.documentElement).scrollTop,P=w>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=w;for(const C of u){if(!C.isIntersecting){this._activeTarget=null,this._clearActiveClass(h(C));continue}const M=C.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(P&&M){if(g(C),!w)return;continue}!P&&!M&&g(C)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const u=ue.find(b_,this._config.target);for(const h of u){if(!h.hash||I(h))continue;const g=ue.findOne(decodeURI(h.hash),this._element);b(g)&&(this._targetLinks.set(decodeURI(h.hash),h),this._observableSections.set(h.hash,g))}}_process(u){this._activeTarget!==u&&(this._clearActiveClass(this._config.target),this._activeTarget=u,u.classList.add(Ya),this._activateParents(u),V.trigger(this._element,YF,{relatedTarget:u}))}_activateParents(u){if(u.classList.contains(XF)){ue.findOne(n2,u.closest(t2)).classList.add(Ya);return}for(const h of ue.parents(u,ZF))for(const g of ue.prev(h,e2))g.classList.add(Ya)}_clearActiveClass(u){u.classList.remove(Ya);const h=ue.find(`${b_}.${Ya}`,u);for(const g of h)g.classList.remove(Ya)}static jQueryInterface(u){return this.each(function(){const h=$u.getOrCreateInstance(this,u);if(typeof u=="string"){if(h[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);h[u]()}})}}V.on(window,QF,()=>{for(const p of ue.find(JF))$u.getOrCreateInstance(p)}),L($u);const s2="tab",_o=".bs.tab",o2=`hide${_o}`,a2=`hidden${_o}`,l2=`show${_o}`,u2=`shown${_o}`,c2=`click${_o}`,d2=`keydown${_o}`,h2=`load${_o}`,f2="ArrowLeft",nb="ArrowRight",p2="ArrowUp",rb="ArrowDown",A_="Home",ib="End",vo="active",sb="fade",S_="show",m2="dropdown",ob=".dropdown-toggle",g2=".dropdown-menu",P_=`:not(${ob})`,_2='.list-group, .nav, [role="tablist"]',v2=".nav-item, .list-group-item",y2=`.nav-link${P_}, .list-group-item${P_}, [role="tab"]${P_}`,ab='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',R_=`${y2}, ${ab}`,E2=`.${vo}[data-bs-toggle="tab"], .${vo}[data-bs-toggle="pill"], .${vo}[data-bs-toggle="list"]`;class yo extends Hn{constructor(u){super(u),this._parent=this._element.closest(_2),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),V.on(this._element,d2,h=>this._keydown(h)))}static get NAME(){return s2}show(){const u=this._element;if(this._elemIsActive(u))return;const h=this._getActiveElem(),g=h?V.trigger(h,o2,{relatedTarget:u}):null;V.trigger(u,l2,{relatedTarget:h}).defaultPrevented||g&&g.defaultPrevented||(this._deactivate(h,u),this._activate(u,h))}_activate(u,h){if(!u)return;u.classList.add(vo),this._activate(ue.getElementFromSelector(u));const g=()=>{if(u.getAttribute("role")!=="tab"){u.classList.add(S_);return}u.removeAttribute("tabindex"),u.setAttribute("aria-selected",!0),this._toggleDropDown(u,!0),V.trigger(u,u2,{relatedTarget:h})};this._queueCallback(g,u,u.classList.contains(sb))}_deactivate(u,h){if(!u)return;u.classList.remove(vo),u.blur(),this._deactivate(ue.getElementFromSelector(u));const g=()=>{if(u.getAttribute("role")!=="tab"){u.classList.remove(S_);return}u.setAttribute("aria-selected",!1),u.setAttribute("tabindex","-1"),this._toggleDropDown(u,!1),V.trigger(u,a2,{relatedTarget:h})};this._queueCallback(g,u,u.classList.contains(sb))}_keydown(u){if(![f2,nb,p2,rb,A_,ib].includes(u.key))return;u.stopPropagation(),u.preventDefault();const h=this._getChildren().filter(w=>!I(w));let g;if([A_,ib].includes(u.key))g=h[u.key===A_?0:h.length-1];else{const w=[nb,rb].includes(u.key);g=Ce(h,u.target,w,!0)}g&&(g.focus({preventScroll:!0}),yo.getOrCreateInstance(g).show())}_getChildren(){return ue.find(R_,this._parent)}_getActiveElem(){return this._getChildren().find(u=>this._elemIsActive(u))||null}_setInitialAttributes(u,h){this._setAttributeIfNotExists(u,"role","tablist");for(const g of h)this._setInitialAttributesOnChild(g)}_setInitialAttributesOnChild(u){u=this._getInnerElement(u);const h=this._elemIsActive(u),g=this._getOuterElement(u);u.setAttribute("aria-selected",h),g!==u&&this._setAttributeIfNotExists(g,"role","presentation"),h||u.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(u,"role","tab"),this._setInitialAttributesOnTargetPanel(u)}_setInitialAttributesOnTargetPanel(u){const h=ue.getElementFromSelector(u);h&&(this._setAttributeIfNotExists(h,"role","tabpanel"),u.id&&this._setAttributeIfNotExists(h,"aria-labelledby",`${u.id}`))}_toggleDropDown(u,h){const g=this._getOuterElement(u);if(!g.classList.contains(m2))return;const w=(P,C)=>{const M=ue.findOne(P,g);M&&M.classList.toggle(C,h)};w(ob,vo),w(g2,S_),g.setAttribute("aria-expanded",h)}_setAttributeIfNotExists(u,h,g){u.hasAttribute(h)||u.setAttribute(h,g)}_elemIsActive(u){return u.classList.contains(vo)}_getInnerElement(u){return u.matches(R_)?u:ue.findOne(R_,u)}_getOuterElement(u){return u.closest(v2)||u}static jQueryInterface(u){return this.each(function(){const h=yo.getOrCreateInstance(this);if(typeof u=="string"){if(h[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);h[u]()}})}}V.on(document,c2,ab,function(p){["A","AREA"].includes(this.tagName)&&p.preventDefault(),!I(this)&&yo.getOrCreateInstance(this).show()}),V.on(window,h2,()=>{for(const p of ue.find(E2))yo.getOrCreateInstance(p)}),L(yo);const w2="toast",rs=".bs.toast",T2=`mouseover${rs}`,I2=`mouseout${rs}`,b2=`focusin${rs}`,A2=`focusout${rs}`,S2=`hide${rs}`,P2=`hidden${rs}`,R2=`show${rs}`,C2=`shown${rs}`,k2="fade",lb="hide",ef="show",tf="showing",x2={animation:"boolean",autohide:"boolean",delay:"number"},N2={animation:!0,autohide:!0,delay:5e3};class Uu extends Hn{constructor(u,h){super(u,h),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return N2}static get DefaultType(){return x2}static get NAME(){return w2}show(){if(V.trigger(this._element,R2).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(k2);const h=()=>{this._element.classList.remove(tf),V.trigger(this._element,C2),this._maybeScheduleHide()};this._element.classList.remove(lb),T(this._element),this._element.classList.add(ef,tf),this._queueCallback(h,this._element,this._config.animation)}hide(){if(!this.isShown()||V.trigger(this._element,S2).defaultPrevented)return;const h=()=>{this._element.classList.add(lb),this._element.classList.remove(tf,ef),V.trigger(this._element,P2)};this._element.classList.add(tf),this._queueCallback(h,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ef),super.dispose()}isShown(){return this._element.classList.contains(ef)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(u,h){switch(u.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=h;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=h;break}}if(h){this._clearTimeout();return}const g=u.relatedTarget;this._element===g||this._element.contains(g)||this._maybeScheduleHide()}_setListeners(){V.on(this._element,T2,u=>this._onInteraction(u,!0)),V.on(this._element,I2,u=>this._onInteraction(u,!1)),V.on(this._element,b2,u=>this._onInteraction(u,!0)),V.on(this._element,A2,u=>this._onInteraction(u,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(u){return this.each(function(){const h=Uu.getOrCreateInstance(this,u);if(typeof u=="string"){if(typeof h[u]>"u")throw new TypeError(`No method named "${u}"`);h[u](this)}})}}return Oa(Uu),L(Uu),{Alert:lo,Button:Ji,Carousel:Fa,Collapse:Ua,Dropdown:Rr,Modal:mo,Offcanvas:Ti,Popover:Zh,ScrollSpy:$u,Tab:yo,Toast:Uu,Tooltip:go}})})(qU);function td(t){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},td(t)}function HU(t,e){if(td(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(td(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KU(t){var e=HU(t,"string");return td(e)==="symbol"?e:String(e)}function GU(t,e,n){return e=KU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SA(Object(n),!0).forEach(function(r){GU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pn(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var RA=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Y_=function(){return Math.random().toString(36).substring(7).split("").join(".")},Up={INIT:"@@redux/INIT"+Y_(),REPLACE:"@@redux/REPLACE"+Y_(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Y_()}};function YU(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function BC(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(pn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(pn(1));return n(BC)(t,e)}if(typeof t!="function")throw new Error(pn(2));var i=t,s=e,o=[],a=o,l=!1;function c(){a===o&&(a=o.slice())}function d(){if(l)throw new Error(pn(3));return s}function f(I){if(typeof I!="function")throw new Error(pn(4));if(l)throw new Error(pn(5));var _=!0;return c(),a.push(I),function(){if(_){if(l)throw new Error(pn(6));_=!1,c();var T=a.indexOf(I);a.splice(T,1),o=null}}}function m(I){if(!YU(I))throw new Error(pn(7));if(typeof I.type>"u")throw new Error(pn(8));if(l)throw new Error(pn(9));try{l=!0,s=i(s,I)}finally{l=!1}for(var _=o=a,y=0;y<_.length;y++){var T=_[y];T()}return I}function v(I){if(typeof I!="function")throw new Error(pn(10));i=I,m({type:Up.REPLACE})}function b(){var I,_=f;return I={subscribe:function(T){if(typeof T!="object"||T===null)throw new Error(pn(11));function A(){T.next&&T.next(d())}A();var E=_(A);return{unsubscribe:E}}},I[RA]=function(){return this},I}return m({type:Up.INIT}),r={dispatch:m,subscribe:f,getState:d,replaceReducer:v},r[RA]=b,r}function QU(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:Up.INIT});if(typeof r>"u")throw new Error(pn(12));if(typeof n(void 0,{type:Up.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(pn(13))})}function XU(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var s=Object.keys(n),o;try{QU(n)}catch(a){o=a}return function(l,c){if(l===void 0&&(l={}),o)throw o;for(var d=!1,f={},m=0;m<s.length;m++){var v=s[m],b=n[v],I=l[v],_=b(I,c);if(typeof _>"u")throw c&&c.type,new Error(pn(14));f[v]=_,d=d||_!==I}return d=d||s.length!==Object.keys(l).length,d?f:l}}function gy(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function JU(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(pn(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=e.map(function(l){return l(o)});return s=gy.apply(void 0,a)(i.dispatch),PA(PA({},i),{},{dispatch:s})}}}function zC(t){var e=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,t):o(a)}}};return e}var WC=zC();WC.withExtraArgument=zC;const ZU=WC;function e4(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e.length!==0)return typeof e[0]=="object"?gy:gy(...e)}const t4=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:e4,qC="SIGN_IN",HC="SIGN_OUT",n4={isAuthenticated:!1,user:{}},r4=(t=n4,e)=>{switch(e.type){case qC:return{...t,isAuthenticated:!0,user:e.payload};case HC:return{...t,isAuthenticated:!1,user:{}};default:return t}},KC="CREATE_FOLDER",GC="ADD_FOLDER",YC="CHANGE_FOLDER",QC="SET_LOADING",i4={isLoading:!0,currentFolder:"root",userFolders:[],userFiles:[],adminFolders:[],adminFiles:[]},s4=(t=i4,e)=>{switch(e.type){case KC:return{...t,userFolders:[...t.userFolders,e.payload]};case GC:return{...t,userFolders:e.payload};case QC:return{...t,isLoading:e.payload};case YC:return{...t,currentFolder:e.payload};default:return t}},o4=XU({auth:r4,filefolders:s4}),a4=BC(o4,t4(JU(ZU)));/**
 * @remix-run/router v1.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gt(){return gt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gt.apply(this,arguments)}var Pt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Pt||(Pt={}));const CA="popstate";function l4(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return nd("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:la(i)}return c4(e,n,null,t)}function Ie(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function aa(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function u4(){return Math.random().toString(36).substr(2,8)}function kA(t,e){return{usr:t.state,key:t.key,idx:e}}function nd(t,e,n,r){return n===void 0&&(n=null),gt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Wi(e):e,{state:n,key:e&&e.key||r||u4()})}function la(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Wi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function c4(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Pt.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(gt({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=Pt.Pop;let _=d(),y=_==null?null:_-c;c=_,l&&l({action:a,location:I.location,delta:y})}function m(_,y){a=Pt.Push;let T=nd(I.location,_,y);n&&n(T,_),c=d()+1;let A=kA(T,c),E=I.createHref(T);try{o.pushState(A,"",E)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(E)}s&&l&&l({action:a,location:I.location,delta:1})}function v(_,y){a=Pt.Replace;let T=nd(I.location,_,y);n&&n(T,_),c=d();let A=kA(T,c),E=I.createHref(T);o.replaceState(A,"",E),s&&l&&l({action:a,location:I.location,delta:0})}function b(_){let y=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof _=="string"?_:la(_);return Ie(y,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,y)}let I={get action(){return a},get location(){return t(i,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(CA,f),l=_,()=>{i.removeEventListener(CA,f),l=null}},createHref(_){return e(i,_)},createURL:b,encodeLocation(_){let y=b(_);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:v,go(_){return o.go(_)}};return I}var Rt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Rt||(Rt={}));const d4=new Set(["lazy","caseSensitive","path","id","index","children"]);function h4(t){return t.index===!0}function _y(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,s],a=typeof i.id=="string"?i.id:o.join("-");if(Ie(i.index!==!0||!i.children,"Cannot specify children on an index route"),Ie(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),h4(i)){let l=gt({},i,e(i),{id:a});return r[a]=l,l}else{let l=gt({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=_y(i.children,e,o,r)),l}})}function ml(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Wi(e):e,i=lu(r.pathname||"/",n);if(i==null)return null;let s=XC(t);p4(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=I4(s[a],S4(i));return o}function f4(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function XC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ie(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Oi([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(Ie(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),XC(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:w4(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of JC(s.path))i(s,o,l)}),e}function JC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=JC(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function p4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:T4(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const m4=/^:\w+$/,g4=3,_4=2,v4=1,y4=10,E4=-2,xA=t=>t==="*";function w4(t,e){let n=t.split("/"),r=n.length;return n.some(xA)&&(r+=E4),e&&(r+=_4),n.filter(i=>!xA(i)).reduce((i,s)=>i+(m4.test(s)?g4:s===""?v4:y4),r)}function T4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function I4(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",d=b4({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!d)return null;Object.assign(r,d.params);let f=a.route;s.push({params:r,pathname:Oi([i,d.pathname]),pathnameBase:k4(Oi([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=Oi([i,d.pathnameBase]))}return s}function b4(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=A4(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:m,isOptional:v}=d;if(m==="*"){let I=a[f]||"";o=s.slice(0,s.length-I.length).replace(/(.)\/+$/,"$1")}const b=a[f];return v&&!b?c[m]=void 0:c[m]=P4(b||"",m),c},{}),pathname:s,pathnameBase:o,pattern:t}}function A4(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),aa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function S4(t){try{return decodeURI(t)}catch(e){return aa(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function P4(t,e){try{return decodeURIComponent(t)}catch(n){return aa(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function lu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function R4(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Wi(t):t;return{pathname:n?n.startsWith("/")?n:C4(n,e):e,search:x4(r),hash:N4(i)}}function C4(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Q_(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ZC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Cw(t){return ZC(t).map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function kw(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Wi(t):(i=gt({},t),Ie(!i.pathname||!i.pathname.includes("?"),Q_("?","pathname","search",i)),Ie(!i.pathname||!i.pathname.includes("#"),Q_("#","pathname","hash",i)),Ie(!i.search||!i.search.includes("#"),Q_("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else if(r){let f=e[e.length-1].replace(/^\//,"").split("/");if(o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f.pop();i.pathname=m.join("/")}a="/"+f.join("/")}else{let f=e.length-1;if(o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}a=f>=0?e[f]:"/"}let l=R4(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Oi=t=>t.join("/").replace(/\/\/+/g,"/"),k4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),x4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,N4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class xw{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function ek(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const tk=["post","put","patch","delete"],D4=new Set(tk),O4=["get",...tk],L4=new Set(O4),V4=new Set([301,302,303,307,308]),M4=new Set([307,308]),X_={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},F4={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Qu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},nk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$4=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),rk="remix-router-transitions";function U4(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Ie(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let S=t.detectErrorBoundary;i=x=>({hasErrorBoundary:S(x)})}else i=$4;let s={},o=_y(t.routes,i,void 0,s),a,l=t.basename||"/",c=gt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_prependBasename:!1},t.future),d=null,f=new Set,m=null,v=null,b=null,I=t.hydrationData!=null,_=ml(o,t.history.location,l),y=null;if(_==null){let S=vr(404,{pathname:t.history.location.pathname}),{matches:x,route:F}=$A(o);_=x,y={[F.id]:S}}let T=!_.some(S=>S.route.lazy)&&(!_.some(S=>S.route.loader)||t.hydrationData!=null),A,E={historyAction:t.history.action,location:t.history.location,matches:_,initialized:T,navigation:X_,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||y,fetchers:new Map,blockers:new Map},N=Pt.Pop,O=!1,L,G=!1,H=new Map,Ce=null,De=!1,pt=!1,un=[],Ke=[],ye=new Map,cr=0,En=-1,wn=new Map,Qt=new Set,dr=new Map,Sr=new Map,Tn=new Set,hr=new Map,q=new Map,ie=!1;function be(){if(d=t.history.listen(S=>{let{action:x,location:F,delta:Q}=S;if(ie){ie=!1;return}aa(q.size===0||Q!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ne=Ji({currentLocation:E.location,nextLocation:F,historyAction:x});if(ne&&Q!=null){ie=!0,t.history.go(Q*-1),Ma(ne,{state:"blocked",location:F,proceed(){Ma(ne,{state:"proceeding",proceed:void 0,reset:void 0,location:F}),t.history.go(Q)},reset(){let Ee=new Map(E.blockers);Ee.set(ne,Qu),Ze({blockers:Ee})}});return}return qn(x,F)}),n){X4(e,H);let S=()=>J4(e,H);e.addEventListener("pagehide",S),Ce=()=>e.removeEventListener("pagehide",S)}return E.initialized||qn(Pt.Pop,E.location),A}function Ge(){d&&d(),Ce&&Ce(),f.clear(),L&&L.abort(),E.fetchers.forEach((S,x)=>Va(x)),E.blockers.forEach((S,x)=>Cu(x))}function V(S){return f.add(S),()=>f.delete(S)}function Ze(S,x){x===void 0&&(x={}),E=gt({},E,S);let F=[],Q=[];c.v7_fetcherPersist&&E.fetchers.forEach((ne,Ee)=>{ne.state==="idle"&&(Tn.has(Ee)?Q.push(Ee):F.push(Ee))}),[...f].forEach(ne=>ne(E,{deletedFetchers:Q,unstable_viewTransitionOpts:x.viewTransitionOpts,unstable_flushSync:x.flushSync===!0})),c.v7_fetcherPersist&&(F.forEach(ne=>E.fetchers.delete(ne)),Q.forEach(ne=>Va(ne)))}function cn(S,x,F){var Q,ne;let{flushSync:Ee}=F===void 0?{}:F,he=E.actionData!=null&&E.navigation.formMethod!=null&&Dr(E.navigation.formMethod)&&E.navigation.state==="loading"&&((Q=S.state)==null?void 0:Q._isRedirect)!==!0,ce;x.actionData?Object.keys(x.actionData).length>0?ce=x.actionData:ce=null:he?ce=E.actionData:ce=null;let le=x.loaderData?FA(E.loaderData,x.loaderData,x.matches||[],x.errors):E.loaderData,Ne=E.blockers;Ne.size>0&&(Ne=new Map(Ne),Ne.forEach((Be,et)=>Ne.set(et,Qu)));let Ye=O===!0||E.navigation.formMethod!=null&&Dr(E.navigation.formMethod)&&((ne=S.state)==null?void 0:ne._isRedirect)!==!0;a&&(o=a,a=void 0),De||N===Pt.Pop||(N===Pt.Push?t.history.push(S,S.state):N===Pt.Replace&&t.history.replace(S,S.state));let we;if(N===Pt.Pop){let Be=H.get(E.location.pathname);Be&&Be.has(S.pathname)?we={currentLocation:E.location,nextLocation:S}:H.has(S.pathname)&&(we={currentLocation:S,nextLocation:E.location})}else if(G){let Be=H.get(E.location.pathname);Be?Be.add(S.pathname):(Be=new Set([S.pathname]),H.set(E.location.pathname,Be)),we={currentLocation:E.location,nextLocation:S}}Ze(gt({},x,{actionData:ce,loaderData:le,historyAction:N,location:S,initialized:!0,navigation:X_,revalidation:"idle",restoreScrollPosition:Uh(S,x.matches||E.matches),preventScrollReset:Ye,blockers:Ne}),{viewTransitionOpts:we,flushSync:Ee===!0}),N=Pt.Pop,O=!1,G=!1,De=!1,pt=!1,un=[],Ke=[]}async function fr(S,x){if(typeof S=="number"){t.history.go(S);return}let F=vy(E.location,E.matches,l,c.v7_prependBasename,S,x==null?void 0:x.fromRouteId,x==null?void 0:x.relative),{path:Q,submission:ne,error:Ee}=NA(c.v7_normalizeFormMethod,!1,F,x),he=E.location,ce=nd(E.location,Q,x&&x.state);ce=gt({},ce,t.history.encodeLocation(ce));let le=x&&x.replace!=null?x.replace:void 0,Ne=Pt.Push;le===!0?Ne=Pt.Replace:le===!1||ne!=null&&Dr(ne.formMethod)&&ne.formAction===E.location.pathname+E.location.search&&(Ne=Pt.Replace);let Ye=x&&"preventScrollReset"in x?x.preventScrollReset===!0:void 0,we=(x&&x.unstable_flushSync)===!0,Be=Ji({currentLocation:he,nextLocation:ce,historyAction:Ne});if(Be){Ma(Be,{state:"blocked",location:ce,proceed(){Ma(Be,{state:"proceeding",proceed:void 0,reset:void 0,location:ce}),fr(S,x)},reset(){let et=new Map(E.blockers);et.set(Be,Qu),Ze({blockers:et})}});return}return await qn(Ne,ce,{submission:ne,pendingError:Ee,preventScrollReset:Ye,replace:x&&x.replace,enableViewTransition:x&&x.unstable_viewTransition,flushSync:we})}function Ft(){if(La(),Ze({revalidation:"loading"}),E.navigation.state!=="submitting"){if(E.navigation.state==="idle"){qn(E.historyAction,E.location,{startUninterruptedRevalidation:!0});return}qn(N||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation})}}async function qn(S,x,F){L&&L.abort(),L=null,N=S,De=(F&&F.startUninterruptedRevalidation)===!0,Xg(E.location,E.matches),O=(F&&F.preventScrollReset)===!0,G=(F&&F.enableViewTransition)===!0;let Q=a||o,ne=F&&F.overrideNavigation,Ee=ml(Q,x,l),he=(F&&F.flushSync)===!0;if(!Ee){let et=vr(404,{pathname:x.pathname}),{matches:Xt,route:dn}=$A(Q);ku(),cn(x,{matches:Xt,loaderData:{},errors:{[dn.id]:et}},{flushSync:he});return}if(E.initialized&&!pt&&q4(E.location,x)&&!(F&&F.submission&&Dr(F.submission.formMethod))){cn(x,{matches:Ee},{flushSync:he});return}L=new AbortController;let ce=Ju(t.history,x,L.signal,F&&F.submission),le,Ne;if(F&&F.pendingError)Ne={[xc(Ee).route.id]:F.pendingError};else if(F&&F.submission&&Dr(F.submission.formMethod)){let et=await Kg(ce,x,F.submission,Ee,{replace:F.replace,flushSync:he});if(et.shortCircuited)return;le=et.pendingActionData,Ne=et.pendingActionError,ne=J_(x,F.submission),he=!1,ce=new Request(ce.url,{signal:ce.signal})}let{shortCircuited:Ye,loaderData:we,errors:Be}=await Hn(ce,x,Ee,ne,F&&F.submission,F&&F.fetcherSubmission,F&&F.replace,he,le,Ne);Ye||(L=null,cn(x,gt({matches:Ee},le?{actionData:le}:{},{loaderData:we,errors:Be})))}async function Kg(S,x,F,Q,ne){ne===void 0&&(ne={}),La();let Ee=Y4(x,F);Ze({navigation:Ee},{flushSync:ne.flushSync===!0});let he,ce=Ey(Q,x);if(!ce.route.action&&!ce.route.lazy)he={type:Rt.error,error:vr(405,{method:S.method,pathname:x.pathname,routeId:ce.route.id})};else if(he=await Xu("action",S,ce,Q,s,i,l),S.signal.aborted)return{shortCircuited:!0};if(Pl(he)){let le;return ne&&ne.replace!=null?le=ne.replace:le=he.location===E.location.pathname+E.location.search,await oo(E,he,{submission:F,replace:le}),{shortCircuited:!0}}if(Nc(he)){let le=xc(Q,ce.route.id);return(ne&&ne.replace)!==!0&&(N=Pt.Push),{pendingActionData:{},pendingActionError:{[le.route.id]:he.error}}}if(Uo(he))throw vr(400,{type:"defer-action"});return{pendingActionData:{[ce.route.id]:he.data}}}async function Hn(S,x,F,Q,ne,Ee,he,ce,le,Ne){let Ye=Q||J_(x,ne),we=ne||Ee||BA(Ye),Be=a||o,[et,Xt]=DA(t.history,E,F,we,x,pt,un,Ke,Tn,dr,Qt,Be,l,le,Ne);if(ku(ze=>!(F&&F.some(Ln=>Ln.route.id===ze))||et&&et.some(Ln=>Ln.route.id===ze)),En=++cr,et.length===0&&Xt.length===0){let ze=Mh();return cn(x,gt({matches:F,loaderData:{},errors:Ne||null},le?{actionData:le}:{},ze?{fetchers:new Map(E.fetchers)}:{}),{flushSync:ce}),{shortCircuited:!0}}if(!De){Xt.forEach(Ln=>{let ct=E.fetchers.get(Ln.key),mr=Zu(void 0,ct?ct.data:void 0);E.fetchers.set(Ln.key,mr)});let ze=le||E.actionData;Ze(gt({navigation:Ye},ze?Object.keys(ze).length===0?{actionData:null}:{actionData:ze}:{},Xt.length>0?{fetchers:new Map(E.fetchers)}:{}),{flushSync:ce})}Xt.forEach(ze=>{ye.has(ze.key)&&zr(ze.key),ze.controller&&ye.set(ze.key,ze.controller)});let dn=()=>Xt.forEach(ze=>zr(ze.key));L&&L.signal.addEventListener("abort",dn);let{results:pr,loaderResults:Wr,fetcherResults:Pr}=await Gg(E.matches,F,et,Xt,S);if(S.signal.aborted)return{shortCircuited:!0};L&&L.signal.removeEventListener("abort",dn),Xt.forEach(ze=>ye.delete(ze.key));let Kn=UA(pr);if(Kn){if(Kn.idx>=et.length){let ze=Xt[Kn.idx-et.length].key;Qt.add(ze)}return await oo(E,Kn.result,{replace:he}),{shortCircuited:!0}}let{loaderData:es,errors:xu}=MA(E,F,et,Wr,Ne,Xt,Pr,hr);hr.forEach((ze,Ln)=>{ze.subscribe(ct=>{(ct||ze.done)&&hr.delete(Ln)})});let Nu=Mh(),Du=Fh(En),ts=Nu||Du||Xt.length>0;return gt({loaderData:es,errors:xu},ts?{fetchers:new Map(E.fetchers)}:{})}function Ru(S,x,F,Q){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ye.has(S)&&zr(S);let ne=(Q&&Q.unstable_flushSync)===!0,Ee=a||o,he=vy(E.location,E.matches,l,c.v7_prependBasename,F,x,Q==null?void 0:Q.relative),ce=ml(Ee,he,l);if(!ce){ao(S,x,vr(404,{pathname:he}),{flushSync:ne});return}let{path:le,submission:Ne,error:Ye}=NA(c.v7_normalizeFormMethod,!0,he,Q);if(Ye){ao(S,x,Ye,{flushSync:ne});return}let we=Ey(ce,le);if(O=(Q&&Q.preventScrollReset)===!0,Ne&&Dr(Ne.formMethod)){ue(S,x,le,we,ce,ne,Ne);return}dr.set(S,{routeId:x,path:le}),Oa(S,x,le,we,ce,ne,Ne)}async function ue(S,x,F,Q,ne,Ee,he){if(La(),dr.delete(S),!Q.route.action&&!Q.route.lazy){let ct=vr(405,{method:he.formMethod,pathname:F,routeId:x});ao(S,x,ct,{flushSync:Ee});return}let ce=E.fetchers.get(S);Br(S,Q4(he,ce),{flushSync:Ee});let le=new AbortController,Ne=Ju(t.history,F,le.signal,he);ye.set(S,le);let Ye=cr,we=await Xu("action",Ne,Q,ne,s,i,l);if(Ne.signal.aborted){ye.get(S)===le&&ye.delete(S);return}if(Tn.has(S)){Br(S,cs(void 0));return}if(Pl(we))if(ye.delete(S),En>Ye){Br(S,cs(void 0));return}else return Qt.add(S),Br(S,Zu(he)),oo(E,we,{fetcherSubmission:he});if(Nc(we)){ao(S,x,we.error);return}if(Uo(we))throw vr(400,{type:"defer-action"});let Be=E.navigation.location||E.location,et=Ju(t.history,Be,le.signal),Xt=a||o,dn=E.navigation.state!=="idle"?ml(Xt,E.navigation.location,l):E.matches;Ie(dn,"Didn't find any matches after fetcher action");let pr=++cr;wn.set(S,pr);let Wr=Zu(he,we.data);E.fetchers.set(S,Wr);let[Pr,Kn]=DA(t.history,E,dn,he,Be,pt,un,Ke,Tn,dr,Qt,Xt,l,{[Q.route.id]:we.data},void 0);Kn.filter(ct=>ct.key!==S).forEach(ct=>{let mr=ct.key,jh=E.fetchers.get(mr),Zg=Zu(void 0,jh?jh.data:void 0);E.fetchers.set(mr,Zg),ye.has(mr)&&zr(mr),ct.controller&&ye.set(mr,ct.controller)}),Ze({fetchers:new Map(E.fetchers)});let es=()=>Kn.forEach(ct=>zr(ct.key));le.signal.addEventListener("abort",es);let{results:xu,loaderResults:Nu,fetcherResults:Du}=await Gg(E.matches,dn,Pr,Kn,et);if(le.signal.aborted)return;le.signal.removeEventListener("abort",es),wn.delete(S),ye.delete(S),Kn.forEach(ct=>ye.delete(ct.key));let ts=UA(xu);if(ts){if(ts.idx>=Pr.length){let ct=Kn[ts.idx-Pr.length].key;Qt.add(ct)}return oo(E,ts.result)}let{loaderData:ze,errors:Ln}=MA(E,E.matches,Pr,Nu,void 0,Kn,Du,hr);if(E.fetchers.has(S)){let ct=cs(we.data);E.fetchers.set(S,ct)}Fh(pr),E.navigation.state==="loading"&&pr>En?(Ie(N,"Expected pending action"),L&&L.abort(),cn(E.navigation.location,{matches:dn,loaderData:ze,errors:Ln,fetchers:new Map(E.fetchers)})):(Ze({errors:Ln,loaderData:FA(E.loaderData,ze,dn,Ln),fetchers:new Map(E.fetchers)}),pt=!1)}async function Oa(S,x,F,Q,ne,Ee,he){let ce=E.fetchers.get(S);Br(S,Zu(he,ce?ce.data:void 0),{flushSync:Ee});let le=new AbortController,Ne=Ju(t.history,F,le.signal);ye.set(S,le);let Ye=cr,we=await Xu("loader",Ne,Q,ne,s,i,l);if(Uo(we)&&(we=await ok(we,Ne.signal,!0)||we),ye.get(S)===le&&ye.delete(S),!Ne.signal.aborted){if(Tn.has(S)){Br(S,cs(void 0));return}if(Pl(we))if(En>Ye){Br(S,cs(void 0));return}else{Qt.add(S),await oo(E,we);return}if(Nc(we)){ao(S,x,we.error);return}Ie(!Uo(we),"Unhandled fetcher deferred data"),Br(S,cs(we.data))}}async function oo(S,x,F){let{submission:Q,fetcherSubmission:ne,replace:Ee}=F===void 0?{}:F;x.revalidate&&(pt=!0);let he=nd(S.location,x.location,{_isRedirect:!0});if(Ie(he,"Expected a location on the redirect navigation"),n){let Be=!1;if(x.reloadDocument)Be=!0;else if(nk.test(x.location)){const et=t.history.createURL(x.location);Be=et.origin!==e.location.origin||lu(et.pathname,l)==null}if(Be){Ee?e.location.replace(x.location):e.location.assign(x.location);return}}L=null;let ce=Ee===!0?Pt.Replace:Pt.Push,{formMethod:le,formAction:Ne,formEncType:Ye}=S.navigation;!Q&&!ne&&le&&Ne&&Ye&&(Q=BA(S.navigation));let we=Q||ne;if(M4.has(x.status)&&we&&Dr(we.formMethod))await qn(ce,he,{submission:gt({},we,{formAction:x.location}),preventScrollReset:O});else{let Be=J_(he,Q);await qn(ce,he,{overrideNavigation:Be,fetcherSubmission:ne,preventScrollReset:O})}}async function Gg(S,x,F,Q,ne){let Ee=await Promise.all([...F.map(le=>Xu("loader",ne,le,x,s,i,l)),...Q.map(le=>le.matches&&le.match&&le.controller?Xu("loader",Ju(t.history,le.path,le.controller.signal),le.match,le.matches,s,i,l):{type:Rt.error,error:vr(404,{pathname:le.path})})]),he=Ee.slice(0,F.length),ce=Ee.slice(F.length);return await Promise.all([jA(S,F,he,he.map(()=>ne.signal),!1,E.loaderData),jA(S,Q.map(le=>le.match),ce,Q.map(le=>le.controller?le.controller.signal:null),!0)]),{results:Ee,loaderResults:he,fetcherResults:ce}}function La(){pt=!0,un.push(...ku()),dr.forEach((S,x)=>{ye.has(x)&&(Ke.push(x),zr(x))})}function Br(S,x,F){F===void 0&&(F={}),E.fetchers.set(S,x),Ze({fetchers:new Map(E.fetchers)},{flushSync:(F&&F.flushSync)===!0})}function ao(S,x,F,Q){Q===void 0&&(Q={});let ne=xc(E.matches,x);Va(S),Ze({errors:{[ne.route.id]:F},fetchers:new Map(E.fetchers)},{flushSync:(Q&&Q.flushSync)===!0})}function Vh(S){return c.v7_fetcherPersist&&(Sr.set(S,(Sr.get(S)||0)+1),Tn.has(S)&&Tn.delete(S)),E.fetchers.get(S)||F4}function Va(S){let x=E.fetchers.get(S);ye.has(S)&&!(x&&x.state==="loading"&&wn.has(S))&&zr(S),dr.delete(S),wn.delete(S),Qt.delete(S),Tn.delete(S),E.fetchers.delete(S)}function lo(S){if(c.v7_fetcherPersist){let x=(Sr.get(S)||0)-1;x<=0?(Sr.delete(S),Tn.add(S)):Sr.set(S,x)}else Va(S);Ze({fetchers:new Map(E.fetchers)})}function zr(S){let x=ye.get(S);Ie(x,"Expected fetch controller: "+S),x.abort(),ye.delete(S)}function Yg(S){for(let x of S){let F=Vh(x),Q=cs(F.data);E.fetchers.set(x,Q)}}function Mh(){let S=[],x=!1;for(let F of Qt){let Q=E.fetchers.get(F);Ie(Q,"Expected fetcher: "+F),Q.state==="loading"&&(Qt.delete(F),S.push(F),x=!0)}return Yg(S),x}function Fh(S){let x=[];for(let[F,Q]of wn)if(Q<S){let ne=E.fetchers.get(F);Ie(ne,"Expected fetcher: "+F),ne.state==="loading"&&(zr(F),wn.delete(F),x.push(F))}return Yg(x),x.length>0}function Qg(S,x){let F=E.blockers.get(S)||Qu;return q.get(S)!==x&&q.set(S,x),F}function Cu(S){E.blockers.delete(S),q.delete(S)}function Ma(S,x){let F=E.blockers.get(S)||Qu;Ie(F.state==="unblocked"&&x.state==="blocked"||F.state==="blocked"&&x.state==="blocked"||F.state==="blocked"&&x.state==="proceeding"||F.state==="blocked"&&x.state==="unblocked"||F.state==="proceeding"&&x.state==="unblocked","Invalid blocker state transition: "+F.state+" -> "+x.state);let Q=new Map(E.blockers);Q.set(S,x),Ze({blockers:Q})}function Ji(S){let{currentLocation:x,nextLocation:F,historyAction:Q}=S;if(q.size===0)return;q.size>1&&aa(!1,"A router only supports one blocker at a time");let ne=Array.from(q.entries()),[Ee,he]=ne[ne.length-1],ce=E.blockers.get(Ee);if(!(ce&&ce.state==="proceeding")&&he({currentLocation:x,nextLocation:F,historyAction:Q}))return Ee}function ku(S){let x=[];return hr.forEach((F,Q)=>{(!S||S(Q))&&(F.cancel(),x.push(Q),hr.delete(Q))}),x}function Zi(S,x,F){if(m=S,b=x,v=F||null,!I&&E.navigation===X_){I=!0;let Q=Uh(E.location,E.matches);Q!=null&&Ze({restoreScrollPosition:Q})}return()=>{m=null,b=null,v=null}}function $h(S,x){return v&&v(S,x.map(Q=>f4(Q,E.loaderData)))||S.key}function Xg(S,x){if(m&&b){let F=$h(S,x);m[F]=b()}}function Uh(S,x){if(m){let F=$h(S,x),Q=m[F];if(typeof Q=="number")return Q}return null}function Jg(S){s={},a=_y(S,i,void 0,s)}return A={get basename(){return l},get state(){return E},get routes(){return o},get window(){return e},initialize:be,subscribe:V,enableScrollRestoration:Zi,navigate:fr,fetch:Ru,revalidate:Ft,createHref:S=>t.history.createHref(S),encodeLocation:S=>t.history.encodeLocation(S),getFetcher:Vh,deleteFetcher:lo,dispose:Ge,getBlocker:Qg,deleteBlocker:Cu,_internalFetchControllers:ye,_internalActiveDeferreds:hr,_internalSetRoutes:Jg},A}function j4(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function vy(t,e,n,r,i,s,o){let a,l;if(s){a=[];for(let d of e)if(a.push(d),d.route.id===s){l=d;break}}else a=e,l=e[e.length-1];let c=kw(i||".",Cw(a),lu(t.pathname,n)||t.pathname,o==="path");return i==null&&(c.search=t.search,c.hash=t.hash),(i==null||i===""||i===".")&&l&&l.route.index&&!Nw(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(c.pathname=c.pathname==="/"?n:Oi([n,c.pathname])),la(c)}function NA(t,e,n,r){if(!r||!j4(r))return{path:n};if(r.formMethod&&!G4(r.formMethod))return{path:n,error:vr(405,{method:r.formMethod})};let i=()=>({path:n,error:vr(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=sk(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Dr(o))return i();let m=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((v,b)=>{let[I,_]=b;return""+v+I+"="+_+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:m}}}else if(r.formEncType==="application/json"){if(!Dr(o))return i();try{let m=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:m,text:void 0}}}catch{return i()}}}Ie(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=yy(r.formData),c=r.formData;else if(r.body instanceof FormData)l=yy(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=VA(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=VA(l)}catch{return i()}let d={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Dr(d.formMethod))return{path:n,submission:d};let f=Wi(n);return e&&f.search&&Nw(f.search)&&l.append("index",""),f.search="?"+l,{path:la(f),submission:d}}function B4(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function DA(t,e,n,r,i,s,o,a,l,c,d,f,m,v,b){let I=b?Object.values(b)[0]:v?Object.values(v)[0]:void 0,_=t.createURL(e.location),y=t.createURL(i),T=b?Object.keys(b)[0]:void 0,E=B4(n,T).filter((O,L)=>{if(O.route.lazy)return!0;if(O.route.loader==null)return!1;if(z4(e.loaderData,e.matches[L],O)||o.some(Ce=>Ce===O.route.id))return!0;let G=e.matches[L],H=O;return OA(O,gt({currentUrl:_,currentParams:G.params,nextUrl:y,nextParams:H.params},r,{actionResult:I,defaultShouldRevalidate:s||_.pathname+_.search===y.pathname+y.search||_.search!==y.search||ik(G,H)}))}),N=[];return c.forEach((O,L)=>{if(!n.some(pt=>pt.route.id===O.routeId)||l.has(L))return;let G=ml(f,O.path,m);if(!G){N.push({key:L,routeId:O.routeId,path:O.path,matches:null,match:null,controller:null});return}let H=e.fetchers.get(L),Ce=Ey(G,O.path),De=!1;d.has(L)?De=!1:a.includes(L)?De=!0:H&&H.state!=="idle"&&H.data===void 0?De=s:De=OA(Ce,gt({currentUrl:_,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:I,defaultShouldRevalidate:s})),De&&N.push({key:L,routeId:O.routeId,path:O.path,matches:G,match:Ce,controller:new AbortController})}),[E,N]}function z4(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function ik(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function OA(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function LA(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Ie(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";aa(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!d4.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,gt({},e(i),{lazy:void 0}))}async function Xu(t,e,n,r,i,s,o,a){a===void 0&&(a={});let l,c,d,f=b=>{let I,_=new Promise((y,T)=>I=T);return d=()=>I(),e.signal.addEventListener("abort",d),Promise.race([b({request:e,params:n.params,context:a.requestContext}),_])};try{let b=n.route[t];if(n.route.lazy)if(b){let I,_=await Promise.all([f(b).catch(y=>{I=y}),LA(n.route,s,i)]);if(I)throw I;c=_[0]}else if(await LA(n.route,s,i),b=n.route[t],b)c=await f(b);else if(t==="action"){let I=new URL(e.url),_=I.pathname+I.search;throw vr(405,{method:e.method,pathname:_,routeId:n.route.id})}else return{type:Rt.data,data:void 0};else if(b)c=await f(b);else{let I=new URL(e.url),_=I.pathname+I.search;throw vr(404,{pathname:_})}Ie(c!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(b){l=Rt.error,c=b}finally{d&&e.signal.removeEventListener("abort",d)}if(K4(c)){let b=c.status;if(V4.has(b)){let y=c.headers.get("Location");if(Ie(y,"Redirects returned/thrown from loaders/actions must have a Location header"),!nk.test(y))y=vy(new URL(e.url),r.slice(0,r.indexOf(n)+1),o,!0,y);else if(!a.isStaticRequest){let T=new URL(e.url),A=y.startsWith("//")?new URL(T.protocol+y):new URL(y),E=lu(A.pathname,o)!=null;A.origin===T.origin&&E&&(y=A.pathname+A.search+A.hash)}if(a.isStaticRequest)throw c.headers.set("Location",y),c;return{type:Rt.redirect,status:b,location:y,revalidate:c.headers.get("X-Remix-Revalidate")!==null,reloadDocument:c.headers.get("X-Remix-Reload-Document")!==null}}if(a.isRouteRequest)throw{type:l===Rt.error?Rt.error:Rt.data,response:c};let I,_=c.headers.get("Content-Type");return _&&/\bapplication\/json\b/.test(_)?I=await c.json():I=await c.text(),l===Rt.error?{type:l,error:new xw(b,c.statusText,I),headers:c.headers}:{type:Rt.data,data:I,statusCode:c.status,headers:c.headers}}if(l===Rt.error)return{type:l,error:c};if(H4(c)){var m,v;return{type:Rt.deferred,deferredData:c,statusCode:(m=c.init)==null?void 0:m.status,headers:((v=c.init)==null?void 0:v.headers)&&new Headers(c.init.headers)}}return{type:Rt.data,data:c}}function Ju(t,e,n,r){let i=t.createURL(sk(e)).toString(),s={signal:n};if(r&&Dr(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=yy(r.formData):s.body=r.formData}return new Request(i,s)}function yy(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function VA(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function W4(t,e,n,r,i){let s={},o=null,a,l=!1,c={};return n.forEach((d,f)=>{let m=e[f].route.id;if(Ie(!Pl(d),"Cannot handle redirect results in processLoaderData"),Nc(d)){let v=xc(t,m),b=d.error;r&&(b=Object.values(r)[0],r=void 0),o=o||{},o[v.route.id]==null&&(o[v.route.id]=b),s[m]=void 0,l||(l=!0,a=ek(d.error)?d.error.status:500),d.headers&&(c[m]=d.headers)}else Uo(d)?(i.set(m,d.deferredData),s[m]=d.deferredData.data):s[m]=d.data,d.statusCode!=null&&d.statusCode!==200&&!l&&(a=d.statusCode),d.headers&&(c[m]=d.headers)}),r&&(o=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:c}}function MA(t,e,n,r,i,s,o,a){let{loaderData:l,errors:c}=W4(e,n,r,i,a);for(let d=0;d<s.length;d++){let{key:f,match:m,controller:v}=s[d];Ie(o!==void 0&&o[d]!==void 0,"Did not find corresponding fetcher result");let b=o[d];if(!(v&&v.signal.aborted))if(Nc(b)){let I=xc(t.matches,m==null?void 0:m.route.id);c&&c[I.route.id]||(c=gt({},c,{[I.route.id]:b.error})),t.fetchers.delete(f)}else if(Pl(b))Ie(!1,"Unhandled fetcher revalidation redirect");else if(Uo(b))Ie(!1,"Unhandled fetcher deferred data");else{let I=cs(b.data);t.fetchers.set(f,I)}}return{loaderData:l,errors:c}}function FA(t,e,n,r){let i=gt({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function xc(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function $A(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function vr(t,e){let{pathname:n,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?a="defer() is not supported in actions":s==="invalid-body"&&(a="Unable to encode submission body")):t===403?(o="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",a='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new xw(t||500,o,new Error(a),!0)}function UA(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Pl(n))return{result:n,idx:e}}}function sk(t){let e=typeof t=="string"?Wi(t):t;return la(gt({},e,{hash:""}))}function q4(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Uo(t){return t.type===Rt.deferred}function Nc(t){return t.type===Rt.error}function Pl(t){return(t&&t.type)===Rt.redirect}function H4(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function K4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function G4(t){return L4.has(t.toLowerCase())}function Dr(t){return D4.has(t.toLowerCase())}async function jA(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],l=e[o];if(!l)continue;let c=t.find(f=>f.route.id===l.route.id),d=c!=null&&!ik(c,l)&&(s&&s[l.route.id])!==void 0;if(Uo(a)&&(i||d)){let f=r[o];Ie(f,"Expected an AbortSignal for revalidating fetcher deferred result"),await ok(a,f,i).then(m=>{m&&(n[o]=m||n[o])})}}}async function ok(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Rt.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Rt.error,error:i}}return{type:Rt.data,data:t.deferredData.data}}}function Nw(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Ey(t,e){let n=typeof e=="string"?Wi(e).search:e.search;if(t[t.length-1].route.index&&Nw(n||""))return t[t.length-1];let r=ZC(t);return r[r.length-1]}function BA(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function J_(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Y4(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Zu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Q4(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function cs(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function X4(t,e){try{let n=t.sessionStorage.getItem(rk);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function J4(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(rk,JSON.stringify(n))}catch(r){aa(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jp(){return jp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jp.apply(this,arguments)}const Dm=$.createContext(null),ak=$.createContext(null),uu=$.createContext(null),Om=$.createContext(null),qi=$.createContext({outlet:null,matches:[],isDataRoute:!1}),lk=$.createContext(null);function Z4(t,e){let{relative:n}=e===void 0?{}:e;Qd()||Ie(!1);let{basename:r,navigator:i}=$.useContext(uu),{hash:s,pathname:o,search:a}=ck(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Oi([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Qd(){return $.useContext(Om)!=null}function Lm(){return Qd()||Ie(!1),$.useContext(Om).location}function uk(t){$.useContext(uu).static||$.useLayoutEffect(t)}function cu(){let{isDataRoute:t}=$.useContext(qi);return t?pj():ej()}function ej(){Qd()||Ie(!1);let t=$.useContext(Dm),{basename:e,navigator:n}=$.useContext(uu),{matches:r}=$.useContext(qi),{pathname:i}=Lm(),s=JSON.stringify(Cw(r)),o=$.useRef(!1);return uk(()=>{o.current=!0}),$.useCallback(function(l,c){if(c===void 0&&(c={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=kw(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Oi([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,s,i,t])}const tj=$.createContext(null);function nj(t){let e=$.useContext(qi).outlet;return e&&$.createElement(tj.Provider,{value:t},e)}function rj(){let{matches:t}=$.useContext(qi),e=t[t.length-1];return e?e.params:{}}function ck(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=$.useContext(qi),{pathname:i}=Lm(),s=JSON.stringify(Cw(r));return $.useMemo(()=>kw(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function ij(t,e){return dk(t,e)}function dk(t,e,n){Qd()||Ie(!1);let{navigator:r}=$.useContext(uu),{matches:i}=$.useContext(qi),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Lm(),c;if(e){var d;let I=typeof e=="string"?Wi(e):e;a==="/"||(d=I.pathname)!=null&&d.startsWith(a)||Ie(!1),c=I}else c=l;let f=c.pathname||"/",m=a==="/"?f:f.slice(a.length)||"/",v=ml(t,{pathname:m}),b=uj(v&&v.map(I=>Object.assign({},I,{params:Object.assign({},o,I.params),pathname:Oi([a,r.encodeLocation?r.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?a:Oi([a,r.encodeLocation?r.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),i,n);return e&&b?$.createElement(Om.Provider,{value:{location:jp({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Pt.Pop}},b):b}function sj(){let t=fj(),e=ek(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return $.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),n?$.createElement("pre",{style:i},n):null,s)}const oj=$.createElement(sj,null);class aj extends $.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?$.createElement(qi.Provider,{value:this.props.routeContext},$.createElement(lk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lj(t){let{routeContext:e,match:n,children:r}=t,i=$.useContext(Dm);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),$.createElement(qi.Provider,{value:e},r)}function uj(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||Ie(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,c)=>{let d=l.route.id?o==null?void 0:o[l.route.id]:null,f=null;n&&(f=l.route.errorElement||oj);let m=e.concat(s.slice(0,c+1)),v=()=>{let b;return d?b=f:l.route.Component?b=$.createElement(l.route.Component,null):l.route.element?b=l.route.element:b=a,$.createElement(lj,{match:l,routeContext:{outlet:a,matches:m,isDataRoute:n!=null},children:b})};return n&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?$.createElement(aj,{location:n.location,revalidation:n.revalidation,component:f,error:d,children:v(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):v()},null)}var hk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(hk||{}),Bp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Bp||{});function cj(t){let e=$.useContext(Dm);return e||Ie(!1),e}function dj(t){let e=$.useContext(ak);return e||Ie(!1),e}function hj(t){let e=$.useContext(qi);return e||Ie(!1),e}function fk(t){let e=hj(),n=e.matches[e.matches.length-1];return n.route.id||Ie(!1),n.route.id}function fj(){var t;let e=$.useContext(lk),n=dj(Bp.UseRouteError),r=fk(Bp.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function pj(){let{router:t}=cj(hk.UseNavigateStable),e=fk(Bp.UseNavigateStable),n=$.useRef(!1);return uk(()=>{n.current=!0}),$.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,jp({fromRouteId:e},s)))},[t,e])}function mj(t){return nj(t.context)}function wy(t){Ie(!1)}function gj(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Pt.Pop,navigator:s,static:o=!1}=t;Qd()&&Ie(!1);let a=e.replace(/^\/*/,"/"),l=$.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Wi(r));let{pathname:c="/",search:d="",hash:f="",state:m=null,key:v="default"}=r,b=$.useMemo(()=>{let I=lu(c,a);return I==null?null:{location:{pathname:I,search:d,hash:f,state:m,key:v},navigationType:i}},[a,c,d,f,m,v,i]);return b==null?null:$.createElement(uu.Provider,{value:l},$.createElement(Om.Provider,{children:n,value:b}))}function _j(t){let{children:e,location:n}=t;return ij(Ty(e),n)}new Promise(()=>{});function Ty(t,e){e===void 0&&(e=[]);let n=[];return $.Children.forEach(t,(r,i)=>{if(!$.isValidElement(r))return;let s=[...e,i];if(r.type===$.Fragment){n.push.apply(n,Ty(r.props.children,s));return}r.type!==wy&&Ie(!1),!r.props.index||!r.props.children||Ie(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Ty(r.props.children,s)),n.push(o)}),n}function vj(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:$.createElement(t.Component),Component:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:$.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rd(){return rd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rd.apply(this,arguments)}function yj(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Ej(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function wj(t,e){return t.button===0&&(!e||e==="_self")&&!Ej(t)}const Tj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];function Ij(t,e){return U4({basename:e==null?void 0:e.basename,future:rd({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:l4({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||bj(),routes:t,mapRouteProperties:vj,window:e==null?void 0:e.window}).initialize()}function bj(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=rd({},e,{errors:Aj(e.errors)})),e}function Aj(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new xw(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const Sj=$.createContext({isTransitioning:!1}),Pj=$.createContext(new Map),Rj="startTransition",zA=Y2[Rj],Cj="flushSync",WA=WU[Cj];function kj(t){zA?zA(t):t()}function ec(t){WA?WA(t):t()}let xj=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function Nj(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=$.useState(n.state),[o,a]=$.useState(),[l,c]=$.useState({isTransitioning:!1}),[d,f]=$.useState(),[m,v]=$.useState(),[b,I]=$.useState(),_=$.useRef(new Map),{v7_startTransition:y}=r||{},T=$.useCallback(L=>{y?kj(L):L()},[y]),A=$.useCallback((L,G)=>{let{deletedFetchers:H,unstable_flushSync:Ce,unstable_viewTransitionOpts:De}=G;H.forEach(un=>_.current.delete(un)),L.fetchers.forEach((un,Ke)=>{un.data!==void 0&&_.current.set(Ke,un.data)});let pt=n.window==null||typeof n.window.document.startViewTransition!="function";if(!De||pt){Ce?ec(()=>s(L)):T(()=>s(L));return}if(Ce){ec(()=>{m&&(d&&d.resolve(),m.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:De.currentLocation,nextLocation:De.nextLocation})});let un=n.window.document.startViewTransition(()=>{ec(()=>s(L))});un.finished.finally(()=>{ec(()=>{f(void 0),v(void 0),a(void 0),c({isTransitioning:!1})})}),ec(()=>v(un));return}m?(d&&d.resolve(),m.skipTransition(),I({state:L,currentLocation:De.currentLocation,nextLocation:De.nextLocation})):(a(L),c({isTransitioning:!0,flushSync:!1,currentLocation:De.currentLocation,nextLocation:De.nextLocation}))},[n.window,m,d,_,T]);$.useLayoutEffect(()=>n.subscribe(A),[n,A]),$.useEffect(()=>{l.isTransitioning&&!l.flushSync&&f(new xj)},[l]),$.useEffect(()=>{if(d&&o&&n.window){let L=o,G=d.promise,H=n.window.document.startViewTransition(async()=>{T(()=>s(L)),await G});H.finished.finally(()=>{f(void 0),v(void 0),a(void 0),c({isTransitioning:!1})}),v(H)}},[T,o,d,n.window]),$.useEffect(()=>{d&&o&&i.location.key===o.location.key&&d.resolve()},[d,m,i.location,o]),$.useEffect(()=>{!l.isTransitioning&&b&&(a(b.state),c({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),I(void 0))},[l.isTransitioning,b]);let E=$.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:L=>n.navigate(L),push:(L,G,H)=>n.navigate(L,{state:G,preventScrollReset:H==null?void 0:H.preventScrollReset}),replace:(L,G,H)=>n.navigate(L,{replace:!0,state:G,preventScrollReset:H==null?void 0:H.preventScrollReset})}),[n]),N=n.basename||"/",O=$.useMemo(()=>({router:n,navigator:E,static:!1,basename:N}),[n,E,N]);return $.createElement($.Fragment,null,$.createElement(Dm.Provider,{value:O},$.createElement(ak.Provider,{value:i},$.createElement(Pj.Provider,{value:_.current},$.createElement(Sj.Provider,{value:l},$.createElement(gj,{basename:N,location:i.location,navigationType:i.historyAction,navigator:E},i.initialized?$.createElement(Dj,{routes:n.routes,state:i}):e))))),null)}function Dj(t){let{routes:e,state:n}=t;return dk(e,void 0,n)}const Oj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Lj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ti=$.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,unstable_viewTransition:f}=e,m=yj(e,Tj),{basename:v}=$.useContext(uu),b,I=!1;if(typeof c=="string"&&Lj.test(c)&&(b=c,Oj))try{let A=new URL(window.location.href),E=c.startsWith("//")?new URL(A.protocol+c):new URL(c),N=lu(E.pathname,v);E.origin===A.origin&&N!=null?c=N+E.search+E.hash:I=!0}catch{}let _=Z4(c,{relative:i}),y=Vj(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,unstable_viewTransition:f});function T(A){r&&r(A),A.defaultPrevented||y(A)}return $.createElement("a",rd({},m,{href:b||_,onClick:I||s?r:T,ref:n,target:l}))});var qA;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(qA||(qA={}));var HA;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(HA||(HA={}));function Vj(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=cu(),c=Lm(),d=ck(t,{relative:o});return $.useCallback(f=>{if(wj(f,n)){f.preventDefault();let m=r!==void 0?r:la(c)===la(d);l(t,{replace:m,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,l,d,r,i,n,t,s,o,a])}var pk={exports:{}},Mj="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Fj=Mj,$j=Fj;function mk(){}function gk(){}gk.resetWarningCache=mk;var Uj=function(){function t(r,i,s,o,a,l){if(l!==$j){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:gk,resetWarningCache:mk};return n.PropTypes=n,n};pk.exports=Uj();var jj=pk.exports;const Pe=xE(jj);var Ls=er.createContext(null);function Bj(t){t()}var _k=Bj,zj=function(e){return _k=e},Wj=function(){return _k};function qj(){var t=Wj(),e=null,n=null;return{clear:function(){e=null,n=null},notify:function(){t(function(){for(var i=e;i;)i.callback(),i=i.next})},get:function(){for(var i=[],s=e;s;)i.push(s),s=s.next;return i},subscribe:function(i){var s=!0,o=n={callback:i,next:null,prev:n};return o.prev?o.prev.next=o:e=o,function(){!s||e===null||(s=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var KA={notify:function(){},get:function(){return[]}};function vk(t,e){var n,r=KA;function i(f){return l(),r.subscribe(f)}function s(){r.notify()}function o(){d.onStateChange&&d.onStateChange()}function a(){return!!n}function l(){n||(n=e?e.addNestedSub(o):t.subscribe(o),r=qj())}function c(){n&&(n(),n=void 0,r.clear(),r=KA)}var d={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:l,tryUnsubscribe:c,getListeners:function(){return r}};return d}var Iy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?$.useLayoutEffect:$.useEffect;function Hj(t){var e=t.store,n=t.context,r=t.children,i=$.useMemo(function(){var a=vk(e);return{store:e,subscription:a}},[e]),s=$.useMemo(function(){return e.getState()},[e]);Iy(function(){var a=i.subscription;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),s!==e.getState()&&a.notifyNestedSubs(),function(){a.tryUnsubscribe(),a.onStateChange=null}},[i,s]);var o=n||Ls;return er.createElement(o.Provider,{value:i},r)}var yk={exports:{}},je={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ht=typeof Symbol=="function"&&Symbol.for,Dw=Ht?Symbol.for("react.element"):60103,Ow=Ht?Symbol.for("react.portal"):60106,Vm=Ht?Symbol.for("react.fragment"):60107,Mm=Ht?Symbol.for("react.strict_mode"):60108,Fm=Ht?Symbol.for("react.profiler"):60114,$m=Ht?Symbol.for("react.provider"):60109,Um=Ht?Symbol.for("react.context"):60110,Lw=Ht?Symbol.for("react.async_mode"):60111,jm=Ht?Symbol.for("react.concurrent_mode"):60111,Bm=Ht?Symbol.for("react.forward_ref"):60112,zm=Ht?Symbol.for("react.suspense"):60113,Kj=Ht?Symbol.for("react.suspense_list"):60120,Wm=Ht?Symbol.for("react.memo"):60115,qm=Ht?Symbol.for("react.lazy"):60116,Gj=Ht?Symbol.for("react.block"):60121,Yj=Ht?Symbol.for("react.fundamental"):60117,Qj=Ht?Symbol.for("react.responder"):60118,Xj=Ht?Symbol.for("react.scope"):60119;function lr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Dw:switch(t=t.type,t){case Lw:case jm:case Vm:case Fm:case Mm:case zm:return t;default:switch(t=t&&t.$$typeof,t){case Um:case Bm:case qm:case Wm:case $m:return t;default:return e}}case Ow:return e}}}function Ek(t){return lr(t)===jm}je.AsyncMode=Lw;je.ConcurrentMode=jm;je.ContextConsumer=Um;je.ContextProvider=$m;je.Element=Dw;je.ForwardRef=Bm;je.Fragment=Vm;je.Lazy=qm;je.Memo=Wm;je.Portal=Ow;je.Profiler=Fm;je.StrictMode=Mm;je.Suspense=zm;je.isAsyncMode=function(t){return Ek(t)||lr(t)===Lw};je.isConcurrentMode=Ek;je.isContextConsumer=function(t){return lr(t)===Um};je.isContextProvider=function(t){return lr(t)===$m};je.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Dw};je.isForwardRef=function(t){return lr(t)===Bm};je.isFragment=function(t){return lr(t)===Vm};je.isLazy=function(t){return lr(t)===qm};je.isMemo=function(t){return lr(t)===Wm};je.isPortal=function(t){return lr(t)===Ow};je.isProfiler=function(t){return lr(t)===Fm};je.isStrictMode=function(t){return lr(t)===Mm};je.isSuspense=function(t){return lr(t)===zm};je.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Vm||t===jm||t===Fm||t===Mm||t===zm||t===Kj||typeof t=="object"&&t!==null&&(t.$$typeof===qm||t.$$typeof===Wm||t.$$typeof===$m||t.$$typeof===Um||t.$$typeof===Bm||t.$$typeof===Yj||t.$$typeof===Qj||t.$$typeof===Xj||t.$$typeof===Gj)};je.typeOf=lr;yk.exports=je;var Jj=yk.exports,wk=Jj,Zj={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},eB={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Tk={};Tk[wk.ForwardRef]=Zj;Tk[wk.Memo]=eB;var Je={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hm=60103,Km=60106,Xd=60107,Jd=60108,Zd=60114,eh=60109,th=60110,nh=60112,rh=60113,Vw=60120,ih=60115,sh=60116,Ik=60121,bk=60122,Ak=60117,Sk=60129,Pk=60131;if(typeof Symbol=="function"&&Symbol.for){var Zt=Symbol.for;Hm=Zt("react.element"),Km=Zt("react.portal"),Xd=Zt("react.fragment"),Jd=Zt("react.strict_mode"),Zd=Zt("react.profiler"),eh=Zt("react.provider"),th=Zt("react.context"),nh=Zt("react.forward_ref"),rh=Zt("react.suspense"),Vw=Zt("react.suspense_list"),ih=Zt("react.memo"),sh=Zt("react.lazy"),Ik=Zt("react.block"),bk=Zt("react.server.block"),Ak=Zt("react.fundamental"),Sk=Zt("react.debug_trace_mode"),Pk=Zt("react.legacy_hidden")}function jr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Hm:switch(t=t.type,t){case Xd:case Zd:case Jd:case rh:case Vw:return t;default:switch(t=t&&t.$$typeof,t){case th:case nh:case sh:case ih:case eh:return t;default:return e}}case Km:return e}}}var tB=eh,nB=Hm,rB=nh,iB=Xd,sB=sh,oB=ih,aB=Km,lB=Zd,uB=Jd,cB=rh;Je.ContextConsumer=th;Je.ContextProvider=tB;Je.Element=nB;Je.ForwardRef=rB;Je.Fragment=iB;Je.Lazy=sB;Je.Memo=oB;Je.Portal=aB;Je.Profiler=lB;Je.StrictMode=uB;Je.Suspense=cB;Je.isAsyncMode=function(){return!1};Je.isConcurrentMode=function(){return!1};Je.isContextConsumer=function(t){return jr(t)===th};Je.isContextProvider=function(t){return jr(t)===eh};Je.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Hm};Je.isForwardRef=function(t){return jr(t)===nh};Je.isFragment=function(t){return jr(t)===Xd};Je.isLazy=function(t){return jr(t)===sh};Je.isMemo=function(t){return jr(t)===ih};Je.isPortal=function(t){return jr(t)===Km};Je.isProfiler=function(t){return jr(t)===Zd};Je.isStrictMode=function(t){return jr(t)===Jd};Je.isSuspense=function(t){return jr(t)===rh};Je.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Xd||t===Zd||t===Sk||t===Jd||t===rh||t===Vw||t===Pk||typeof t=="object"&&t!==null&&(t.$$typeof===sh||t.$$typeof===ih||t.$$typeof===eh||t.$$typeof===th||t.$$typeof===nh||t.$$typeof===Ak||t.$$typeof===Ik||t[0]===bk)};Je.typeOf=jr;function GA(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function oh(t,e){if(GA(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!GA(t[n[i]],e[n[i]]))return!1;return!0}function Rk(){var t=$.useContext(Ls);return t}function Ck(t){t===void 0&&(t=Ls);var e=t===Ls?Rk:function(){return $.useContext(t)};return function(){var r=e(),i=r.store;return i}}var dB=Ck();function hB(t){t===void 0&&(t=Ls);var e=t===Ls?dB:Ck(t);return function(){var r=e();return r.dispatch}}var yi=hB(),fB=function(e,n){return e===n};function pB(t,e,n,r){var i=$.useReducer(function(b){return b+1},0),s=i[1],o=$.useMemo(function(){return vk(n,r)},[n,r]),a=$.useRef(),l=$.useRef(),c=$.useRef(),d=$.useRef(),f=n.getState(),m;try{if(t!==l.current||f!==c.current||a.current){var v=t(f);d.current===void 0||!e(v,d.current)?m=v:m=d.current}else m=d.current}catch(b){throw a.current&&(b.message+=`
The error may be correlated with this previous error:
`+a.current.stack+`

`),b}return Iy(function(){l.current=t,c.current=f,d.current=m,a.current=void 0}),Iy(function(){function b(){try{var I=n.getState();if(I===c.current)return;var _=l.current(I);if(e(_,d.current))return;d.current=_,c.current=I}catch(y){a.current=y}s()}return o.onStateChange=b,o.trySubscribe(),b(),function(){return o.tryUnsubscribe()}},[n,o]),m}function mB(t){t===void 0&&(t=Ls);var e=t===Ls?Rk:function(){return $.useContext(t)};return function(r,i){i===void 0&&(i=fB);var s=e(),o=s.store,a=s.subscription,l=pB(r,i,o,a);return $.useDebugValue(l),l}}var Aa=mB();zj(Rw.unstable_batchedUpdates);var YA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},gB=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},xk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let m=(a&15)<<2|c>>6,v=c&63;l||(v=64,o||(m=64)),r.push(n[d],n[f],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(kk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):gB(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new _B;const m=s<<2|a>>4;if(r.push(m),c!==64){const v=a<<4&240|c>>2;if(r.push(v),f!==64){const b=c<<6&192|f;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class _B extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vB=function(t){const e=kk(t);return xk.encodeByteArray(e,!0)},zp=function(t){return vB(t).replace(/\./g,"")},Nk=function(t){try{return xk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Wp(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!yB(n)||(t[n]=Wp(t[n],e[n]));return t}function yB(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wB=()=>EB().__FIREBASE_DEFAULTS__,TB=()=>{if(typeof process>"u"||typeof YA>"u")return;const t=YA.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},IB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Nk(t[1]);return e&&JSON.parse(e)},Mw=()=>{try{return wB()||TB()||IB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Dk=()=>{var t;return(t=Mw())===null||t===void 0?void 0:t.config},bB=t=>{var e;return(e=Mw())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SB(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[zp(JSON.stringify(n)),zp(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PB(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ft())}function Fw(){var t;const e=(t=Mw())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RB(){return typeof self=="object"&&self.self===self}function Ok(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function $w(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Lk(){const t=ft();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function CB(){return!Fw()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function id(){try{return typeof indexedDB=="object"}catch{return!1}}function kB(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xB="FirebaseError";class Cn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=xB,Object.setPrototypeOf(this,Cn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sa.prototype.create)}}class Sa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?NB(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Cn(i,a,r)}}function NB(t,e){return t.replace(DB,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const DB=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function OB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function by(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(XA(s)&&XA(o)){if(!by(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function XA(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function gl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function pc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Vk(t,e){const n=new LB(t,e);return n.subscribe.bind(n)}class LB{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");VB(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Z_),i.error===void 0&&(i.error=Z_),i.complete===void 0&&(i.complete=Z_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VB(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Z_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(t){return t&&t._delegate?t._delegate:t}class pi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new AB;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($B(e))try{this.getOrInitializeService({instanceIdentifier:Po})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Po){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Po){return this.instances.has(e)}getOptions(e=Po){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:FB(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Po){return this.component?this.component.multipleInstances?e:Po:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FB(t){return t===Po?void 0:t}function $B(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new MB(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw=[];var Re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Re||(Re={}));const Mk={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},jB=Re.INFO,BB={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},zB=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=BB[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gm{constructor(e){this.name=e,this._logLevel=jB,this._logHandler=zB,this._userLogHandler=null,Uw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Mk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}function WB(t){Uw.forEach(e=>{e.setLogLevel(t)})}function qB(t,e){for(const n of Uw){let r=null;e&&e.level&&(r=Mk[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r??i.logLevel)&&t({level:Re[s].toLowerCase(),message:a,args:o,type:i.name})}}}const HB=(t,e)=>e.some(n=>t instanceof n);let JA,ZA;function KB(){return JA||(JA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GB(){return ZA||(ZA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Fk=new WeakMap,Ay=new WeakMap,$k=new WeakMap,ev=new WeakMap,jw=new WeakMap;function YB(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Cs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Fk.set(n,t)}).catch(()=>{}),jw.set(e,t),e}function QB(t){if(Ay.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ay.set(t,e)}let Sy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ay.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$k.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Cs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function XB(t){Sy=t(Sy)}function JB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(tv(this),e,...n);return $k.set(r,e.sort?e.sort():[e]),Cs(r)}:GB().includes(t)?function(...e){return t.apply(tv(this),e),Cs(Fk.get(this))}:function(...e){return Cs(t.apply(tv(this),e))}}function ZB(t){return typeof t=="function"?JB(t):(t instanceof IDBTransaction&&QB(t),HB(t,KB())?new Proxy(t,Sy):t)}function Cs(t){if(t instanceof IDBRequest)return YB(t);if(ev.has(t))return ev.get(t);const e=ZB(t);return e!==t&&(ev.set(t,e),jw.set(e,t)),e}const tv=t=>jw.get(t);function e6(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Cs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Cs(o.result),l.oldVersion,l.newVersion,Cs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const t6=["get","getKey","getAll","getAllKeys","count"],n6=["put","add","delete","clear"],nv=new Map;function eS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(nv.get(e))return nv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=n6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||t6.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return nv.set(e,s),s}XB(t=>({...t,get:(e,n,r)=>eS(e,n)||t.get(e,n,r),has:(e,n)=>!!eS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(i6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function i6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Py="@firebase/app",tS="0.9.24";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=new Gm("@firebase/app"),s6="@firebase/app-compat",o6="@firebase/analytics-compat",a6="@firebase/analytics",l6="@firebase/app-check-compat",u6="@firebase/app-check",c6="@firebase/auth",d6="@firebase/auth-compat",h6="@firebase/database",f6="@firebase/database-compat",p6="@firebase/functions",m6="@firebase/functions-compat",g6="@firebase/installations",_6="@firebase/installations-compat",v6="@firebase/messaging",y6="@firebase/messaging-compat",E6="@firebase/performance",w6="@firebase/performance-compat",T6="@firebase/remote-config",I6="@firebase/remote-config-compat",b6="@firebase/storage",A6="@firebase/storage-compat",S6="@firebase/firestore",P6="@firebase/firestore-compat",R6="firebase",C6="10.7.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="[DEFAULT]",k6={[Py]:"fire-core",[s6]:"fire-core-compat",[a6]:"fire-analytics",[o6]:"fire-analytics-compat",[u6]:"fire-app-check",[l6]:"fire-app-check-compat",[c6]:"fire-auth",[d6]:"fire-auth-compat",[h6]:"fire-rtdb",[f6]:"fire-rtdb-compat",[p6]:"fire-fn",[m6]:"fire-fn-compat",[g6]:"fire-iid",[_6]:"fire-iid-compat",[v6]:"fire-fcm",[y6]:"fire-fcm-compat",[E6]:"fire-perf",[w6]:"fire-perf-compat",[T6]:"fire-rc",[I6]:"fire-rc-compat",[b6]:"fire-gcs",[A6]:"fire-gcs-compat",[S6]:"fire-fst",[P6]:"fire-fst-compat","fire-js":"fire-js",[R6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=new Map,sd=new Map;function qp(t,e){try{t.container.addComponent(e)}catch(n){ua.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Uk(t,e){t.container.addOrOverwriteComponent(e)}function Fs(t){const e=t.name;if(sd.has(e))return ua.debug(`There were multiple attempts to register component ${e}.`),!1;sd.set(e,t);for(const n of Ms.values())qp(n,t);return!0}function jk(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function x6(t,e,n=Vs){jk(t,e).clearInstance(n)}function N6(){sd.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Li=new Sa("app","Firebase",D6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let O6=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Li.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=C6;function Bw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Vs,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Li.create("bad-app-name",{appName:String(i)});if(n||(n=Dk()),!n)throw Li.create("no-options");const s=Ms.get(i);if(s){if(by(n,s.options)&&by(r,s.config))return s;throw Li.create("duplicate-app",{appName:i})}const o=new UB(i);for(const l of sd.values())o.addComponent(l);const a=new O6(n,r,o);return Ms.set(i,a),a}function L6(t=Vs){const e=Ms.get(t);if(!e&&t===Vs&&Dk())return Bw();if(!e)throw Li.create("no-app",{appName:t});return e}function V6(){return Array.from(Ms.values())}async function Bk(t){const e=t.name;Ms.has(e)&&(Ms.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function ci(t,e,n){var r;let i=(r=k6[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ua.warn(a.join(" "));return}Fs(new pi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function zk(t,e){if(t!==null&&typeof t!="function")throw Li.create("invalid-log-argument");qB(t,e)}function Wk(t){WB(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6="firebase-heartbeat-database",F6=1,od="firebase-heartbeat-store";let rv=null;function qk(){return rv||(rv=e6(M6,F6,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(od)}}}).catch(t=>{throw Li.create("idb-open",{originalErrorMessage:t.message})})),rv}async function $6(t){try{return await(await qk()).transaction(od).objectStore(od).get(Hk(t))}catch(e){if(e instanceof Cn)ua.warn(e.message);else{const n=Li.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ua.warn(n.message)}}}async function nS(t,e){try{const r=(await qk()).transaction(od,"readwrite");await r.objectStore(od).put(e,Hk(t)),await r.done}catch(n){if(n instanceof Cn)ua.warn(n.message);else{const r=Li.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ua.warn(r.message)}}}function Hk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U6=1024,j6=30*24*60*60*1e3;class B6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new W6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=rS();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=j6}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=rS(),{heartbeatsToSend:r,unsentEntries:i}=z6(this._heartbeatsCache.heartbeats),s=zp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function rS(){return new Date().toISOString().substring(0,10)}function z6(t,e=U6){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),iS(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),iS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class W6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return id()?kB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $6(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return nS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return nS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function iS(t){return zp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q6(t){Fs(new pi("platform-logger",e=>new r6(e),"PRIVATE")),Fs(new pi("heartbeat",e=>new B6(e),"PRIVATE")),ci(Py,tS,t),ci(Py,tS,"esm2017"),ci("fire-js","")}q6("");const H6=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Cn,SDK_VERSION:Js,_DEFAULT_ENTRY_NAME:Vs,_addComponent:qp,_addOrOverwriteComponent:Uk,_apps:Ms,_clearComponents:N6,_components:sd,_getProvider:jk,_registerComponent:Fs,_removeServiceInstance:x6,deleteApp:Bk,getApp:L6,getApps:V6,initializeApp:Bw,onLog:zk,registerVersion:ci,setLogLevel:Wk},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(e,n){this._delegate=e,this.firebase=n,qp(e,new pi("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Bk(this._delegate)))}_getService(e,n=Vs){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=Vs){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){qp(this._delegate,e)}_addOrOverwriteComponent(e){Uk(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},sS=new Sa("app-compat","Firebase",G6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y6(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:ci,setLogLevel:Wk,onLog:zk,apps:null,SDK_VERSION:Js,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:H6}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(c){delete e[c]}function i(c){if(c=c||Vs,!QA(e,c))throw sS.create("no-app",{appName:c});return e[c]}i.App=t;function s(c,d={}){const f=Bw(c,d);if(QA(e,f.name))return e[f.name];const m=new t(f,n);return e[f.name]=m,m}function o(){return Object.keys(e).map(c=>e[c])}function a(c){const d=c.name,f=d.replace("-compat","");if(Fs(c)&&c.type==="PUBLIC"){const m=(v=i())=>{if(typeof v[f]!="function")throw sS.create("invalid-app-argument",{appName:d});return v[f]()};c.serviceProps!==void 0&&Wp(m,c.serviceProps),n[f]=m,t.prototype[f]=function(...v){return this._getService.bind(this,d).apply(this,c.multipleInstances?v:[])}}return c.type==="PUBLIC"?n[f]:null}function l(c,d){return d==="serverAuth"?null:d}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(){const t=Y6(K6);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:Kk,extendNamespace:e,createSubscribe:Vk,ErrorFactory:Sa,deepExtend:Wp});function e(n){Wp(t,n)}return t}const Q6=Kk();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=new Gm("@firebase/app-compat"),X6="@firebase/app-compat",J6="0.2.24";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z6(t){ci(X6,J6,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(RB()&&self.firebase!==void 0){oS.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&oS.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const hu=Q6;Z6();var e5="firebase",t5="10.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hu.registerVersion(e5,t5,"app-compat");function zw(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}const tc={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Xa={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n5(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function Gk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const r5=n5,i5=Gk,Yk=new Sa("auth","Firebase",Gk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp=new Gm("@firebase/auth");function s5(t,...e){Hp.logLevel<=Re.WARN&&Hp.warn(`Auth (${Js}): ${t}`,...e)}function ep(t,...e){Hp.logLevel<=Re.ERROR&&Hp.error(`Auth (${Js}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(t,...e){throw Ww(t,...e)}function rn(t,...e){return Ww(t,...e)}function Qk(t,e,n){const r=Object.assign(Object.assign({},i5()),{[e]:n});return new Sa("auth","Firebase",r).create(e,{appName:t.name})}function fu(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ln(t,"argument-error"),Qk(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ww(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Yk.create(t,...e)}function W(t,e,...n){if(!t)throw Ww(e,...n)}function ni(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ep(e),new Error(e)}function Fr(t,e){t||ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function qw(){return aS()==="http:"||aS()==="https:"}function aS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qw()||Ok()||"connection"in navigator)?navigator.onLine:!0}function a5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fr(n>e,"Short delay should be less than long delay!"),this.isMobile=PB()||$w()}get(){return o5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(t,e){Fr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5=new ah(3e4,6e4);function It(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function bt(t,e,n,r,i={}){return Jk(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=du(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),Xk.fetch()(Zk(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function Jk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},l5),e);try{const i=new d5(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw mc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw mc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw mc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw mc(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Qk(t,d,c);ln(t,d)}}catch(i){if(i instanceof Cn)throw i;ln(t,"network-request-failed",{message:String(i)})}}async function Hi(t,e,n,r,i={}){const s=await bt(t,e,n,r,i);return"mfaPendingCredential"in s&&ln(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Zk(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Hw(t.config,i):`${t.config.apiScheme}://${i}`}function c5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class d5{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(rn(this.auth,"network-request-failed")),u5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function mc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=rn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(t){return t!==void 0&&t.getResponse!==void 0}function uS(t){return t!==void 0&&t.enterprise!==void 0}class h5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return c5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f5(t){return(await bt(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function p5(t,e){return bt(t,"GET","/v2/recaptchaConfig",It(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m5(t,e){return bt(t,"POST","/v1/accounts:delete",e)}async function g5(t,e){return bt(t,"POST","/v1/accounts:update",e)}async function _5(t,e){return bt(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function v5(t,e=!1){const n=de(t),r=await n.getIdToken(e),i=Ym(r);W(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Dc(iv(i.auth_time)),issuedAtTime:Dc(iv(i.iat)),expirationTime:Dc(iv(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function iv(t){return Number(t)*1e3}function Ym(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ep("JWT malformed, contained fewer than 3 sections"),null;try{const i=Nk(n);return i?JSON.parse(i):(ep("Failed to decode base64 JWT payload"),null)}catch(i){return ep("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function y5(t){const e=Ym(t);return W(e,"internal-error"),W(typeof e.exp<"u","internal-error"),W(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mi(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Cn&&E5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function E5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dc(this.lastLoginAt),this.creationTime=Dc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ld(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Mi(t,_5(n,{idToken:r}));W(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?b5(s.providerUserInfo):[],a=I5(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ex(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function T5(t){const e=de(t);await ld(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function I5(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function b5(t){return t.map(e=>{var{providerId:n}=e,r=zw(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A5(t,e){const n=await Jk(t,{},async()=>{const r=du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Zk(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Xk.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function S5(t,e){return bt(t,"POST","/v2/accounts:revokeToken",It(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){W(e.idToken,"internal-error"),W(typeof e.idToken<"u","internal-error"),W(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):y5(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return W(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await A5(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ud;return r&&(W(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(W(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(W(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ud,this.toJSON())}_performRefresh(){return ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(t,e){W(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Zo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=zw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new w5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ex(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Mi(this,this.stsTokenManager.getToken(this.auth,e));return W(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return v5(this,e)}reload(){return T5(this)}_assign(e){this!==e&&(W(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ld(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Mi(this,m5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,b=(o=n.photoURL)!==null&&o!==void 0?o:void 0,I=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(c=n.createdAt)!==null&&c!==void 0?c:void 0,T=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:A,emailVerified:E,isAnonymous:N,providerData:O,stsTokenManager:L}=n;W(A&&L,e,"internal-error");const G=ud.fromJSON(this.name,L);W(typeof A=="string",e,"internal-error"),ss(f,e.name),ss(m,e.name),W(typeof E=="boolean",e,"internal-error"),W(typeof N=="boolean",e,"internal-error"),ss(v,e.name),ss(b,e.name),ss(I,e.name),ss(_,e.name),ss(y,e.name),ss(T,e.name);const H=new Zo({uid:A,auth:e,email:m,emailVerified:E,displayName:f,isAnonymous:N,photoURL:b,phoneNumber:v,tenantId:I,stsTokenManager:G,createdAt:y,lastLoginAt:T});return O&&Array.isArray(O)&&(H.providerData=O.map(Ce=>Object.assign({},Ce))),_&&(H._redirectEventId=_),H}static async _fromIdTokenResponse(e,n,r=!1){const i=new ud;i.updateFromServerResponse(n);const s=new Zo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ld(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS=new Map;function nr(t){Fr(t instanceof Function,"Expected a class definition");let e=cS.get(t);return e?(Fr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,cS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}tx.type="NONE";const Bl=tx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ea(t,e,n){return`firebase:${t}:${e}:${n}`}class Rl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ea(this.userKey,i.apiKey,s),this.fullPersistenceKey=ea("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Zo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Rl(nr(Bl),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||nr(Bl);const o=ea(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const f=Zo._fromJSON(e,d);c!==s&&(a=f),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Rl(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Rl(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ix(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sx(e))return"Blackberry";if(ox(e))return"Webos";if(Kw(e))return"Safari";if((e.includes("chrome/")||rx(e))&&!e.includes("edge/"))return"Chrome";if(lh(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function nx(t=ft()){return/firefox\//i.test(t)}function Kw(t=ft()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rx(t=ft()){return/crios\//i.test(t)}function ix(t=ft()){return/iemobile/i.test(t)}function lh(t=ft()){return/android/i.test(t)}function sx(t=ft()){return/blackberry/i.test(t)}function ox(t=ft()){return/webos/i.test(t)}function pu(t=ft()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function P5(t=ft()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function R5(t=ft()){var e;return pu(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function C5(){return Lk()&&document.documentMode===10}function ax(t=ft()){return pu(t)||lh(t)||ox(t)||sx(t)||/windows phone/i.test(t)||ix(t)}function k5(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(t,e=[]){let n;switch(t){case"Browser":n=dS(ft());break;case"Worker":n=`${dS(ft())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Js}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N5(t,e={}){return bt(t,"GET","/v2/passwordPolicy",It(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5=6;class O5{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:D5,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hS(this),this.idTokenSubscription=new hS(this),this.beforeStateQueue=new x5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Yk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=nr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Rl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return W(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ld(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=a5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?de(e):null;return n&&W(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&W(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(nr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await N5(this),n=new O5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Sa("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await S5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&nr(e)||this._popupRedirectResolver;W(n,this,"argument-error"),this.redirectPersistenceManager=await Rl.create(this,[nr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(W(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&s5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Et(t){return de(t)}class hS{constructor(e){this.auth=e,this.observer=null,this.addObserver=Vk(n=>this.observer=n)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function Gw(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=rn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",V5().appendChild(r)})}function ux(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const M5="https://www.google.com/recaptcha/enterprise.js?render=",F5="recaptcha-enterprise",$5="NO_RECAPTCHA";class U5{constructor(e){this.type=F5,this.auth=Et(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{p5(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new h5(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;uS(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o($5)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&uS(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}Gw(M5+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function fS(t,e,n,r=!1){const i=new U5(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function cd(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await fS(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await fS(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}function j5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(nr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function B5(t,e,n){const r=Et(t);W(r._canInitEmulator,r,"emulator-config-failed"),W(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=cx(e),{host:o,port:a}=z5(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||W5()}function cx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function z5(t){const e=cx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:pS(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:pS(o)}}}function pS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function W5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ni("not implemented")}_getIdTokenResponse(e){return ni("not implemented")}_linkToIdToken(e,n){return ni("not implemented")}_getReauthenticationResolver(e){return ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dx(t,e){return bt(t,"POST","/v1/accounts:resetPassword",It(t,e))}async function q5(t,e){return bt(t,"POST","/v1/accounts:update",e)}async function H5(t,e){return bt(t,"POST","/v1/accounts:signUp",e)}async function K5(t,e){return bt(t,"POST","/v1/accounts:update",It(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G5(t,e){return Hi(t,"POST","/v1/accounts:signInWithPassword",It(t,e))}async function Qm(t,e){return bt(t,"POST","/v1/accounts:sendOobCode",It(t,e))}async function Y5(t,e){return Qm(t,e)}async function Q5(t,e){return Qm(t,e)}async function X5(t,e){return Qm(t,e)}async function J5(t,e){return Qm(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z5(t,e){return Hi(t,"POST","/v1/accounts:signInWithEmailLink",It(t,e))}async function e3(t,e){return Hi(t,"POST","/v1/accounts:signInWithEmailLink",It(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd extends mu{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new dd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new dd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cd(e,n,"signInWithPassword",G5);case"emailLink":return Z5(e,{email:this._email,oobCode:this._password});default:ln(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cd(e,r,"signUpPassword",H5);case"emailLink":return e3(e,{idToken:n,email:this._email,oobCode:this._password});default:ln(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vi(t,e){return Hi(t,"POST","/v1/accounts:signInWithIdp",It(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3="http://localhost";class mi extends mu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new mi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ln("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=zw(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new mi(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Vi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Vi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Vi(e,n)}buildRequest(){const e={requestUri:t3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=du(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n3(t,e){return bt(t,"POST","/v1/accounts:sendVerificationCode",It(t,e))}async function r3(t,e){return Hi(t,"POST","/v1/accounts:signInWithPhoneNumber",It(t,e))}async function i3(t,e){const n=await Hi(t,"POST","/v1/accounts:signInWithPhoneNumber",It(t,e));if(n.temporaryProof)throw mc(t,"account-exists-with-different-credential",n);return n}const s3={USER_NOT_FOUND:"user-not-found"};async function o3(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Hi(t,"POST","/v1/accounts:signInWithPhoneNumber",It(t,n),s3)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends mu{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new ta({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new ta({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return r3(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return i3(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return o3(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new ta({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function l3(t){const e=gl(pc(t)).link,n=e?gl(pc(e)).deep_link_id:null,r=gl(pc(t)).deep_link_id;return(r?gl(pc(r)).link:null)||r||n||e||t}class Xm{constructor(e){var n,r,i,s,o,a;const l=gl(pc(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=a3((i=l.mode)!==null&&i!==void 0?i:null);W(c&&d&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=l3(e);try{return new Xm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(){this.providerId=Zs.PROVIDER_ID}static credential(e,n){return dd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Xm.parseLink(n);return W(r,"argument-error"),dd._fromEmailAndCode(e,r.code,r.tenantId)}}Zs.PROVIDER_ID="password";Zs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Zs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu extends Ki{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Cl extends gu{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return W("providerId"in n&&"signInMethod"in n,"argument-error"),mi._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return W(e.idToken||e.accessToken,"argument-error"),mi._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Cl.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Cl.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=e;if(!r&&!i&&!n&&!s||!a)return null;try{return new Cl(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends gu{constructor(){super("facebook.com")}static credential(e){return mi._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kr.credential(e.oauthAccessToken)}catch{return null}}}Kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Kr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends gu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return mi._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Gr.credential(n,r)}catch{return null}}}Gr.GOOGLE_SIGN_IN_METHOD="google.com";Gr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends gu{constructor(){super("github.com")}static credential(e){return mi._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yr.credential(e.oauthAccessToken)}catch{return null}}}Yr.GITHUB_SIGN_IN_METHOD="github.com";Yr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3="http://localhost";class zl extends mu{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return Vi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Vi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Vi(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new zl(r,s)}static _create(e,n){return new zl(e,n)}buildRequest(){return{requestUri:u3,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3="saml.";class Kp extends Ki{constructor(e){W(e.startsWith(c3),"argument-error"),super(e)}static credentialFromResult(e){return Kp.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Kp.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=zl.fromJSON(e);return W(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return zl._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends gu{constructor(){super("twitter.com")}static credential(e,n){return mi._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Qr.credential(n,r)}catch{return null}}}Qr.TWITTER_SIGN_IN_METHOD="twitter.com";Qr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hx(t,e){return Hi(t,"POST","/v1/accounts:signUp",It(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Zo._fromIdTokenResponse(e,r,i),o=mS(r);return new br({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=mS(r);return new br({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function mS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d3(t){var e;const n=Et(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new br({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await hx(n,{returnSecureToken:!0}),i=await br._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp extends Cn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Gp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Gp(e,n,r,i)}}function fx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Gp._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h3(t,e){const n=de(t);await Jm(!0,n,e);const{providerUserInfo:r}=await g5(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=px(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function Yw(t,e,n=!1){const r=await Mi(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return br._forOperation(t,"link",r)}async function Jm(t,e,n){await ld(e);const r=px(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";W(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mx(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Mi(t,fx(r,i,e,t),n);W(s.idToken,r,"internal-error");const o=Ym(s.idToken);W(o,r,"internal-error");const{sub:a}=o;return W(t.uid===a,r,"user-mismatch"),br._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ln(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gx(t,e,n=!1){const r="signIn",i=await fx(t,r,e),s=await br._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Zm(t,e){return gx(Et(t),e)}async function _x(t,e){const n=de(t);return await Jm(!1,n,e.providerId),Yw(n,e)}async function vx(t,e){return mx(de(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f3(t,e){return Hi(t,"POST","/v1/accounts:signInWithCustomToken",It(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p3(t,e){const n=Et(t),r=await f3(n,{token:e,returnSecureToken:!0}),i=await br._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?Qw._fromServerResponse(e,n):"totpInfo"in n?Xw._fromServerResponse(e,n):ln(e,"internal-error")}}class Qw extends uh{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new Qw(n)}}class Xw extends uh{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new Xw(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(t,e,n){var r;W(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),W(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(W(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(W(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jw(t){const e=Et(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function m3(t,e,n){const r=Et(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&eg(r,i,n),await cd(r,i,"getOobCode",Q5)}async function g3(t,e,n){await dx(de(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Jw(t),r})}async function _3(t,e){await K5(de(t),{oobCode:e})}async function yx(t,e){const n=de(t),r=await dx(n,{oobCode:e}),i=r.requestType;switch(W(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":W(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":W(r.mfaInfo,n,"internal-error");default:W(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=uh._fromServerResponse(Et(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function v3(t,e){const{data:n}=await yx(de(t),e);return n.email}async function y3(t,e,n){const r=Et(t),o=await cd(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hx).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Jw(t),l}),a=await br._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function E3(t,e,n){return Zm(de(t),Zs.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Jw(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w3(t,e,n){const r=Et(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(o,a){W(a.handleCodeInApp,r,"argument-error"),a&&eg(r,o,a)}s(i,n),await cd(r,i,"getOobCode",X5)}function T3(t,e){const n=Xm.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function I3(t,e,n){const r=de(t),i=Zs.credentialWithLink(e,n||ad());return W(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Zm(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b3(t,e){return bt(t,"POST","/v1/accounts:createAuthUri",It(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A3(t,e){const n=qw()?ad():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await b3(de(t),r);return i||[]}async function S3(t,e){const n=de(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&eg(n.auth,i,e);const{email:s}=await Y5(n.auth,i);s!==t.email&&await t.reload()}async function P3(t,e,n){const r=de(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&eg(r.auth,s,n);const{email:o}=await J5(r.auth,s);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R3(t,e){return bt(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C3(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=de(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Mi(r,R3(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function k3(t,e){return Ex(de(t),e,null)}function x3(t,e){return Ex(de(t),null,e)}async function Ex(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await Mi(t,q5(r,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N3(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const o=(n=(e=Ym(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(o){const a=o!=="anonymous"&&o!=="custom"?o:null;return new kl(s,a)}}if(!r)return null;switch(r){case"facebook.com":return new D3(s,i);case"github.com":return new O3(s,i);case"google.com":return new L3(s,i);case"twitter.com":return new V3(s,i,t.screenName||null);case"custom":case"anonymous":return new kl(s,null);default:return new kl(s,r,i)}}class kl{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class wx extends kl{constructor(e,n,r,i){super(e,n,r),this.username=i}}class D3 extends kl{constructor(e,n){super(e,"facebook.com",n)}}class O3 extends wx{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class L3 extends kl{constructor(e,n){super(e,"google.com",n)}}class V3 extends wx{constructor(e,n,r){super(e,"twitter.com",n,r)}}function M3(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:N3(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new jo("enroll",e,n)}static _fromMfaPendingCredential(e){return new jo("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return jo._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return jo._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=Et(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(a=>uh._fromServerResponse(r,a));W(i.mfaPendingCredential,r,"internal-error");const o=jo._fromMfaPendingCredential(i.mfaPendingCredential);return new Zw(o,s,async a=>{const l=await a._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const c=Object.assign(Object.assign({},i),{idToken:l.idToken,refreshToken:l.refreshToken});switch(n.operationType){case"signIn":const d=await br._fromIdTokenResponse(r,n.operationType,c);return await r._updateCurrentUser(d.user),d;case"reauthenticate":return W(n.user,r,"internal-error"),br._forOperation(n.user,n.operationType,c);default:ln(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function F3(t,e){var n;const r=de(t),i=e;return W(e.customData.operationType,r,"argument-error"),W((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),Zw._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $3(t,e){return bt(t,"POST","/v2/accounts/mfaEnrollment:start",It(t,e))}function U3(t,e){return bt(t,"POST","/v2/accounts/mfaEnrollment:finalize",It(t,e))}function j3(t,e){return bt(t,"POST","/v2/accounts/mfaEnrollment:withdraw",It(t,e))}class eT{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>uh._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new eT(e)}async getSession(){return jo._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),s=await Mi(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Mi(this.user,j3(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const sv=new WeakMap;function B3(t){const e=de(t);return sv.has(e)||sv.set(e,eT._fromUser(e)),sv.get(e)}const Yp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yp,"1"),this.storage.removeItem(Yp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z3(){const t=ft();return Kw(t)||pu(t)}const W3=1e3,q3=10;class Ix extends Tx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=z3()&&k5(),this.fallbackToPolling=ax(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);C5()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,q3):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},W3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ix.type="LOCAL";const tT=Ix;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx extends Tx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}bx.type="SESSION";const ca=bx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new tg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await H3(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=ch("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const m=f;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(){return window}function G3(t){Dt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(){return typeof Dt().WorkerGlobalScope<"u"&&typeof Dt().importScripts=="function"}async function Y3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Q3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function X3(){return nT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax="firebaseLocalStorageDb",J3=1,Qp="firebaseLocalStorage",Sx="fbase_key";class dh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ng(t,e){return t.transaction([Qp],e?"readwrite":"readonly").objectStore(Qp)}function Z3(){const t=indexedDB.deleteDatabase(Ax);return new dh(t).toPromise()}function Ry(){const t=indexedDB.open(Ax,J3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Qp,{keyPath:Sx})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Qp)?e(r):(r.close(),await Z3(),e(await Ry()))})})}async function gS(t,e,n){const r=ng(t,!0).put({[Sx]:e,value:n});return new dh(r).toPromise()}async function e9(t,e){const n=ng(t,!1).get(e),r=await new dh(n).toPromise();return r===void 0?null:r.value}function _S(t,e){const n=ng(t,!0).delete(e);return new dh(n).toPromise()}const t9=800,n9=3;class Px{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ry(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>n9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tg._getInstance(X3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Y3(),!this.activeServiceWorker)return;this.sender=new K3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Q3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ry();return await gS(e,Yp,"1"),await _S(e,Yp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>gS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>e9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_S(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=ng(i,!1).getAll();return new dh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),t9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Px.type="LOCAL";const hd=Px;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r9(t,e){return bt(t,"POST","/v2/accounts/mfaSignIn:start",It(t,e))}function i9(t,e){return bt(t,"POST","/v2/accounts/mfaSignIn:finalize",It(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9=500,o9=6e4,yf=1e12;class a9{constructor(e){this.auth=e,this.counter=yf,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new l9(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||yf;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||yf;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||yf;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class l9{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;W(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=u9(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},o9)},s9))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function u9(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov=ux("rcb"),c9=new ah(3e4,6e4),d9="https://www.google.com/recaptcha/api.js?";class h9{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Dt().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return W(f9(n),e,"argument-error"),this.shouldResolveImmediately(n)&&lS(Dt().grecaptcha)?Promise.resolve(Dt().grecaptcha):new Promise((r,i)=>{const s=Dt().setTimeout(()=>{i(rn(e,"network-request-failed"))},c9.get());Dt()[ov]=()=>{Dt().clearTimeout(s),delete Dt()[ov];const a=Dt().grecaptcha;if(!a||!lS(a)){i(rn(e,"internal-error"));return}const l=a.render;a.render=(c,d)=>{const f=l(c,d);return this.counter++,f},this.hostLanguage=n,r(a)};const o=`${d9}?${du({onload:ov,render:"explicit",hl:n})}`;Gw(o).catch(()=>{clearTimeout(s),i(rn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=Dt().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function f9(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class p9{async load(e){return new a9(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx="recaptcha",m9={theme:"light",type:"image"};let g9=class{constructor(e,n,r=Object.assign({},m9)){this.parameters=r,this.type=Rx,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Et(e),this.isInvisible=this.parameters.size==="invisible",W(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;W(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new p9:new h9,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){W(!this.parameters.sitekey,this.auth,"argument-error"),W(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),W(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=Dt()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){W(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){W(qw()&&!nT(),this.auth,"internal-error"),await _9(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await f5(this.auth);W(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return W(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function _9(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=ta._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function v9(t,e,n){const r=Et(t),i=await rg(r,e,de(n));return new rT(i,s=>Zm(r,s))}async function y9(t,e,n){const r=de(t);await Jm(!1,r,"phone");const i=await rg(r.auth,e,de(n));return new rT(i,s=>_x(r,s))}async function E9(t,e,n){const r=de(t),i=await rg(r.auth,e,de(n));return new rT(i,s=>vx(r,s))}async function rg(t,e,n){var r;const i=await n.verify();try{W(typeof i=="string",t,"argument-error"),W(n.type===Rx,t,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s)return W(o.type==="enroll",t,"internal-error"),(await $3(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{W(o.type==="signin",t,"internal-error");const a=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;return W(a,t,"missing-multi-factor-info"),(await r9(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:o}=await n3(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return o}}finally{n._reset()}}async function w9(t,e){await Yw(de(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let da=class tp{constructor(e){this.providerId=tp.PROVIDER_ID,this.auth=Et(e)}verifyPhoneNumber(e,n){return rg(this.auth,e,de(n))}static credential(e,n){return ta._fromVerification(e,n)}static credentialFromResult(e){const n=e;return tp.credentialFromTaggedObject(n)}static credentialFromError(e){return tp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?ta._fromTokenResponse(n,r):null}};da.PROVIDER_ID="phone";da.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pa(t,e){return e?nr(e):(W(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT extends mu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Vi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Vi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function T9(t){return gx(t.auth,new iT(t),t.bypassAuthState)}function I9(t){const{auth:e,user:n}=t;return W(n,e,"internal-error"),mx(n,new iT(t),t.bypassAuthState)}async function b9(t){const{auth:e,user:n}=t;return W(n,e,"internal-error"),Yw(n,new iT(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return T9;case"linkViaPopup":case"linkViaRedirect":return b9;case"reauthViaPopup":case"reauthViaRedirect":return I9;default:ln(this.auth,"internal-error")}}resolve(e){Fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A9=new ah(2e3,1e4);async function S9(t,e,n){const r=Et(t);fu(t,e,Ki);const i=Pa(r,n);return new ki(r,"signInViaPopup",e,i).executeNotNull()}async function P9(t,e,n){const r=de(t);fu(r.auth,e,Ki);const i=Pa(r.auth,n);return new ki(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function R9(t,e,n){const r=de(t);fu(r.auth,e,Ki);const i=Pa(r.auth,n);return new ki(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class ki extends Cx{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ki.currentPopupAction&&ki.currentPopupAction.cancel(),ki.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return W(e,this.auth,"internal-error"),e}async onExecution(){Fr(this.filter.length===1,"Popup operations only handle one event");const e=ch();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(rn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(rn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ki.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,A9.get())};e()}}ki.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C9="pendingRedirect",Oc=new Map;class k9 extends Cx{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Oc.get(this.auth._key());if(!e){try{const r=await x9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Oc.set(this.auth._key(),e)}return this.bypassAuthState||Oc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function x9(t,e){const n=xx(e),r=kx(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function sT(t,e){return kx(t)._set(xx(e),"true")}function N9(){Oc.clear()}function oT(t,e){Oc.set(t._key(),e)}function kx(t){return nr(t._redirectPersistence)}function xx(t){return ea(C9,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D9(t,e,n){return O9(t,e,n)}async function O9(t,e,n){const r=Et(t);fu(t,e,Ki),await r._initializationPromise;const i=Pa(r,n);return await sT(i,r),i._openRedirect(r,e,"signInViaRedirect")}function L9(t,e,n){return V9(t,e,n)}async function V9(t,e,n){const r=de(t);fu(r.auth,e,Ki),await r.auth._initializationPromise;const i=Pa(r.auth,n);await sT(i,r.auth);const s=await Nx(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function M9(t,e,n){return F9(t,e,n)}async function F9(t,e,n){const r=de(t);fu(r.auth,e,Ki),await r.auth._initializationPromise;const i=Pa(r.auth,n);await Jm(!1,r,e.providerId),await sT(i,r.auth);const s=await Nx(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function $9(t,e){return await Et(t)._initializationPromise,ig(t,e,!1)}async function ig(t,e,n=!1){const r=Et(t),i=Pa(r,e),o=await new k9(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function Nx(t){const e=ch(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U9=10*60*1e3;class Dx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!j9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Ox(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(rn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=U9&&this.cachedEventUids.clear(),this.cachedEventUids.has(vS(e))}saveEventToCache(e){this.cachedEventUids.add(vS(e)),this.lastProcessedEventTime=Date.now()}}function vS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Ox({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function j9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ox(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lx(t,e={}){return bt(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,z9=/^https?/;async function W9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Lx(t);for(const n of e)try{if(q9(n))return}catch{}ln(t,"unauthorized-domain")}function q9(t){const e=ad(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!z9.test(n))return!1;if(B9.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9=new ah(3e4,6e4);function yS(){const t=Dt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function K9(t){return new Promise((e,n)=>{var r,i,s;function o(){yS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yS(),n(rn(t,"network-request-failed"))},timeout:H9.get()})}if(!((i=(r=Dt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Dt().gapi)===null||s===void 0)&&s.load)o();else{const a=ux("iframefcb");return Dt()[a]=()=>{gapi.load?o():n(rn(t,"network-request-failed"))},Gw(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw np=null,e})}let np=null;function G9(t){return np=np||K9(t),np}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9=new ah(5e3,15e3),Q9="__/auth/iframe",X9="emulator/auth/iframe",J9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Z9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ez(t){const e=t.config;W(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Hw(e,X9):`https://${t.config.authDomain}/${Q9}`,r={apiKey:e.apiKey,appName:t.name,v:Js},i=Z9.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${du(r).slice(1)}`}async function tz(t){const e=await G9(t),n=Dt().gapi;return W(n,t,"internal-error"),e.open({where:document.body,url:ez(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:J9,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=rn(t,"network-request-failed"),a=Dt().setTimeout(()=>{s(o)},Y9.get());function l(){Dt().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rz=500,iz=600,sz="_blank",oz="http://localhost";class ES{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function az(t,e,n,r=rz,i=iz){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},nz),{width:r.toString(),height:i.toString(),top:s,left:o}),c=ft().toLowerCase();n&&(a=rx(c)?sz:n),nx(c)&&(e=e||oz,l.scrollbars="yes");const d=Object.entries(l).reduce((m,[v,b])=>`${m}${v}=${b},`,"");if(R5(c)&&a!=="_self")return lz(e||"",a),new ES(null);const f=window.open(e||"",a,d);W(f,t,"popup-blocked");try{f.focus()}catch{}return new ES(f)}function lz(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uz="__/auth/handler",cz="emulator/auth/handler",dz=encodeURIComponent("fac");async function Cy(t,e,n,r,i,s){W(t.config.authDomain,t,"auth-domain-config-required"),W(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Js,eventId:i};if(e instanceof Ki){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",OB(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries(s||{}))o[d]=f}if(e instanceof gu){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${dz}=${encodeURIComponent(l)}`:"";return`${hz(t)}?${du(a).slice(1)}${c}`}function hz({config:t}){return t.emulator?Hw(t,cz):`https://${t.authDomain}/${uz}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="webStorageSupport";class fz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ca,this._completeRedirectFn=ig,this._overrideRedirectResult=oT}async _openPopup(e,n,r,i){var s;Fr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Cy(e,n,r,ad(),i);return az(e,o,ch())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Cy(e,n,r,ad(),i);return G3(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Fr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await tz(e),r=new Dx(e);return n.register("authEvent",i=>(W(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(av,{type:av},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[av];o!==void 0&&n(!!o),ln(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=W9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ax()||Kw()||pu()}}const pz=fz;class mz{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return ni("unexpected MultiFactorSessionType")}}}class aT extends mz{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new aT(e)}_finalizeEnroll(e,n,r){return U3(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return i9(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Vx{constructor(){}static assertion(e){return aT._fromCredential(e)}}Vx.FACTOR_ID="phone";var wS="@firebase/auth",TS="1.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _z(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function vz(t){Fs(new pi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;W(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lx(t)},c=new L5(r,i,s,l);return j5(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Fs(new pi("auth-internal",e=>{const n=Et(e.getProvider("auth").getImmediate());return(r=>new gz(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ci(wS,TS,_z(t)),ci(wS,TS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yz=5*60;bB("authIdTokenMaxAge");vz("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ez=2e3;async function wz(t,e,n){var r;const{BuildInfo:i}=ha();Fr(e.sessionId,"AuthEvent did not contain a session ID");const s=await Sz(e.sessionId),o={};return pu()?o.ibi=i.packageName:lh()?o.apn=i.packageName:ln(t,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,Cy(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,o)}async function Tz(t){const{BuildInfo:e}=ha(),n={};pu()?n.iosBundleId=e.packageName:lh()?n.androidPackageName=e.packageName:ln(t,"operation-not-supported-in-this-environment"),await Lx(t,n)}function Iz(t){const{cordova:e}=ha();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,P5()?"_blank":"_system","location=yes"),n(i)})})}async function bz(t,e,n){const{cordova:r}=ha();let i=()=>{};try{await new Promise((s,o)=>{let a=null;function l(){var f;s();const m=(f=r.plugins.browsertab)===null||f===void 0?void 0:f.close;typeof m=="function"&&m(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function c(){a||(a=window.setTimeout(()=>{o(rn(t,"redirect-cancelled-by-user"))},Ez))}function d(){(document==null?void 0:document.visibilityState)==="visible"&&c()}e.addPassiveListener(l),document.addEventListener("resume",c,!1),lh()&&document.addEventListener("visibilitychange",d,!1),i=()=>{e.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",d,!1),a&&window.clearTimeout(a)}})}finally{i()}}function Az(t){var e,n,r,i,s,o,a,l,c,d;const f=ha();W(typeof((e=f==null?void 0:f.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),W(typeof((n=f==null?void 0:f.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),W(typeof((s=(i=(r=f==null?void 0:f.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),W(typeof((l=(a=(o=f==null?void 0:f.cordova)===null||o===void 0?void 0:o.plugins)===null||a===void 0?void 0:a.browsertab)===null||l===void 0?void 0:l.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),W(typeof((d=(c=f==null?void 0:f.cordova)===null||c===void 0?void 0:c.InAppBrowser)===null||d===void 0?void 0:d.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function Sz(t){const e=Pz(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function Pz(t){if(Fr(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rz=20;class Cz extends Dx{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function kz(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:Dz(),postBody:null,tenantId:t.tenantId,error:rn(t,"no-auth-event")}}function xz(t,e){return ky()._set(xy(t),e)}async function IS(t){const e=await ky()._get(xy(t));return e&&await ky()._remove(xy(t)),e}function Nz(t,e){var n,r;const i=Lz(e);if(i.includes("/__/auth/callback")){const s=rp(i),o=s.firebaseError?Oz(decodeURIComponent(s.firebaseError)):null,a=(r=(n=o==null?void 0:o.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],l=a?rn(a):null;return l?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function Dz(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<Rz;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function ky(){return nr(tT)}function xy(t){return ea("authEvent",t.config.apiKey,t.name)}function Oz(t){try{return JSON.parse(t)}catch{return null}}function Lz(t){const e=rp(t),n=e.link?decodeURIComponent(e.link):void 0,r=rp(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return rp(i).link||i||r||n||t}function rp(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return gl(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vz=500;class Mz{constructor(){this._redirectPersistence=ca,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ig,this._overrideRedirectResult=oT}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new Cz(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){ln(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){Az(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),N9(),await this._originValidation(e);const o=kz(e,r,i);await xz(e,o);const a=await wz(e,o,n),l=await Iz(a);return bz(e,s,l)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Tz(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=ha(),o=setTimeout(async()=>{await IS(e),n.onEvent(bS())},Vz),a=async d=>{clearTimeout(o);const f=await IS(e);let m=null;f&&(d!=null&&d.url)&&(m=Nz(f,d.url)),n.onEvent(m||bS())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,a);const l=i,c=`${s.packageName.toLowerCase()}://`;ha().handleOpenURL=async d=>{if(d.toLowerCase().startsWith(c)&&a({url:d}),typeof l=="function")try{l(d)}catch(f){console.error(f)}}}}const Fz=Mz;function bS(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:rn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $z(t,e){Et(t)._logFramework(e)}var Uz="@firebase/auth-compat",jz="0.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bz=1e3;function Lc(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function zz(){return Lc()==="http:"||Lc()==="https:"}function Mx(t=ft()){return!!((Lc()==="file:"||Lc()==="ionic:"||Lc()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Wz(){return $w()||Fw()}function qz(){return Lk()&&(document==null?void 0:document.documentMode)===11}function Hz(t=ft()){return/Edge\/\d+/.test(t)}function Kz(t=ft()){return qz()||Hz(t)}function Fx(){try{const t=self.localStorage,e=ch();if(t)return t.setItem(e,"1"),t.removeItem(e),Kz()?id():!0}catch{return lT()&&id()}return!1}function lT(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function lv(){return(zz()||Ok()||Mx())&&!Wz()&&Fx()&&!lT()}function $x(){return Mx()&&typeof document<"u"}async function Gz(){return $x()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},Bz);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function Yz(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr={LOCAL:"local",NONE:"none",SESSION:"session"},nc=W,Ux="persistence";function Qz(t,e){if(nc(Object.values(tr).includes(e),t,"invalid-persistence-type"),$w()){nc(e!==tr.SESSION,t,"unsupported-persistence-type");return}if(Fw()){nc(e===tr.NONE,t,"unsupported-persistence-type");return}if(lT()){nc(e===tr.NONE||e===tr.LOCAL&&id(),t,"unsupported-persistence-type");return}nc(e===tr.NONE||Fx(),t,"unsupported-persistence-type")}async function Ny(t){await t._initializationPromise;const e=jx(),n=ea(Ux,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function Xz(t,e){const n=jx();if(!n)return[];const r=ea(Ux,t,e);switch(n.getItem(r)){case tr.NONE:return[Bl];case tr.LOCAL:return[hd,ca];case tr.SESSION:return[ca];default:return[]}}function jx(){var t;try{return((t=Yz())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jz=W;class ys{constructor(){this.browserResolver=nr(pz),this.cordovaResolver=nr(Fz),this.underlyingResolver=null,this._redirectPersistence=ca,this._completeRedirectFn=ig,this._overrideRedirectResult=oT}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return $x()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Jz(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await Gz();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(t){return t.unwrap()}function Zz(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eW(t){return zx(t)}function tW(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new nW(t,F3(t,e))}else if(r){const i=zx(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function zx(t){const{_tokenResponse:e}=t instanceof Cn?t.customData:t;if(!e)return null;if(!(t instanceof Cn)&&"temporaryProof"in e&&"phoneNumber"in e)return da.credentialFromResult(t);const n=e.providerId;if(!n||n===tc.PASSWORD)return null;let r;switch(n){case tc.GOOGLE:r=Gr;break;case tc.FACEBOOK:r=Kr;break;case tc.GITHUB:r=Yr;break;case tc.TWITTER:r=Qr;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:l}=e;return!s&&!o&&!i&&!a?null:a?n.startsWith("saml.")?zl._create(n,a):mi._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:i,accessToken:s}):new Cl(n).credential({idToken:i,accessToken:s,rawNonce:l})}return t instanceof Cn?r.credentialFromError(t):r.credentialFromResult(t)}function Vn(t,e){return e.catch(n=>{throw n instanceof Cn&&tW(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:eW(n),additionalUserInfo:M3(n),user:sg.getOrCreate(i)}})}async function Dy(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>Vn(t,n.confirm(r))}}class nW{constructor(e,n){this.resolver=n,this.auth=Zz(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Vn(Bx(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sg=class gc{constructor(e){this._delegate=e,this.multiFactor=B3(e)}static getOrCreate(e){return gc.USER_MAP.has(e)||gc.USER_MAP.set(e,new gc(e)),gc.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Vn(this.auth,_x(this._delegate,e))}async linkWithPhoneNumber(e,n){return Dy(this.auth,y9(this._delegate,e,n))}async linkWithPopup(e){return Vn(this.auth,R9(this._delegate,e,ys))}async linkWithRedirect(e){return await Ny(Et(this.auth)),M9(this._delegate,e,ys)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Vn(this.auth,vx(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return Dy(this.auth,E9(this._delegate,e,n))}reauthenticateWithPopup(e){return Vn(this.auth,P9(this._delegate,e,ys))}async reauthenticateWithRedirect(e){return await Ny(Et(this.auth)),L9(this._delegate,e,ys)}sendEmailVerification(e){return S3(this._delegate,e)}async unlink(e){return await h3(this._delegate,e),this}updateEmail(e){return k3(this._delegate,e)}updatePassword(e){return x3(this._delegate,e)}updatePhoneNumber(e){return w9(this._delegate,e)}updateProfile(e){return C3(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return P3(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};sg.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=W;class Oy{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;rc(r,"invalid-api-key",{appName:e.name}),rc(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?ys:void 0;this._delegate=n.initialize({options:{persistence:rW(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(r5),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?sg.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){B5(this._delegate,e,n)}applyActionCode(e){return _3(this._delegate,e)}checkActionCode(e){return yx(this._delegate,e)}confirmPasswordReset(e,n){return g3(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return Vn(this._delegate,y3(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return A3(this._delegate,e)}isSignInWithEmailLink(e){return T3(this._delegate,e)}async getRedirectResult(){rc(lv(),this._delegate,"operation-not-supported-in-this-environment");const e=await $9(this._delegate,ys);return e?Vn(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){$z(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:o}=AS(e,n,r);return this._delegate.onAuthStateChanged(i,s,o)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:o}=AS(e,n,r);return this._delegate.onIdTokenChanged(i,s,o)}sendSignInLinkToEmail(e,n){return w3(this._delegate,e,n)}sendPasswordResetEmail(e,n){return m3(this._delegate,e,n||void 0)}async setPersistence(e){Qz(this._delegate,e);let n;switch(e){case tr.SESSION:n=ca;break;case tr.LOCAL:n=await nr(hd)._isAvailable()?hd:tT;break;case tr.NONE:n=Bl;break;default:return ln("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Vn(this._delegate,d3(this._delegate))}signInWithCredential(e){return Vn(this._delegate,Zm(this._delegate,e))}signInWithCustomToken(e){return Vn(this._delegate,p3(this._delegate,e))}signInWithEmailAndPassword(e,n){return Vn(this._delegate,E3(this._delegate,e,n))}signInWithEmailLink(e,n){return Vn(this._delegate,I3(this._delegate,e,n))}signInWithPhoneNumber(e,n){return Dy(this._delegate,v9(this._delegate,e,n))}async signInWithPopup(e){return rc(lv(),this._delegate,"operation-not-supported-in-this-environment"),Vn(this._delegate,S9(this._delegate,e,ys))}async signInWithRedirect(e){return rc(lv(),this._delegate,"operation-not-supported-in-this-environment"),await Ny(this._delegate),D9(this._delegate,e,ys)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return v3(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}Oy.Persistence=tr;function AS(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:o=>i(o&&sg.getOrCreate(o)),error:e,complete:n}}function rW(t,e){const n=Xz(t,e);if(typeof self<"u"&&!n.includes(hd)&&n.push(hd),typeof window<"u")for(const r of[tT,ca])n.includes(r)||n.push(r);return n.includes(Bl)||n.push(Bl),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(){this.providerId="phone",this._delegate=new da(Bx(hu.auth()))}static credential(e,n){return da.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}uT.PHONE_SIGN_IN_METHOD=da.PHONE_SIGN_IN_METHOD;uT.PROVIDER_ID=da.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iW=W;class sW{constructor(e,n,r=hu.app()){var i;iW((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new g9(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oW="auth-compat";function aW(t){t.INTERNAL.registerComponent(new pi(oW,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new Oy(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Xa.EMAIL_SIGNIN,PASSWORD_RESET:Xa.PASSWORD_RESET,RECOVER_EMAIL:Xa.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Xa.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Xa.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Xa.VERIFY_EMAIL}},EmailAuthProvider:Zs,FacebookAuthProvider:Kr,GithubAuthProvider:Yr,GoogleAuthProvider:Gr,OAuthProvider:Cl,SAMLAuthProvider:Kp,PhoneAuthProvider:uT,PhoneMultiFactorGenerator:Vx,RecaptchaVerifier:sW,TwitterAuthProvider:Qr,Auth:Oy,AuthCredential:mu,Error:Cn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(Uz,jz)}aW(hu);var lW=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},J,cT=cT||{},fe=lW||self;function og(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function hh(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function uW(t){return Object.prototype.hasOwnProperty.call(t,uv)&&t[uv]||(t[uv]=++cW)}var uv="closure_uid_"+(1e9*Math.random()>>>0),cW=0;function dW(t,e,n){return t.call.apply(t.bind,arguments)}function hW(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function _n(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_n=dW:_n=hW,_n.apply(null,arguments)}function Ef(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Kt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function eo(){this.s=this.s,this.o=this.o}var fW=0;eo.prototype.s=!1;eo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),fW!=0)&&uW(this)};eo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Wx=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function dT(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function SS(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(og(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function vn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}vn.prototype.h=function(){this.defaultPrevented=!0};var pW=function(){if(!fe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};fe.addEventListener("test",n,e),fe.removeEventListener("test",n,e)}catch{}return t}();function fd(t){return/^[\s\xa0]*$/.test(t)}function ag(){var t=fe.navigator;return t&&(t=t.userAgent)?t:""}function Xr(t){return ag().indexOf(t)!=-1}function hT(t){return hT[" "](t),t}hT[" "]=function(){};function mW(t,e){var n=aq;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var gW=Xr("Opera"),Wl=Xr("Trident")||Xr("MSIE"),qx=Xr("Edge"),Ly=qx||Wl,Hx=Xr("Gecko")&&!(ag().toLowerCase().indexOf("webkit")!=-1&&!Xr("Edge"))&&!(Xr("Trident")||Xr("MSIE"))&&!Xr("Edge"),_W=ag().toLowerCase().indexOf("webkit")!=-1&&!Xr("Edge");function Kx(){var t=fe.document;return t?t.documentMode:void 0}var Vy;e:{var cv="",dv=function(){var t=ag();if(Hx)return/rv:([^\);]+)(\)|;)/.exec(t);if(qx)return/Edge\/([\d\.]+)/.exec(t);if(Wl)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(_W)return/WebKit\/(\S+)/.exec(t);if(gW)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(dv&&(cv=dv?dv[1]:""),Wl){var hv=Kx();if(hv!=null&&hv>parseFloat(cv)){Vy=String(hv);break e}}Vy=cv}var My;if(fe.document&&Wl){var PS=Kx();My=PS||parseInt(Vy,10)||void 0}else My=void 0;var vW=My;function pd(t,e){if(vn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Hx){e:{try{hT(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:yW[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&pd.$.h.call(this)}}Kt(pd,vn);var yW={2:"touch",3:"pen",4:"mouse"};pd.prototype.h=function(){pd.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var fh="closure_listenable_"+(1e6*Math.random()|0),EW=0;function wW(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++EW,this.fa=this.ia=!1}function lg(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function fT(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function TW(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function Gx(t){const e={};for(const n in t)e[n]=t[n];return e}const RS="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Yx(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<RS.length;s++)n=RS[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ug(t){this.src=t,this.g={},this.h=0}ug.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=$y(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new wW(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Fy(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=Wx(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(lg(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function $y(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var pT="closure_lm_"+(1e6*Math.random()|0),fv={};function Qx(t,e,n,r,i){if(r&&r.once)return Jx(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Qx(t,e[s],n,r,i);return null}return n=_T(n),t&&t[fh]?t.O(e,n,hh(r)?!!r.capture:!!r,i):Xx(t,e,n,!1,r,i)}function Xx(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=hh(i)?!!i.capture:!!i,a=gT(t);if(a||(t[pT]=a=new ug(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=IW(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)pW||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(eN(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function IW(){function t(n){return e.call(t.src,t.listener,n)}const e=bW;return t}function Jx(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Jx(t,e[s],n,r,i);return null}return n=_T(n),t&&t[fh]?t.P(e,n,hh(r)?!!r.capture:!!r,i):Xx(t,e,n,!0,r,i)}function Zx(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Zx(t,e[s],n,r,i);else r=hh(r)?!!r.capture:!!r,n=_T(n),t&&t[fh]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=$y(s,n,r,i),-1<n&&(lg(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=gT(t))&&(e=t.g[e.toString()],t=-1,e&&(t=$y(e,n,r,i)),(n=-1<t?e[t]:null)&&mT(n))}function mT(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[fh])Fy(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(eN(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=gT(e))?(Fy(n,t),n.h==0&&(n.src=null,e[pT]=null)):lg(t)}}}function eN(t){return t in fv?fv[t]:fv[t]="on"+t}function bW(t,e){if(t.fa)t=!0;else{e=new pd(e,this);var n=t.listener,r=t.la||t.src;t.ia&&mT(t),t=n.call(r,e)}return t}function gT(t){return t=t[pT],t instanceof ug?t:null}var pv="__closure_events_fn_"+(1e9*Math.random()>>>0);function _T(t){return typeof t=="function"?t:(t[pv]||(t[pv]=function(e){return t.handleEvent(e)}),t[pv])}function qt(){eo.call(this),this.i=new ug(this),this.S=this,this.J=null}Kt(qt,eo);qt.prototype[fh]=!0;qt.prototype.removeEventListener=function(t,e,n,r){Zx(this,t,e,n,r)};function sn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new vn(e,t);else if(e instanceof vn)e.target=e.target||t;else{var i=e;e=new vn(r,t),Yx(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=wf(o,r,!0,e)&&i}if(o=e.g=t,i=wf(o,r,!0,e)&&i,i=wf(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=wf(o,r,!1,e)&&i}qt.prototype.N=function(){if(qt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)lg(n[r]);delete t.g[e],t.h--}}this.J=null};qt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};qt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function wf(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Fy(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var vT=fe.JSON.stringify;class AW{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function SW(){var t=yT;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class PW{constructor(){this.h=this.g=null}add(e,n){const r=tN.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var tN=new AW(()=>new RW,t=>t.reset());class RW{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function CW(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function kW(t){fe.setTimeout(()=>{throw t},0)}let md,gd=!1,yT=new PW,nN=()=>{const t=fe.Promise.resolve(void 0);md=()=>{t.then(xW)}};var xW=()=>{for(var t;t=SW();){try{t.h.call(t.g)}catch(n){kW(n)}var e=tN;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}gd=!1};function cg(t,e){qt.call(this),this.h=t||1,this.g=e||fe,this.j=_n(this.qb,this),this.l=Date.now()}Kt(cg,qt);J=cg.prototype;J.ga=!1;J.T=null;J.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),sn(this,"tick"),this.ga&&(ET(this),this.start()))}};J.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function ET(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}J.N=function(){cg.$.N.call(this),ET(this),delete this.g};function wT(t,e,n){if(typeof t=="function")n&&(t=_n(t,n));else if(t&&typeof t.handleEvent=="function")t=_n(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:fe.setTimeout(t,e||0)}function rN(t){t.g=wT(()=>{t.g=null,t.i&&(t.i=!1,rN(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class NW extends eo{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:rN(this)}N(){super.N(),this.g&&(fe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _d(t){eo.call(this),this.h=t,this.g={}}Kt(_d,eo);var CS=[];function iN(t,e,n,r){Array.isArray(n)||(n&&(CS[0]=n.toString()),n=CS);for(var i=0;i<n.length;i++){var s=Qx(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function sN(t){fT(t.g,function(e,n){this.g.hasOwnProperty(n)&&mT(e)},t),t.g={}}_d.prototype.N=function(){_d.$.N.call(this),sN(this)};_d.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function dg(){this.g=!0}dg.prototype.Ea=function(){this.g=!1};function DW(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var d=c[0];c=c[1];var f=d.split("_");o=2<=f.length&&f[1]=="type"?o+(d+"="+c+"&"):o+(d+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function OW(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function _l(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+VW(t,n)+(r?" "+r:"")})}function LW(t,e){t.info(function(){return"TIMEOUT: "+e})}dg.prototype.info=function(){};function VW(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return vT(n)}catch{return e}}var Ra={},kS=null;function hg(){return kS=kS||new qt}Ra.Ta="serverreachability";function oN(t){vn.call(this,Ra.Ta,t)}Kt(oN,vn);function vd(t){const e=hg();sn(e,new oN(e))}Ra.STAT_EVENT="statevent";function aN(t,e){vn.call(this,Ra.STAT_EVENT,t),this.stat=e}Kt(aN,vn);function Rn(t){const e=hg();sn(e,new aN(e,t))}Ra.Ua="timingevent";function lN(t,e){vn.call(this,Ra.Ua,t),this.size=e}Kt(lN,vn);function ph(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return fe.setTimeout(function(){t()},e)}var fg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},uN={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function TT(){}TT.prototype.h=null;function xS(t){return t.h||(t.h=t.i())}function cN(){}var mh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function IT(){vn.call(this,"d")}Kt(IT,vn);function bT(){vn.call(this,"c")}Kt(bT,vn);var Uy;function pg(){}Kt(pg,TT);pg.prototype.g=function(){return new XMLHttpRequest};pg.prototype.i=function(){return{}};Uy=new pg;function gh(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new _d(this),this.P=MW,t=Ly?125:void 0,this.V=new cg(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new dN}function dN(){this.i=null,this.g="",this.h=!1}var MW=45e3,hN={},jy={};J=gh.prototype;J.setTimeout=function(t){this.P=t};function By(t,e,n){t.L=1,t.A=gg(Fi(e)),t.u=n,t.S=!0,fN(t,null)}function fN(t,e){t.G=Date.now(),_h(t),t.B=Fi(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),wN(n.i,"t",r),t.o=0,n=t.l.J,t.h=new dN,t.g=BN(t.l,n?e:null,!t.u),0<t.O&&(t.M=new NW(_n(t.Pa,t,t.g),t.O)),iN(t.U,t.g,"readystatechange",t.nb),e=t.I?Gx(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),vd(),DW(t.j,t.v,t.B,t.m,t.W,t.u)}J.nb=function(t){t=t.target;const e=this.M;e&&ri(t)==3?e.l():this.Pa(t)};J.Pa=function(t){try{if(t==this.g)e:{const d=ri(this.g);var e=this.g.Ia();const f=this.g.da();if(!(3>d)&&(d!=3||Ly||this.g&&(this.h.h||this.g.ja()||LS(this.g)))){this.J||d!=4||e==7||(e==8||0>=f?vd(3):vd(2)),mg(this);var n=this.g.da();this.ca=n;t:if(pN(this)){var r=LS(this.g);t="";var i=r.length,s=ri(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bo(this),Vc(this);var o="";break t}this.h.i=new fe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,OW(this.j,this.v,this.B,this.m,this.W,d,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!fd(a)){var c=a;break t}}c=null}if(n=c)_l(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zy(this,n);else{this.i=!1,this.s=3,Rn(12),Bo(this),Vc(this);break e}}this.S?(mN(this,d,o),Ly&&this.i&&d==3&&(iN(this.U,this.V,"tick",this.mb),this.V.start())):(_l(this.j,this.m,o,null),zy(this,o)),d==4&&Bo(this),this.i&&!this.J&&(d==4?FN(this.l,this):(this.i=!1,_h(this)))}else iq(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Rn(12)):(this.s=0,Rn(13)),Bo(this),Vc(this)}}}catch{}finally{}};function pN(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function mN(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=FW(t,n),i==jy){e==4&&(t.s=4,Rn(14),r=!1),_l(t.j,t.m,null,"[Incomplete Response]");break}else if(i==hN){t.s=4,Rn(15),_l(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else _l(t.j,t.m,i,null),zy(t,i);pN(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Rn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),kT(e),e.M=!0,Rn(11))):(_l(t.j,t.m,n,"[Invalid Chunked Response]"),Bo(t),Vc(t))}J.mb=function(){if(this.g){var t=ri(this.g),e=this.g.ja();this.o<e.length&&(mg(this),mN(this,t,e),this.i&&t!=4&&_h(this))}};function FW(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?jy:(n=Number(e.substring(n,r)),isNaN(n)?hN:(r+=1,r+n>e.length?jy:(e=e.slice(r,r+n),t.o=r+n,e)))}J.cancel=function(){this.J=!0,Bo(this)};function _h(t){t.Y=Date.now()+t.P,gN(t,t.P)}function gN(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=ph(_n(t.lb,t),e)}function mg(t){t.C&&(fe.clearTimeout(t.C),t.C=null)}J.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(LW(this.j,this.B),this.L!=2&&(vd(),Rn(17)),Bo(this),this.s=2,Vc(this)):gN(this,this.Y-t)};function Vc(t){t.l.H==0||t.J||FN(t.l,t)}function Bo(t){mg(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,ET(t.V),sN(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function zy(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Wy(n.i,t))){if(!t.K&&Wy(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Zp(n),Eg(n);else break e;CT(n),Rn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=ph(_n(n.ib,n),6e3));if(1>=bN(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else zo(n,11)}else if((t.K||n.g==t)&&Zp(n),!fd(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const d=c[3];d!=null&&(n.ra=d,n.l.info("VER="+n.ra));const f=c[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));const m=c[5];m!=null&&typeof m=="number"&&0<m&&(r=1.5*m,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const v=t.g;if(v){const b=v.g?v.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(b){var s=r.i;s.g||b.indexOf("spdy")==-1&&b.indexOf("quic")==-1&&b.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(AT(s,s.h),s.h=null))}if(r.F){const I=v.g?v.g.getResponseHeader("X-HTTP-Session-Id"):null;I&&(r.Da=I,rt(r.I,r.F,I))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=jN(r,r.J?r.pa:null,r.Y),o.K){AN(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(mg(a),_h(a)),r.g=o}else VN(r);0<n.j.length&&wg(n)}else c[0]!="stop"&&c[0]!="close"||zo(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?zo(n,7):RT(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}vd(4)}catch{}}function $W(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(og(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function UW(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(og(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function _N(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(og(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=UW(t),r=$W(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var vN=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jW(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function na(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof na){this.h=t.h,Xp(this,t.j),this.s=t.s,this.g=t.g,Jp(this,t.m),this.l=t.l;var e=t.i,n=new yd;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),NS(this,n),this.o=t.o}else t&&(e=String(t).match(vN))?(this.h=!1,Xp(this,e[1]||"",!0),this.s=_c(e[2]||""),this.g=_c(e[3]||"",!0),Jp(this,e[4]),this.l=_c(e[5]||"",!0),NS(this,e[6]||"",!0),this.o=_c(e[7]||"")):(this.h=!1,this.i=new yd(null,this.h))}na.prototype.toString=function(){var t=[],e=this.j;e&&t.push(vc(e,DS,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(vc(e,DS,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(vc(n,n.charAt(0)=="/"?WW:zW,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",vc(n,HW)),t.join("")};function Fi(t){return new na(t)}function Xp(t,e,n){t.j=n?_c(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Jp(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function NS(t,e,n){e instanceof yd?(t.i=e,KW(t.i,t.h)):(n||(e=vc(e,qW)),t.i=new yd(e,t.h))}function rt(t,e,n){t.i.set(e,n)}function gg(t){return rt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function _c(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function vc(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,BW),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function BW(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var DS=/[#\/\?@]/g,zW=/[#\?:]/g,WW=/[#\?]/g,qW=/[#\?@]/g,HW=/#/g;function yd(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function to(t){t.g||(t.g=new Map,t.h=0,t.i&&jW(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}J=yd.prototype;J.add=function(t,e){to(this),this.i=null,t=_u(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function yN(t,e){to(t),e=_u(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function EN(t,e){return to(t),e=_u(t,e),t.g.has(e)}J.forEach=function(t,e){to(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};J.ta=function(){to(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};J.Z=function(t){to(this);let e=[];if(typeof t=="string")EN(this,t)&&(e=e.concat(this.g.get(_u(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};J.set=function(t,e){return to(this),this.i=null,t=_u(this,t),EN(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};J.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function wN(t,e,n){yN(t,e),0<n.length&&(t.i=null,t.g.set(_u(t,e),dT(n)),t.h+=n.length)}J.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function _u(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function KW(t,e){e&&!t.j&&(to(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(yN(this,r),wN(this,i,n))},t)),t.j=e}var GW=class{constructor(t,e){this.g=t,this.map=e}};function TN(t){this.l=t||YW,fe.PerformanceNavigationTiming?(t=fe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(fe.g&&fe.g.Ka&&fe.g.Ka()&&fe.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var YW=10;function IN(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function bN(t){return t.h?1:t.g?t.g.size:0}function Wy(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function AT(t,e){t.g?t.g.add(e):t.h=e}function AN(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}TN.prototype.cancel=function(){if(this.i=SN(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function SN(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return dT(t.i)}var QW=class{stringify(t){return fe.JSON.stringify(t,void 0)}parse(t){return fe.JSON.parse(t,void 0)}};function XW(){this.g=new QW}function JW(t,e,n){const r=n||"";try{_N(t,function(i,s){let o=i;hh(i)&&(o=vT(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function ZW(t,e){const n=new dg;if(fe.Image){const r=new Image;r.onload=Ef(Tf,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ef(Tf,n,r,"TestLoadImage: error",!1,e),r.onabort=Ef(Tf,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ef(Tf,n,r,"TestLoadImage: timeout",!1,e),fe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Tf(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function _g(t){this.l=t.ec||null,this.j=t.ob||!1}Kt(_g,TT);_g.prototype.g=function(){return new vg(this.l,this.j)};_g.prototype.i=function(t){return function(){return t}}({});function vg(t,e){qt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=ST,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Kt(vg,qt);var ST=0;J=vg.prototype;J.open=function(t,e){if(this.readyState!=ST)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ed(this)};J.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||fe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};J.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vh(this)),this.readyState=ST};J.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ed(this)),this.g&&(this.readyState=3,Ed(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof fe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;PN(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function PN(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}J.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?vh(this):Ed(this),this.readyState==3&&PN(this)}};J.Za=function(t){this.g&&(this.response=this.responseText=t,vh(this))};J.Ya=function(t){this.g&&(this.response=t,vh(this))};J.ka=function(){this.g&&vh(this)};function vh(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ed(t)}J.setRequestHeader=function(t,e){this.v.append(t,e)};J.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};J.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ed(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(vg.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var eq=fe.JSON.parse;function wt(t){qt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=RN,this.L=this.M=!1}Kt(wt,qt);var RN="",tq=/^https?$/i,nq=["POST","PUT"];J=wt.prototype;J.Oa=function(t){this.M=t};J.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Uy.g(),this.C=this.u?xS(this.u):xS(Uy),this.g.onreadystatechange=_n(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){OS(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=fe.FormData&&t instanceof fe.FormData,!(0<=Wx(nq,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{xN(this),0<this.B&&((this.L=rq(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_n(this.ua,this)):this.A=wT(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){OS(this,s)}};function rq(t){return Wl&&typeof t.timeout=="number"&&t.ontimeout!==void 0}J.ua=function(){typeof cT<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,sn(this,"timeout"),this.abort(8))};function OS(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,CN(t),yg(t)}function CN(t){t.F||(t.F=!0,sn(t,"complete"),sn(t,"error"))}J.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,sn(this,"complete"),sn(this,"abort"),yg(this))};J.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),yg(this,!0)),wt.$.N.call(this)};J.La=function(){this.s||(this.G||this.v||this.l?kN(this):this.kb())};J.kb=function(){kN(this)};function kN(t){if(t.h&&typeof cT<"u"&&(!t.C[1]||ri(t)!=4||t.da()!=2)){if(t.v&&ri(t)==4)wT(t.La,0,t);else if(sn(t,"readystatechange"),ri(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(vN)[1]||null;!i&&fe.self&&fe.self.location&&(i=fe.self.location.protocol.slice(0,-1)),r=!tq.test(i?i.toLowerCase():"")}n=r}if(n)sn(t,"complete"),sn(t,"success");else{t.m=6;try{var s=2<ri(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",CN(t)}}finally{yg(t)}}}}function yg(t,e){if(t.g){xN(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||sn(t,"ready");try{n.onreadystatechange=r}catch{}}}function xN(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(fe.clearTimeout(t.A),t.A=null)}J.isActive=function(){return!!this.g};function ri(t){return t.g?t.g.readyState:0}J.da=function(){try{return 2<ri(this)?this.g.status:-1}catch{return-1}};J.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};J.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),eq(e)}};function LS(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case RN:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function iq(t){const e={};t=(t.g&&2<=ri(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(fd(t[r]))continue;var n=CW(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}TW(e,function(r){return r.join(", ")})}J.Ia=function(){return this.m};J.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function NN(t){let e="";return fT(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function PT(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=NN(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):rt(t,e,n))}function ic(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function DN(t){this.Ga=0,this.j=[],this.l=new dg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ic("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ic("baseRetryDelayMs",5e3,t),this.hb=ic("retryDelaySeedMs",1e4,t),this.eb=ic("forwardChannelMaxRetries",2,t),this.xa=ic("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new TN(t&&t.concurrentRequestLimit),this.Ja=new XW,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}J=DN.prototype;J.ra=8;J.H=1;function RT(t){if(ON(t),t.H==3){var e=t.W++,n=Fi(t.I);if(rt(n,"SID",t.K),rt(n,"RID",e),rt(n,"TYPE","terminate"),yh(t,n),e=new gh(t,t.l,e),e.L=2,e.A=gg(Fi(n)),n=!1,fe.navigator&&fe.navigator.sendBeacon)try{n=fe.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&fe.Image&&(new Image().src=e.A,n=!0),n||(e.g=BN(e.l,null),e.g.ha(e.A)),e.G=Date.now(),_h(e)}UN(t)}function Eg(t){t.g&&(kT(t),t.g.cancel(),t.g=null)}function ON(t){Eg(t),t.u&&(fe.clearTimeout(t.u),t.u=null),Zp(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&fe.clearTimeout(t.m),t.m=null)}function wg(t){if(!IN(t.i)&&!t.m){t.m=!0;var e=t.Na;md||nN(),gd||(md(),gd=!0),yT.add(e,t),t.C=0}}function sq(t,e){return bN(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ph(_n(t.Na,t,e),$N(t,t.C)),t.C++,!0)}J.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new gh(this,this.l,t);let s=this.s;if(this.U&&(s?(s=Gx(s),Yx(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=LN(this,i,e),n=Fi(this.I),rt(n,"RID",t),rt(n,"CVER",22),this.F&&rt(n,"X-HTTP-Session-Id",this.F),yh(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(NN(s)))+"&"+e:this.o&&PT(n,this.o,s)),AT(this.i,i),this.bb&&rt(n,"TYPE","init"),this.P?(rt(n,"$req",e),rt(n,"SID","null"),i.aa=!0,By(i,n,null)):By(i,n,e),this.H=2}}else this.H==3&&(t?VS(this,t):this.j.length==0||IN(this.i)||VS(this))};function VS(t,e){var n;e?n=e.m:n=t.W++;const r=Fi(t.I);rt(r,"SID",t.K),rt(r,"RID",n),rt(r,"AID",t.V),yh(t,r),t.o&&t.s&&PT(r,t.o,t.s),n=new gh(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=LN(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),AT(t.i,n),By(n,r,e)}function yh(t,e){t.na&&fT(t.na,function(n,r){rt(e,r,n)}),t.h&&_N({},function(n,r){rt(e,r,n)})}function LN(t,e,n){n=Math.min(t.j.length,n);var r=t.h?_n(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=i[l].g;const d=i[l].map;if(c-=s,0>c)s=Math.max(0,i[l].g-100),a=!1;else try{JW(d,o,"req"+c+"_")}catch{r&&r(d)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function VN(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;md||nN(),gd||(md(),gd=!0),yT.add(e,t),t.A=0}}function CT(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ph(_n(t.Ma,t),$N(t,t.A)),t.A++,!0)}J.Ma=function(){if(this.u=null,MN(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ph(_n(this.jb,this),t)}};J.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Rn(10),Eg(this),MN(this))};function kT(t){t.B!=null&&(fe.clearTimeout(t.B),t.B=null)}function MN(t){t.g=new gh(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Fi(t.wa);rt(e,"RID","rpc"),rt(e,"SID",t.K),rt(e,"AID",t.V),rt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&rt(e,"TO",t.qa),rt(e,"TYPE","xmlhttp"),yh(t,e),t.o&&t.s&&PT(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=gg(Fi(e)),n.u=null,n.S=!0,fN(n,t)}J.ib=function(){this.v!=null&&(this.v=null,Eg(this),CT(this),Rn(19))};function Zp(t){t.v!=null&&(fe.clearTimeout(t.v),t.v=null)}function FN(t,e){var n=null;if(t.g==e){Zp(t),kT(t),t.g=null;var r=2}else if(Wy(t.i,e))n=e.F,AN(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=hg(),sn(r,new lN(r,n)),wg(t)}else VN(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&sq(t,e)||r==2&&CT(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:zo(t,5);break;case 4:zo(t,10);break;case 3:zo(t,6);break;default:zo(t,2)}}}function $N(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function zo(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=_n(t.pb,t);n||(n=new na("//www.google.com/images/cleardot.gif"),fe.location&&fe.location.protocol=="http"||Xp(n,"https"),gg(n)),ZW(n.toString(),r)}else Rn(2);t.H=0,t.h&&t.h.za(e),UN(t),ON(t)}J.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Rn(2)):(this.l.info("Failed to ping google.com"),Rn(1))};function UN(t){if(t.H=0,t.ma=[],t.h){const e=SN(t.i);(e.length!=0||t.j.length!=0)&&(SS(t.ma,e),SS(t.ma,t.j),t.i.i.length=0,dT(t.j),t.j.length=0),t.h.ya()}}function jN(t,e,n){var r=n instanceof na?Fi(n):new na(n);if(r.g!="")e&&(r.g=e+"."+r.g),Jp(r,r.m);else{var i=fe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new na(null);r&&Xp(s,r),e&&(s.g=e),i&&Jp(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&rt(r,n,e),rt(r,"VER",t.ra),yh(t,r),r}function BN(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new wt(new _g({ob:n})):new wt(t.va),e.Oa(t.J),e}J.isActive=function(){return!!this.h&&this.h.isActive(this)};function zN(){}J=zN.prototype;J.Ba=function(){};J.Aa=function(){};J.za=function(){};J.ya=function(){};J.isActive=function(){return!0};J.Va=function(){};function em(){if(Wl&&!(10<=Number(vW)))throw Error("Environmental error: no available transport.")}em.prototype.g=function(t,e){return new sr(t,e)};function sr(t,e){qt.call(this),this.g=new DN(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!fd(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!fd(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new vu(this)}Kt(sr,qt);sr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Rn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=jN(t,null,t.Y),wg(t)};sr.prototype.close=function(){RT(this.g)};sr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=vT(t),t=n);e.j.push(new GW(e.fb++,t)),e.H==3&&wg(e)};sr.prototype.N=function(){this.g.h=null,delete this.j,RT(this.g),delete this.g,sr.$.N.call(this)};function WN(t){IT.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Kt(WN,IT);function qN(){bT.call(this),this.status=1}Kt(qN,bT);function vu(t){this.g=t}Kt(vu,zN);vu.prototype.Ba=function(){sn(this.g,"a")};vu.prototype.Aa=function(t){sn(this.g,new WN(t))};vu.prototype.za=function(t){sn(this.g,new qN)};vu.prototype.ya=function(){sn(this.g,"b")};function oq(){this.blockSize=-1}function $r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Kt($r,oq);$r.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function mv(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}$r.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)mv(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){mv(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){mv(this,r),i=0;break}}this.h=i,this.i+=e};$r.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ue(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var aq={};function xT(t){return-128<=t&&128>t?mW(t,function(e){return new Ue([e|0],0>e?-1:0)}):new Ue([t|0],0>t?-1:0)}function ii(t){if(isNaN(t)||!isFinite(t))return xl;if(0>t)return tn(ii(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=qy;return new Ue(e,0)}function HN(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return tn(HN(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ii(Math.pow(e,8)),r=xl,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=ii(Math.pow(e,s)),r=r.R(s).add(ii(o))):(r=r.R(n),r=r.add(ii(o)))}return r}var qy=4294967296,xl=xT(0),Hy=xT(1),MS=xT(16777216);J=Ue.prototype;J.ea=function(){if(yr(this))return-tn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:qy+r)*e,e*=qy}return t};J.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(xi(this))return"0";if(yr(this))return"-"+tn(this).toString(t);for(var e=ii(Math.pow(t,6)),n=this,r="";;){var i=nm(n,e).g;n=tm(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,xi(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};J.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function xi(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function yr(t){return t.h==-1}J.X=function(t){return t=tm(this,t),yr(t)?-1:xi(t)?0:1};function tn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ue(n,~t.h).add(Hy)}J.abs=function(){return yr(this)?tn(this):this};J.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Ue(n,n[n.length-1]&-2147483648?-1:0)};function tm(t,e){return t.add(tn(e))}J.R=function(t){if(xi(this)||xi(t))return xl;if(yr(this))return yr(t)?tn(this).R(tn(t)):tn(tn(this).R(t));if(yr(t))return tn(this.R(tn(t)));if(0>this.X(MS)&&0>t.X(MS))return ii(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,If(n,2*r+2*i),n[2*r+2*i+1]+=s*l,If(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,If(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,If(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ue(n,0)};function If(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function sc(t,e){this.g=t,this.h=e}function nm(t,e){if(xi(e))throw Error("division by zero");if(xi(t))return new sc(xl,xl);if(yr(t))return e=nm(tn(t),e),new sc(tn(e.g),tn(e.h));if(yr(e))return e=nm(t,tn(e)),new sc(tn(e.g),e.h);if(30<t.g.length){if(yr(t)||yr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Hy,r=e;0>=r.X(t);)n=FS(n),r=FS(r);var i=Ja(n,1),s=Ja(r,1);for(r=Ja(r,2),n=Ja(n,2);!xi(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Ja(r,1),n=Ja(n,1)}return e=tm(t,i.R(e)),new sc(i,e)}for(i=xl;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=ii(n),o=s.R(e);yr(o)||0<o.X(t);)n-=r,s=ii(n),o=s.R(e);xi(s)&&(s=Hy),i=i.add(s),t=tm(t,o)}return new sc(i,t)}J.gb=function(t){return nm(this,t).h};J.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ue(n,this.h&t.h)};J.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ue(n,this.h|t.h)};J.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ue(n,this.h^t.h)};function FS(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ue(n,t.h)}function Ja(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ue(i,t.h)}em.prototype.createWebChannel=em.prototype.g;sr.prototype.send=sr.prototype.u;sr.prototype.open=sr.prototype.m;sr.prototype.close=sr.prototype.close;fg.NO_ERROR=0;fg.TIMEOUT=8;fg.HTTP_ERROR=6;uN.COMPLETE="complete";cN.EventType=mh;mh.OPEN="a";mh.CLOSE="b";mh.ERROR="c";mh.MESSAGE="d";qt.prototype.listen=qt.prototype.O;wt.prototype.listenOnce=wt.prototype.P;wt.prototype.getLastError=wt.prototype.Sa;wt.prototype.getLastErrorCode=wt.prototype.Ia;wt.prototype.getStatus=wt.prototype.da;wt.prototype.getResponseJson=wt.prototype.Wa;wt.prototype.getResponseText=wt.prototype.ja;wt.prototype.send=wt.prototype.ha;wt.prototype.setWithCredentials=wt.prototype.Oa;$r.prototype.digest=$r.prototype.l;$r.prototype.reset=$r.prototype.reset;$r.prototype.update=$r.prototype.j;Ue.prototype.add=Ue.prototype.add;Ue.prototype.multiply=Ue.prototype.R;Ue.prototype.modulo=Ue.prototype.gb;Ue.prototype.compare=Ue.prototype.X;Ue.prototype.toNumber=Ue.prototype.ea;Ue.prototype.toString=Ue.prototype.toString;Ue.prototype.getBits=Ue.prototype.D;Ue.fromNumber=ii;Ue.fromString=HN;var lq=function(){return new em},uq=function(){return hg()},gv=fg,cq=uN,dq=Ra,$S={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},bf=cN,hq=wt,fq=$r,Nl=Ue,pq={};const US="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jt.UNAUTHENTICATED=new jt(null),jt.GOOGLE_CREDENTIALS=new jt("google-credentials-uid"),jt.FIRST_PARTY=new jt("first-party-uid"),jt.MOCK_USER=new jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yu="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=new Gm("@firebase/firestore");function rl(){return $s.logLevel}function mq(t){$s.setLogLevel(t)}function j(t,...e){if($s.logLevel<=Re.DEBUG){const n=e.map(NT);$s.debug(`Firestore (${yu}): ${t}`,...n)}}function kt(t,...e){if($s.logLevel<=Re.ERROR){const n=e.map(NT);$s.error(`Firestore (${yu}): ${t}`,...n)}}function Ur(t,...e){if($s.logLevel<=Re.WARN){const n=e.map(NT);$s.warn(`Firestore (${yu}): ${t}`,...n)}}function NT(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(t="Unexpected state"){const e=`FIRESTORE (${yu}) INTERNAL ASSERTION FAILED: `+t;throw kt(e),new Error(e)}function se(t,e){t||Z()}function gq(t,e){t||Z()}function X(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class U extends Cn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _q{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(jt.UNAUTHENTICATED))}shutdown(){}}class vq{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class yq{constructor(e){this.t=e,this.currentUser=jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Wt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Wt,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Wt)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(se(typeof r.accessToken=="string"),new KN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return se(e===null||typeof e=="string"),new jt(e)}}class Eq{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=jt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class wq{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Eq(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Tq{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Iq{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,j("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(se(typeof n.token=="string"),this.R=n.token,new Tq(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bq(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=bq(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ge(t,e){return t<e?-1:t>e?1:0}function ql(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function YN(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new U(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new U(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new U(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new U(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ut(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ae(e)}static min(){return new ae(new ut(0,0))}static max(){return new ae(new ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,n,r){n===void 0?n=0:n>e.length&&Z(),r===void 0?r=e.length-n:r>e.length-n&&Z(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return wd.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof wd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Le extends wd{construct(e,n,r){return new Le(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new U(D.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Le(n)}static emptyPath(){return new Le([])}}const Aq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ot extends wd{construct(e,n,r){return new ot(e,n,r)}static isValidIdentifier(e){return Aq.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ot(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new U(D.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new U(D.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new U(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new U(D.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ot(n)}static emptyPath(){return new ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.path=e}static fromPath(e){return new Y(Le.fromString(e))}static fromName(e){return new Y(Le.fromString(e).popFirst(5))}static empty(){return new Y(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Y(new Le(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function Ky(t){return t.fields.find(e=>e.kind===2)}function Ro(t){return t.fields.filter(e=>e.kind!==2)}rm.UNKNOWN_ID=-1;class ip{constructor(e,n){this.fieldPath=e,this.kind=n}}class Td{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Td(0,or.min())}}function QN(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(r===1e9?new ut(n+1,0):new ut(n,r));return new or(i,Y.empty(),e)}function XN(t){return new or(t.readTime,t.key,-1)}class or{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new or(ae.min(),Y.empty(),-1)}static max(){return new or(ae.max(),Y.empty(),-1)}}function DT(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Y.comparator(t.documentKey,e.documentKey),n!==0?n:ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function no(t){if(t.code!==D.FAILED_PRECONDITION||t.message!==JN)throw t;j("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new R((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof R?n:R.resolve(n)}catch(n){return R.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):R.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):R.reject(n)}static resolve(e){return new R((n,r)=>{n(e)})}static reject(e){return new R((n,r)=>{r(e)})}static waitFor(e){return new R((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=R.resolve(!1);for(const r of e)n=n.next(i=>i?R.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new R((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new R((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Wt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Mc(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=OT(r.target.error);this.V.reject(new Mc(e,i))}}static open(e,n,r,i){try{return new Tg(n,e.transaction(i,r))}catch(s){throw new Mc(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(j("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Pq(n)}}class Or{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Or.S(ft())===12.2&&kt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return j("SimpleDb","Removing database:",e),ko(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!id())return!1;if(Or.C())return!0;const e=ft(),n=Or.S(e),r=0<n&&n<10,i=Or.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=pq)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(j("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new Mc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new U(D.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new U(D.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Mc(e,o))},i.onupgradeneeded=s=>{j("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{j("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=Tg.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),R.reject(c))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&o<3;if(j("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Sq{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return ko(this.k.delete())}}class Mc extends U{constructor(e,n){super(D.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function ro(t){return t.name==="IndexedDbTransactionError"}class Pq{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(j("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(j("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ko(r)}add(e){return j("SimpleDb","ADD",this.store.name,e,e),ko(this.store.add(e))}get(e){return ko(this.store.get(e)).next(n=>(n===void 0&&(n=null),j("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return j("SimpleDb","DELETE",this.store.name,e),ko(this.store.delete(e))}count(){return j("SimpleDb","COUNT",this.store.name),ko(this.store.count())}W(e,n){const r=this.options(e,n);if(r.index||typeof this.store.getAll!="function"){const i=this.cursor(r),s=[];return this.G(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new R((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new R((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){j("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new R((r,i)=>{n.onerror=s=>{const o=OT(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new R((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new Sq(a),c=n(a.primaryKey,a.value,l);if(c instanceof R){const d=c.catch(f=>(l.done(),R.reject(f)));r.push(d)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>R.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function ko(t){return new R((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=OT(r.target.error);n(i)}})}let jS=!1;function OT(t){const e=Or.S(ft());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new U("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return jS||(jS=!0,setTimeout(()=>{throw r},0)),r}}return t}class Rq{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ee(e){j("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{j("IndexBackiller",`Documents written: ${await this.X.te()}`)}catch(n){ro(n)?j("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await no(n)}await this.ee(6e4)})}}class Cq{constructor(e,n){this.localStore=e,this.persistence=n}async te(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.ne(n,e))}ne(e,n){const r=new Set;let i=n,s=!0;return R.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return j("IndexBackiller",`Processing collection: ${o}`),this.re(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}re(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ie(i,s)).next(a=>(j("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}ie(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=XN(s);DT(o,r)>0&&(r=o)}),new or(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Fn._e=-1;function Eh(t){return t==null}function Id(t){return t===0&&1/t==-1/0}function eD(t){return typeof t=="number"&&Number.isInteger(t)&&!Id(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=BS(e)),e=kq(t.get(n),e);return BS(e)}function kq(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function BS(t){return t+""}function si(t){const e=t.length;if(se(e>=2),e===2)return se(t.charAt(0)===""&&t.charAt(1)===""),Le.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&Z(),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:Z()}s=o+2}return new Le(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(t,e){return[t,kn(e)]}function tD(t,e,n){return[t,kn(e),n]}const xq={},Nq=["prefixPath","collectionGroup","readTime","documentId"],Dq=["prefixPath","collectionGroup","documentId"],Oq=["collectionGroup","readTime","prefixPath","documentId"],Lq=["canonicalId","targetId"],Vq=["targetId","path"],Mq=["path","targetId"],Fq=["collectionId","parent"],$q=["indexId","uid"],Uq=["uid","sequenceNumber"],jq=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Bq=["indexId","uid","orderedDocumentKey"],zq=["userId","collectionPath","documentId"],Wq=["userId","collectionPath","largestBatchId"],qq=["userId","collectionGroup","largestBatchId"],nD=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Hq=[...nD,"documentOverlays"],rD=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],iD=rD,Kq=[...iD,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy extends ZN{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function Gt(t,e){const n=X(t);return Or.M(n.ae,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ca(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function sD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,n){this.comparator=e,this.root=n||en.EMPTY}insert(e,n){return new Xe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new Xe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Af(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Af(this.root,e,this.comparator,!1)}getReverseIterator(){return new Af(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Af(this.root,e,this.comparator,!0)}}class Af{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??en.RED,this.left=i??en.EMPTY,this.right=s??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new en(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return en.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Z();const e=this.left.check();if(e!==this.right.check())throw Z();return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Z()}get value(){throw Z()}get color(){throw Z()}get left(){throw Z()}get right(){throw Z()}copy(e,n,r,i,s){return this}insert(e,n,r){return new en(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.comparator=e,this.data=new Xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new qS(this.data.getIterator())}getIteratorFrom(e){return new qS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof He)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new He(this.comparator);return n.data=e,n}}class qS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Za(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.fields=e,e.sort(ot.comparator)}static empty(){return new $n([])}unionWith(e){let n=new He(ot.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new $n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ql(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gq(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new oD("Invalid base64 string: "+s):s}}(e);return new Vt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Vt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const Yq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Us(t){if(se(!!t),typeof t=="string"){let e=0;const n=Yq.exec(t);if(se(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_t(t.seconds),nanos:_t(t.nanos)}}function _t(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function js(t){return typeof t=="string"?Vt.fromBase64String(t):Vt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function LT(t){const e=t.mapValue.fields.__previous_value__;return Ig(e)?LT(e):e}function bd(t){const e=Us(t.mapValue.fields.__local_write_time__.timestampValue);return new ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qq{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Bs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Bs("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Bs&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},op={nullValue:"NULL_VALUE"};function fa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ig(t)?4:aD(t)?9007199254740991:10:Z()}function gi(t,e){if(t===e)return!0;const n=fa(t);if(n!==fa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bd(t).isEqual(bd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Us(i.timestampValue),a=Us(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return js(i.bytesValue).isEqual(js(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return _t(i.geoPointValue.latitude)===_t(s.geoPointValue.latitude)&&_t(i.geoPointValue.longitude)===_t(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return _t(i.integerValue)===_t(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=_t(i.doubleValue),a=_t(s.doubleValue);return o===a?Id(o)===Id(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ql(t.arrayValue.values||[],e.arrayValue.values||[],gi);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(WS(o)!==WS(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!gi(o[l],a[l])))return!1;return!0}(t,e);default:return Z()}}function Ad(t,e){return(t.values||[]).find(n=>gi(n,e))!==void 0}function zs(t,e){if(t===e)return 0;const n=fa(t),r=fa(e);if(n!==r)return ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ge(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=_t(s.integerValue||s.doubleValue),l=_t(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return HS(t.timestampValue,e.timestampValue);case 4:return HS(bd(t),bd(e));case 5:return ge(t.stringValue,e.stringValue);case 6:return function(s,o){const a=js(s),l=js(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=ge(a[c],l[c]);if(d!==0)return d}return ge(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ge(_t(s.latitude),_t(o.latitude));return a!==0?a:ge(_t(s.longitude),_t(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const d=zs(a[c],l[c]);if(d)return d}return ge(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Es.mapValue&&o===Es.mapValue)return 0;if(s===Es.mapValue)return 1;if(o===Es.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const m=ge(l[f],d[f]);if(m!==0)return m;const v=zs(a[l[f]],c[d[f]]);if(v!==0)return v}return ge(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Z()}}function HS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ge(t,e);const n=Us(t),r=Us(e),i=ge(n.seconds,r.seconds);return i!==0?i:ge(n.nanos,r.nanos)}function Hl(t){return Yy(t)}function Yy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Us(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return js(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Y.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Yy(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Yy(n.fields[o])}`;return i+"}"}(t.mapValue):Z()}function pa(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Qy(t){return!!t&&"integerValue"in t}function Sd(t){return!!t&&"arrayValue"in t}function KS(t){return!!t&&"nullValue"in t}function GS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ap(t){return!!t&&"mapValue"in t}function Fc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ca(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Fc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function aD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function Xq(t){return"nullValue"in t?op:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?pa(Bs.empty(),Y.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:Z()}function Jq(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?pa(Bs.empty(),Y.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Es:Z()}function YS(t,e){const n=zs(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function QS(t,e){const n=zs(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ap(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fc(n)}setAll(e){let n=ot.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Fc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ap(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ap(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ca(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new nn(Fc(this.value))}}function lD(t){const e=[];return Ca(t.fields,(n,r)=>{const i=new ot([n]);if(ap(r)){const s=lD(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new $n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new it(e,0,ae.min(),ae.min(),ae.min(),nn.empty(),0)}static newFoundDocument(e,n,r,i){return new it(e,1,n,ae.min(),r,i,0)}static newNoDocument(e,n){return new it(e,2,n,ae.min(),ae.min(),nn.empty(),0)}static newUnknownDocument(e,n){return new it(e,3,n,ae.min(),ae.min(),nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof it&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new it(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,n){this.position=e,this.inclusive=n}}function XS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Y.comparator(Y.fromName(o.referenceValue),n.key):r=zs(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function JS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,n="asc"){this.field=e,this.dir=n}}function Zq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{}class xe extends uD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new eH(e,n,r):n==="array-contains"?new rH(e,r):n==="in"?new mD(e,r):n==="not-in"?new iH(e,r):n==="array-contains-any"?new sH(e,r):new xe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new tH(e,r):new nH(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(zs(n,this.value)):n!==null&&fa(this.value)===fa(n)&&this.matchesComparison(zs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $e extends uD{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new $e(e,n)}matches(e){return Kl(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Kl(t){return t.op==="and"}function Xy(t){return t.op==="or"}function VT(t){return cD(t)&&Kl(t)}function cD(t){for(const e of t.filters)if(e instanceof $e)return!1;return!0}function Jy(t){if(t instanceof xe)return t.field.canonicalString()+t.op.toString()+Hl(t.value);if(VT(t))return t.filters.map(e=>Jy(e)).join(",");{const e=t.filters.map(n=>Jy(n)).join(",");return`${t.op}(${e})`}}function dD(t,e){return t instanceof xe?function(r,i){return i instanceof xe&&r.op===i.op&&r.field.isEqual(i.field)&&gi(r.value,i.value)}(t,e):t instanceof $e?function(r,i){return i instanceof $e&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&dD(o,i.filters[a]),!0):!1}(t,e):void Z()}function hD(t,e){const n=t.filters.concat(e);return $e.create(n,t.op)}function fD(t){return t instanceof xe?function(n){return`${n.field.canonicalString()} ${n.op} ${Hl(n.value)}`}(t):t instanceof $e?function(n){return n.op.toString()+" {"+n.getFilters().map(fD).join(" ,")+"}"}(t):"Filter"}class eH extends xe{constructor(e,n,r){super(e,n,r),this.key=Y.fromName(r.referenceValue)}matches(e){const n=Y.comparator(e.key,this.key);return this.matchesComparison(n)}}class tH extends xe{constructor(e,n){super(e,"in",n),this.keys=pD("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class nH extends xe{constructor(e,n){super(e,"not-in",n),this.keys=pD("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function pD(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Y.fromName(r.referenceValue))}class rH extends xe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Sd(n)&&Ad(n.arrayValue,this.value)}}class mD extends xe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ad(this.value.arrayValue,n)}}class iH extends xe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ad(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ad(this.value.arrayValue,n)}}class sH extends xe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Sd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ad(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oH{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function Zy(t,e=null,n=[],r=[],i=null,s=null,o=null){return new oH(t,e,n,r,i,s,o)}function ma(t){const e=X(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Jy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Eh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Hl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Hl(r)).join(",")),e.ce=n}return e.ce}function wh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Zq(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!dD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!JS(t.startAt,e.startAt)&&JS(t.endAt,e.endAt)}function im(t){return Y.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function sm(t,e){return t.filters.filter(n=>n instanceof xe&&n.field.isEqual(e))}function ZS(t,e,n){let r=op,i=!0;for(const s of sm(t,e)){let o=op,a=!0;switch(s.op){case"<":case"<=":o=Xq(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=op}YS({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];YS({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function e1(t,e,n){let r=Es,i=!0;for(const s of sm(t,e)){let o=Es,a=!0;switch(s.op){case">=":case">":o=Jq(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Es}QS({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];QS({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function gD(t,e,n,r,i,s,o,a){return new Gi(t,e,n,r,i,s,o,a)}function Eu(t){return new Gi(t)}function t1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function MT(t){return t.collectionGroup!==null}function Dl(t){const e=X(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new He(ot.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Pd(s,r))}),n.has(ot.keyField().canonicalString())||e.le.push(new Pd(ot.keyField(),r))}return e.le}function xn(t){const e=X(t);return e.he||(e.he=aH(e,Dl(t))),e.he}function aH(t,e){if(t.limitType==="F")return Zy(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Pd(i.field,s)});const n=t.endAt?new Ws(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ws(t.startAt.position,t.startAt.inclusive):null;return Zy(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function eE(t,e){const n=t.filters.concat([e]);return new Gi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function om(t,e,n){return new Gi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Th(t,e){return wh(xn(t),xn(e))&&t.limitType===e.limitType}function _D(t){return`${ma(xn(t))}|lt:${t.limitType}`}function il(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>fD(i)).join(", ")}]`),Eh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Hl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Hl(i)).join(",")),`Target(${r})`}(xn(t))}; limitType=${t.limitType})`}function Ih(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Y.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Dl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=XS(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Dl(r),i)||r.endAt&&!function(o,a,l){const c=XS(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Dl(r),i))}(t,e)}function vD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function yD(t){return(e,n)=>{let r=!1;for(const i of Dl(t)){const s=lH(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function lH(t,e,n){const r=t.field.isKeyField()?Y.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?zs(l,c):Z()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Z()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ca(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return sD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uH=new Xe(Y.comparator);function Un(){return uH}const ED=new Xe(Y.comparator);function yc(...t){let e=ED;for(const n of t)e=e.insert(n.key,n);return e}function wD(t){let e=ED;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function oi(){return $c()}function TD(){return $c()}function $c(){return new io(t=>t.toString(),(t,e)=>t.isEqual(e))}const cH=new Xe(Y.comparator),dH=new He(Y.comparator);function _e(...t){let e=dH;for(const n of t)e=e.add(n);return e}const hH=new He(ge);function FT(){return hH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Id(e)?"-0":e}}function bD(t){return{integerValue:""+t}}function AD(t,e){return eD(e)?bD(e):ID(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(){this._=void 0}}function fH(t,e,n){return t instanceof Gl?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Ig(s)&&(s=LT(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof ga?PD(t,e):t instanceof _a?RD(t,e):function(i,s){const o=SD(i,s),a=n1(o)+n1(i.Ie);return Qy(o)&&Qy(i.Ie)?bD(a):ID(i.serializer,a)}(t,e)}function pH(t,e,n){return t instanceof ga?PD(t,e):t instanceof _a?RD(t,e):n}function SD(t,e){return t instanceof Yl?function(r){return Qy(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Gl extends bg{}class ga extends bg{constructor(e){super(),this.elements=e}}function PD(t,e){const n=CD(e);for(const r of t.elements)n.some(i=>gi(i,r))||n.push(r);return{arrayValue:{values:n}}}class _a extends bg{constructor(e){super(),this.elements=e}}function RD(t,e){let n=CD(e);for(const r of t.elements)n=n.filter(i=>!gi(i,r));return{arrayValue:{values:n}}}class Yl extends bg{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function n1(t){return _t(t.integerValue||t.doubleValue)}function CD(t){return Sd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n){this.field=e,this.transform=n}}function mH(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ga&&i instanceof ga||r instanceof _a&&i instanceof _a?ql(r.elements,i.elements,gi):r instanceof Yl&&i instanceof Yl?gi(r.Ie,i.Ie):r instanceof Gl&&i instanceof Gl}(t.transform,e.transform)}class gH{constructor(e,n){this.version=e,this.transformResults=n}}class at{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new at}static exists(e){return new at(void 0,e)}static updateTime(e){return new at(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ag{}function kD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Tu(t.key,at.none()):new wu(t.key,t.data,at.none());{const n=t.data,r=nn.empty();let i=new He(ot.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Yi(t.key,r,new $n(i.toArray()),at.none())}}function _H(t,e,n){t instanceof wu?function(i,s,o){const a=i.value.clone(),l=i1(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Yi?function(i,s,o){if(!lp(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=i1(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(xD(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Uc(t,e,n,r){return t instanceof wu?function(s,o,a,l){if(!lp(s.precondition,o))return a;const c=s.value.clone(),d=s1(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Yi?function(s,o,a,l){if(!lp(s.precondition,o))return a;const c=s1(s.fieldTransforms,l,o),d=o.data;return d.setAll(xD(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return lp(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function vH(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=SD(r.transform,i||null);s!=null&&(n===null&&(n=nn.empty()),n.set(r.field,s))}return n||null}function r1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ql(r,i,(s,o)=>mH(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class wu extends Ag{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Yi extends Ag{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function xD(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function i1(t,e,n){const r=new Map;se(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,pH(o,a,n[i]))}return r}function s1(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,fH(s,o,e))}return r}class Tu extends Ag{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $T extends Ag{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&_H(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Uc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Uc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=TD();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=kD(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&ql(this.mutations,e.mutations,(n,r)=>r1(n,r))&&ql(this.baseMutations,e.baseMutations,(n,r)=>r1(n,r))}}class jT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){se(e.mutations.length===r.length);let i=function(){return cH}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new jT(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yH{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt,Oe;function ND(t){switch(t){default:return Z();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0}}function DD(t){if(t===void 0)return kt("GRPC error has no .code"),D.UNKNOWN;switch(t){case Nt.OK:return D.OK;case Nt.CANCELLED:return D.CANCELLED;case Nt.UNKNOWN:return D.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return D.INTERNAL;case Nt.UNAVAILABLE:return D.UNAVAILABLE;case Nt.UNAUTHENTICATED:return D.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case Nt.NOT_FOUND:return D.NOT_FOUND;case Nt.ALREADY_EXISTS:return D.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return D.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case Nt.ABORTED:return D.ABORTED;case Nt.OUT_OF_RANGE:return D.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return D.UNIMPLEMENTED;case Nt.DATA_LOSS:return D.DATA_LOSS;default:return Z()}}(Oe=Nt||(Nt={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EH=new Nl([4294967295,4294967295],0);function o1(t){const e=OD().encode(t),n=new fq;return n.update(e),new Uint8Array(n.digest())}function a1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Nl([n,r],0),new Nl([i,s],0)]}class zT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ec(`Invalid padding: ${n}`);if(r<0)throw new Ec(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ec(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ec(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Nl.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Nl.fromNumber(r)));return i.compare(EH)===1&&(i=new Nl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=o1(e),[r,i]=a1(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new zT(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=o1(e),[r,i]=a1(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ec extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Sh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ah(ae.min(),i,new Xe(ge),Un(),_e())}}class Sh{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Sh(r,n,_e(),_e(),_e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class LD{constructor(e,n){this.targetId=e,this.fe=n}}class VD{constructor(e,n,r=Vt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class l1{constructor(){this.ge=0,this.pe=c1(),this.ye=Vt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=_e(),n=_e(),r=_e();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Z()}}),new Sh(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=c1()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,se(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class wH{constructor(e){this.Le=e,this.ke=new Map,this.qe=Un(),this.Qe=u1(),this.Ke=new Xe(ge)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:Z()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(im(s))if(r===0){const o=new Y(s.path);this.We(n,o,it.newNoDocument(o,ae.min()))}else se(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=js(r).toUint8Array()}catch(l){if(l instanceof oD)return Ur("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new zT(o,i,s)}catch(l){return Ur(l instanceof Ec?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&im(a.target)){const l=new Y(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,it.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=_e();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Ah(e,n,this.Ke,this.qe,r);return this.qe=Un(),this.Qe=u1(),this.Ke=new Xe(ge),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new l1,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new He(ge),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||j("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new l1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function u1(){return new Xe(Y.comparator)}function c1(){return new Xe(Y.comparator)}const TH={asc:"ASCENDING",desc:"DESCENDING"},IH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bH={and:"AND",or:"OR"};class AH{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function tE(t,e){return t.useProto3Json||Eh(e)?e:{value:e}}function Ql(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function MD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function SH(t,e){return Ql(t,e.toTimestamp())}function xt(t){return se(!!t),ae.fromTimestamp(function(n){const r=Us(n);return new ut(r.seconds,r.nanos)}(t))}function WT(t,e){return function(r){return new Le(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function FD(t){const e=Le.fromString(t);return se(KD(e)),e}function Rd(t,e){return WT(t.databaseId,e.path)}function di(t,e){const n=FD(e);if(n.get(1)!==t.databaseId.projectId)throw new U(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new U(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Y(UD(n))}function nE(t,e){return WT(t.databaseId,e)}function $D(t){const e=FD(t);return e.length===4?Le.emptyPath():UD(e)}function Cd(t){return new Le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function UD(t){return se(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function d1(t,e,n){return{name:Rd(t,e),fields:n.value.mapValue.fields}}function jD(t,e,n){const r=di(t,e.name),i=xt(e.updateTime),s=e.createTime?xt(e.createTime):ae.min(),o=new nn({mapValue:{fields:e.fields}}),a=it.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function PH(t,e){return"found"in e?function(r,i){se(!!i.found),i.found.name,i.found.updateTime;const s=di(r,i.found.name),o=xt(i.found.updateTime),a=i.found.createTime?xt(i.found.createTime):ae.min(),l=new nn({mapValue:{fields:i.found.fields}});return it.newFoundDocument(s,o,a,l)}(t,e):"missing"in e?function(r,i){se(!!i.missing),se(!!i.readTime);const s=di(r,i.missing),o=xt(i.readTime);return it.newNoDocument(s,o)}(t,e):Z()}function RH(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Z()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(se(d===void 0||typeof d=="string"),Vt.fromBase64String(d||"")):(se(d===void 0||d instanceof Uint8Array),Vt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?D.UNKNOWN:DD(c.code);return new U(d,c.message||"")}(o);n=new VD(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=di(t,r.document.name),s=xt(r.document.updateTime),o=r.document.createTime?xt(r.document.createTime):ae.min(),a=new nn({mapValue:{fields:r.document.fields}}),l=it.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new up(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=di(t,r.document),s=r.readTime?xt(r.readTime):ae.min(),o=it.newNoDocument(i,s),a=r.removedTargetIds||[];n=new up([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=di(t,r.document),s=r.removedTargetIds||[];n=new up([],s,i,null)}else{if(!("filter"in e))return Z();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new yH(i,s),a=r.targetId;n=new LD(a,o)}}return n}function kd(t,e){let n;if(e instanceof wu)n={update:d1(t,e.key,e.value)};else if(e instanceof Tu)n={delete:Rd(t,e.key)};else if(e instanceof Yi)n={update:d1(t,e.key,e.data),updateMask:OH(e.fieldMask)};else{if(!(e instanceof $T))return Z();n={verify:Rd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Gl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ga)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof _a)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Yl)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Z()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:SH(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Z()}(t,e.precondition)),n}function rE(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?at.updateTime(xt(s.updateTime)):s.exists!==void 0?at.exists(s.exists):at.none()}(e.currentDocument):at.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let l=null;if("setToServerValue"in a)se(a.setToServerValue==="REQUEST_TIME"),l=new Gl;else if("appendMissingElements"in a){const d=a.appendMissingElements.values||[];l=new ga(d)}else if("removeAllFromArray"in a){const d=a.removeAllFromArray.values||[];l=new _a(d)}else"increment"in a?l=new Yl(o,a.increment):Z();const c=ot.fromServerFormat(a.fieldPath);return new bh(c,l)}(t,i)):[];if(e.update){e.update.name;const i=di(t,e.update.name),s=new nn({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const c=l.fieldPaths||[];return new $n(c.map(d=>ot.fromServerFormat(d)))}(e.updateMask);return new Yi(i,s,o,n,r)}return new wu(i,s,n,r)}if(e.delete){const i=di(t,e.delete);return new Tu(i,n)}if(e.verify){const i=di(t,e.verify);return new $T(i,n)}return Z()}function CH(t,e){return t&&t.length>0?(se(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?xt(i.updateTime):xt(s);return o.isEqual(ae.min())&&(o=xt(s)),new gH(o,i.transformResults||[])}(n,e))):[]}function BD(t,e){return{documents:[nE(t,e.path)]}}function zD(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=nE(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=nE(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return HD($e.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(c=>function(f){return{field:sl(f.field),direction:xH(f.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=tE(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function WD(t){let e=$D(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){se(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const m=qD(f);return m instanceof $e&&VT(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(b){return new Pd(ol(b.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,Eh(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(f){const m=!!f.before,v=f.values||[];return new Ws(v,m)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const m=!f.before,v=f.values||[];return new Ws(v,m)}(n.endAt)),gD(e,i,o,s,a,"F",l,c)}function kH(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function qD(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ol(n.unaryFilter.field);return xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ol(n.unaryFilter.field);return xe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ol(n.unaryFilter.field);return xe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ol(n.unaryFilter.field);return xe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Z()}}(t):t.fieldFilter!==void 0?function(n){return xe.create(ol(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Z()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return $e.create(n.compositeFilter.filters.map(r=>qD(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Z()}}(n.compositeFilter.op))}(t):Z()}function xH(t){return TH[t]}function NH(t){return IH[t]}function DH(t){return bH[t]}function sl(t){return{fieldPath:t.canonicalString()}}function ol(t){return ot.fromServerFormat(t.fieldPath)}function HD(t){return t instanceof xe?function(n){if(n.op==="=="){if(GS(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NAN"}};if(KS(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(GS(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NOT_NAN"}};if(KS(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sl(n.field),op:NH(n.op),value:n.value}}}(t):t instanceof $e?function(n){const r=n.getFilters().map(i=>HD(i));return r.length===1?r[0]:{compositeFilter:{op:DH(n.op),filters:r}}}(t):Z()}function OH(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function KD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,n,r,i,s=ae.min(),o=ae.min(),a=Vt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ni(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e){this.ut=e}}function LH(t,e){let n;if(e.document)n=jD(t.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Y.fromSegments(e.noDocument.path),i=ya(e.noDocument.readTime);n=it.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Z();{const r=Y.fromSegments(e.unknownDocument.path),i=ya(e.unknownDocument.version);n=it.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new ut(i[0],i[1]);return ae.fromTimestamp(s)}(e.readTime)),n}function h1(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:am(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:Rd(s,o.key),fields:o.data.value.mapValue.fields,updateTime:Ql(s,o.version.toTimestamp()),createTime:Ql(s,o.createTime.toTimestamp())}}(t.ut,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:va(e.version)};else{if(!e.isUnknownDocument())return Z();r.unknownDocument={path:n.path.toArray(),version:va(e.version)}}return r}function am(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function va(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ya(t){const e=new ut(t.seconds,t.nanoseconds);return ae.fromTimestamp(e)}function xo(t,e){const n=(e.baseMutations||[]).map(s=>rE(t.ut,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>rE(t.ut,s)),i=ut.fromMillis(e.localWriteTimeMs);return new UT(e.batchId,i,n,r)}function wc(t){const e=ya(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?ya(t.lastLimboFreeSnapshotVersion):ae.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return se(s.documents.length===1),xn(Eu($D(s.documents[0])))}(t.query):function(s){return xn(WD(s))}(t.query),new Ni(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Vt.fromBase64String(t.resumeToken))}function YD(t,e){const n=va(e.snapshotVersion),r=va(e.lastLimboFreeSnapshotVersion);let i;i=im(e.target)?BD(t.ut,e.target):zD(t.ut,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ma(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function qT(t){const e=WD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?om(e,e.limit,"L"):e}function _v(t,e){return new BT(e.largestBatchId,rE(t.ut,e.overlayMutation))}function f1(t,e){const n=e.path.lastSegment();return[t,kn(e.path.popLast()),n]}function p1(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:va(r.readTime),documentKey:kn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VH{getBundleMetadata(e,n){return m1(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:ya(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return m1(e).put(function(i){return{bundleId:i.id,createTime:va(xt(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return g1(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:qT(s.bundledQuery),readTime:ya(s.readTime)}}(r)})}saveNamedQuery(e,n){return g1(e).put(function(i){return{name:i.name,readTime:va(xt(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function m1(t){return Gt(t,"bundles")}function g1(t){return Gt(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,n){this.serializer=e,this.userId=n}static ct(e,n){const r=n.uid||"";return new Sg(e,r)}getOverlay(e,n){return oc(e).get(f1(this.userId,n)).next(r=>r?_v(this.serializer,r):null)}getOverlays(e,n){const r=oi();return R.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new BT(n,o);i.push(this.lt(e,a))}),R.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(kn(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(oc(e).H("collectionPathOverlayIndex",a))}),R.waitFor(s)}getOverlaysForCollection(e,n,r){const i=oi(),s=kn(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return oc(e).W("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const c=_v(this.serializer,l);i.set(c.getKey(),c)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=oi();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return oc(e).Y({index:"collectionGroupOverlayIndex",range:a},(l,c,d)=>{const f=_v(this.serializer,c);s.size()<i||f.largestBatchId===o?(s.set(f.getKey(),f),o=f.largestBatchId):d.done()}).next(()=>s)}lt(e,n){return oc(e).put(function(i,s,o){const[a,l,c]=f1(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:kd(i.ut,o.mutation)}}(this.serializer,this.userId,n))}}function oc(t){return Gt(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(_t(e.integerValue));else if("doubleValue"in e){const r=_t(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),Id(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(n,20),typeof r=="string"?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(js(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?aD(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):Z()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const r=e.fields||{};this.Tt(n,55);for(const i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){const r=e.values||[];this.Tt(n,50);for(const i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),Y.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}No.St=new No;function MH(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function _1(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=MH(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class FH{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Dt(r.value),r=n.next();this.Ct()}vt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Dt(r);else if(r<2048)this.Dt(960|r>>>6),this.Dt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Dt(480|r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r);else{const i=n.codePointAt(0);this.Dt(240|i>>>18),this.Dt(128|63&i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i)}}this.Ct()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Nt(e){const n=this.Bt(e),r=_1(n);this.Lt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}kt(e){const n=this.Bt(e),r=_1(n);this.Lt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Dt(e){const n=255&e;n===0?(this.Qt(0),this.Qt(255)):n===255?(this.Qt(255),this.Qt(0)):this.Qt(n)}Ft(e){const n=255&e;n===0?(this.$t(0),this.$t(255)):n===255?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class $H{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class UH{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class ac{constructor(){this.Wt=new FH,this.Gt=new $H(this.Wt),this.zt=new UH(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return e===0?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Ht(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Do(this.indexId,this.documentKey,this.arrayValue,r)}}function os(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=v1(t.arrayValue,e.arrayValue),n!==0?n:(n=v1(t.directionalValue,e.directionalValue),n!==0?n:Y.comparator(t.documentKey,e.documentKey)))}function v1(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e){this.Jt=new He((n,r)=>ot.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Jt=this.Jt.add(r):this.Zt.push(r)}}get Xt(){return this.Jt.size>1}en(e){if(se(e.collectionGroup===this.collectionId),this.Xt)return!1;const n=Ky(e);if(n!==void 0&&!this.tn(n))return!1;const r=Ro(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.tn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[s];if(!this.nn(a,l)||!this.rn(this.Yt[o++],l))return!1}++s}for(;s<r.length;++s){const a=r[s];if(o>=this.Yt.length||!this.rn(this.Yt[o++],a))return!1}return!0}sn(){if(this.Xt)return null;let e=new He(ot.comparator);const n=[];for(const r of this.Zt)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new ip(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new ip(r.field,0))}for(const r of this.Yt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new ip(r.field,r.dir==="asc"?0:1)));return new rm(rm.UNKNOWN_ID,this.collectionId,n,Td.empty())}tn(e){for(const n of this.Zt)if(this.nn(n,e))return!0;return!1}nn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}rn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(t){var e,n;if(se(t instanceof xe||t instanceof $e),t instanceof xe){if(t instanceof mD){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>xe.create(t.field,"==",s)))||[];return $e.create(i,"or")}return t}const r=t.filters.map(i=>QD(i));return $e.create(r,t.op)}function jH(t){if(t.getFilters().length===0)return[];const e=oE(QD(t));return se(XD(e)),iE(e)||sE(e)?[e]:e.getFilters()}function iE(t){return t instanceof xe}function sE(t){return t instanceof $e&&VT(t)}function XD(t){return iE(t)||sE(t)||function(n){if(n instanceof $e&&Xy(n)){for(const r of n.getFilters())if(!iE(r)&&!sE(r))return!1;return!0}return!1}(t)}function oE(t){if(se(t instanceof xe||t instanceof $e),t instanceof xe)return t;if(t.filters.length===1)return oE(t.filters[0]);const e=t.filters.map(r=>oE(r));let n=$e.create(e,t.op);return n=lm(n),XD(n)?n:(se(n instanceof $e),se(Kl(n)),se(n.filters.length>1),n.filters.reduce((r,i)=>HT(r,i)))}function HT(t,e){let n;return se(t instanceof xe||t instanceof $e),se(e instanceof xe||e instanceof $e),n=t instanceof xe?e instanceof xe?function(i,s){return $e.create([i,s],"and")}(t,e):E1(t,e):e instanceof xe?E1(e,t):function(i,s){if(se(i.filters.length>0&&s.filters.length>0),Kl(i)&&Kl(s))return hD(i,s.getFilters());const o=Xy(i)?i:s,a=Xy(i)?s:i,l=o.filters.map(c=>HT(c,a));return $e.create(l,"or")}(t,e),lm(n)}function E1(t,e){if(Kl(e))return hD(e,t.getFilters());{const n=e.filters.map(r=>HT(t,r));return $e.create(n,"or")}}function lm(t){if(se(t instanceof xe||t instanceof $e),t instanceof xe)return t;const e=t.getFilters();if(e.length===1)return lm(e[0]);if(cD(t))return t;const n=e.map(i=>lm(i)),r=[];return n.forEach(i=>{i instanceof xe?r.push(i):i instanceof $e&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:$e.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BH{constructor(){this.on=new KT}addToCollectionParentIndex(e,n){return this.on.add(n),R.resolve()}getCollectionParents(e,n){return R.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return R.resolve()}deleteFieldIndex(e,n){return R.resolve()}deleteAllFieldIndexes(e){return R.resolve()}createTargetIndexes(e,n){return R.resolve()}getDocumentsMatchingTarget(e,n){return R.resolve(null)}getIndexType(e,n){return R.resolve(0)}getFieldIndexes(e,n){return R.resolve([])}getNextCollectionGroupToUpdate(e){return R.resolve(null)}getMinOffset(e,n){return R.resolve(or.min())}getMinOffsetFromCollectionGroup(e,n){return R.resolve(or.min())}updateCollectionGroup(e,n,r){return R.resolve()}updateIndexEntries(e,n){return R.resolve()}}class KT{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new He(Le.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new He(Le.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf=new Uint8Array(0);class zH{constructor(e,n){this.user=e,this.databaseId=n,this._n=new KT,this.an=new io(r=>ma(r),(r,i)=>wh(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this._n.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this._n.add(n)});const s={collectionId:r,parent:kn(i)};return w1(e).put(s)}return R.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[YN(n),""],!1,!0);return w1(e).W(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(si(o.parent))}return r})}addFieldIndex(e,n){const r=lc(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=tl(e);return s.next(a=>{o.put(p1(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=lc(e),i=tl(e),s=el(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=lc(e),r=el(e),i=tl(e);return n.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,n){return R.forEach(this.un(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new y1(r).sn();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=el(e);let i=!0;const s=new Map;return R.forEach(this.un(n),o=>this.cn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=_e();const a=[];return R.forEach(s,(l,c)=>{j("IndexedDbIndexManager",`Using index ${function(A){return`id=${A.indexId}|cg=${A.collectionGroup}|f=${A.fields.map(E=>`${E.fieldPath}:${E.kind}`).join(",")}`}(l)} to execute ${ma(n)}`);const d=function(A,E){const N=Ky(E);if(N===void 0)return null;for(const O of sm(A,N.fieldPath))switch(O.op){case"array-contains-any":return O.value.arrayValue.values||[];case"array-contains":return[O.value]}return null}(c,l),f=function(A,E){const N=new Map;for(const O of Ro(E))for(const L of sm(A,O.fieldPath))switch(L.op){case"==":case"in":N.set(O.fieldPath.canonicalString(),L.value);break;case"not-in":case"!=":return N.set(O.fieldPath.canonicalString(),L.value),Array.from(N.values())}return null}(c,l),m=function(A,E){const N=[];let O=!0;for(const L of Ro(E)){const G=L.kind===0?ZS(A,L.fieldPath,A.startAt):e1(A,L.fieldPath,A.startAt);N.push(G.value),O&&(O=G.inclusive)}return new Ws(N,O)}(c,l),v=function(A,E){const N=[];let O=!0;for(const L of Ro(E)){const G=L.kind===0?e1(A,L.fieldPath,A.endAt):ZS(A,L.fieldPath,A.endAt);N.push(G.value),O&&(O=G.inclusive)}return new Ws(N,O)}(c,l),b=this.ln(l,c,m),I=this.ln(l,c,v),_=this.hn(l,c,f),y=this.Pn(l.indexId,d,b,m.inclusive,I,v.inclusive,_);return R.forEach(y,T=>r.j(T,n.limit).next(A=>{A.forEach(E=>{const N=Y.fromSegments(E.documentKey);o.has(N)||(o=o.add(N),a.push(N))})}))}).next(()=>a)}return R.resolve(null)})}un(e){let n=this.an.get(e);return n||(e.filters.length===0?n=[e]:n=jH($e.create(e.filters,"and")).map(r=>Zy(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,n),n)}Pn(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),c=l/(n!=null?n.length:1),d=[];for(let f=0;f<l;++f){const m=n?this.In(n[f/c]):Sf,v=this.Tn(e,m,r[f%c],i),b=this.En(e,m,s[f%c],o),I=a.map(_=>this.Tn(e,m,_,!0));d.push(...this.createRange(v,b,I))}return d}Tn(e,n,r,i){const s=new Do(e,Y.empty(),n,r);return i?s:s.Ht()}En(e,n,r,i){const s=new Do(e,Y.empty(),n,r);return i?s.Ht():s}cn(e,n){const r=new y1(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.en(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.un(n);return R.forEach(i,s=>this.cn(e,s).next(o=>{o?r!==0&&o.fields.length<function(l){let c=new He(ot.comparator),d=!1;for(const f of l.filters)for(const m of f.getFlattenedFilters())m.field.isKeyField()||(m.op==="array-contains"||m.op==="array-contains-any"?d=!0:c=c.add(m.field));for(const f of l.orderBy)f.field.isKeyField()||(c=c.add(f.field));return c.size+(d?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}dn(e,n){const r=new ac;for(const i of Ro(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.jt(i.kind);No.St.ht(s,o)}return r.Ut()}In(e){const n=new ac;return No.St.ht(e,n.jt(0)),n.Ut()}An(e,n){const r=new ac;return No.St.ht(pa(this.databaseId,n),r.jt(function(s){const o=Ro(s);return o.length===0?0:o[o.length-1].kind}(e))),r.Ut()}hn(e,n,r){if(r===null)return[];let i=[];i.push(new ac);let s=0;for(const o of Ro(e)){const a=r[s++];for(const l of i)if(this.Rn(n,o.fieldPath)&&Sd(a))i=this.Vn(i,o,a);else{const c=l.jt(o.kind);No.St.ht(a,c)}}return this.mn(i)}ln(e,n,r){return this.hn(e,n,r.position)}mn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Ut();return n}Vn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new ac;l.seed(a.Ut()),No.St.ht(o,l.jt(n.kind)),s.push(l)}return s}Rn(e,n){return!!e.filters.find(r=>r instanceof xe&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=lc(e),i=tl(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(s=>{const o=[];return R.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(d,f){const m=f?new Td(f.sequenceNumber,new or(ya(f.readTime),new Y(si(f.documentKey)),f.largestBatchId)):Td.empty(),v=d.fields.map(([b,I])=>new ip(ot.fromServerFormat(b),I));return new rm(d.indexId,d.collectionGroup,v,m)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:ge(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=lc(e),s=tl(e);return this.fn(e).next(o=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>R.forEach(a,l=>s.put(p1(l.indexId,this.user,o,r)))))}updateIndexEntries(e,n){const r=new Map;return R.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?R.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),R.forEach(a,l=>this.gn(e,i,l).next(c=>{const d=this.pn(s,l);return c.isEqual(d)?R.resolve():this.yn(e,s,l,c,d)}))))})}wn(e,n,r,i){return el(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.An(r,n.key),documentKey:n.key.path.toArray()})}Sn(e,n,r,i){return el(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.An(r,n.key),n.key.path.toArray()])}gn(e,n,r){const i=el(e);let s=new He(os);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.An(r,n)])},(o,a)=>{s=s.add(new Do(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}pn(e,n){let r=new He(os);const i=this.dn(n,e);if(i==null)return r;const s=Ky(n);if(s!=null){const o=e.data.field(s.fieldPath);if(Sd(o))for(const a of o.arrayValue.values||[])r=r.add(new Do(n.indexId,e.key,this.In(a),i))}else r=r.add(new Do(n.indexId,e.key,Sf,i));return r}yn(e,n,r,i,s){j("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(l,c,d,f,m){const v=l.getIterator(),b=c.getIterator();let I=Za(v),_=Za(b);for(;I||_;){let y=!1,T=!1;if(I&&_){const A=d(I,_);A<0?T=!0:A>0&&(y=!0)}else I!=null?T=!0:y=!0;y?(f(_),_=Za(b)):T?(m(I),I=Za(v)):(I=Za(v),_=Za(b))}}(i,s,os,a=>{o.push(this.wn(e,n,r,a))},a=>{o.push(this.Sn(e,n,r,a))}),R.waitFor(o)}fn(e){let n=1;return tl(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>os(o,a)).filter((o,a,l)=>!a||os(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=os(o,e),l=os(o,n);if(a===0)i[0]=e.Ht();else if(a>0&&l<0)i.push(o),i.push(o.Ht());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.bn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Sf,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Sf,[]];s.push(IDBKeyRange.bound(a,l))}return s}bn(e,n){return os(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(T1)}getMinOffset(e,n){return R.mapArray(this.un(n),r=>this.cn(e,r).next(i=>i||Z())).next(T1)}}function w1(t){return Gt(t,"collectionParents")}function el(t){return Gt(t,"indexEntries")}function lc(t){return Gt(t,"indexConfiguration")}function tl(t){return Gt(t,"indexState")}function T1(t){se(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;DT(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new or(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Mn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Mn(e,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Y({range:o},(d,f,m)=>(a++,m.delete()));s.push(l.next(()=>{se(a===1)}));const c=[];for(const d of n.mutations){const f=tD(e,d.key.path,n.batchId);s.push(i.delete(f)),c.push(d.key)}return R.waitFor(s).next(()=>c)}function um(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Z();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(41943040,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);class Pg{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Dn={}}static ct(e,n,r,i){se(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new Pg(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return as(e).Y({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=al(e),o=as(e);return o.add({}).next(a=>{se(typeof a=="number");const l=new UT(a,n,r,i),c=function(v,b,I){const _=I.baseMutations.map(T=>kd(v.ut,T)),y=I.mutations.map(T=>kd(v.ut,T));return{userId:b,batchId:I.batchId,localWriteTimeMs:I.localWriteTime.toMillis(),baseMutations:_,mutations:y}}(this.serializer,this.userId,l),d=[];let f=new He((m,v)=>ge(m.canonicalString(),v.canonicalString()));for(const m of i){const v=tD(this.userId,m.key.path,a);f=f.add(m.key.path.popLast()),d.push(o.put(c)),d.push(s.put(v,xq))}return f.forEach(m=>{d.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.Dn[a]=l.keys()}),R.waitFor(d).next(()=>l)})}lookupMutationBatch(e,n){return as(e).get(n).next(r=>r?(se(r.userId===this.userId),xo(this.serializer,r)):null)}Cn(e,n){return this.Dn[n]?R.resolve(this.Dn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Dn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return as(e).Y({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(se(a.batchId>=r),s=xo(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return as(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return as(e).W("userMutationsIndex",n).next(r=>r.map(i=>xo(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=sp(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return al(e).Y({range:i},(o,a,l)=>{const[c,d,f]=o,m=si(d);if(c===this.userId&&n.path.isEqual(m))return as(e).get(f).next(v=>{if(!v)throw Z();se(v.userId===this.userId),s.push(xo(this.serializer,v))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new He(ge);const i=[];return n.forEach(s=>{const o=sp(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=al(e).Y({range:a},(c,d,f)=>{const[m,v,b]=c,I=si(v);m===this.userId&&s.path.isEqual(I)?r=r.add(b):f.done()});i.push(l)}),R.waitFor(i).next(()=>this.vn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=sp(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new He(ge);return al(e).Y({range:o},(l,c,d)=>{const[f,m,v]=l,b=si(m);f===this.userId&&r.isPrefixOf(b)?b.length===i&&(a=a.add(v)):d.done()}).next(()=>this.vn(e,a))}vn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(as(e).get(s).next(o=>{if(o===null)throw Z();se(o.userId===this.userId),r.push(xo(this.serializer,o))}))}),R.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return JD(e.ae,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Fn(n.batchId)}),R.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return R.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return al(e).Y({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=si(s[1]);i.push(l)}else a.done()}).next(()=>{se(i.length===0)})})}containsKey(e,n){return ZD(e,this.userId,n)}Mn(e){return eO(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function ZD(t,e,n){const r=sp(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return al(t).Y({range:s,J:!0},(a,l,c)=>{const[d,f,m]=a;d===e&&f===i&&(o=!0),c.done()}).next(()=>o)}function as(t){return Gt(t,"mutations")}function al(t){return Gt(t,"documentMutations")}function eO(t){return Gt(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Ea(0)}static Nn(){return new Ea(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WH{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const r=new Ea(n.highestTargetId);return n.highestTargetId=r.next(),this.Ln(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>ae.fromTimestamp(new ut(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Ln(e,i)))}addTargetData(e,n){return this.kn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.qn(n,r),this.Ln(e,r))))}updateTargetData(e,n){return this.kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>nl(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(se(r.targetCount>0),r.targetCount-=1,this.Ln(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return nl(e).Y((o,a)=>{const l=wc(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>R.waitFor(s)).next(()=>i)}forEachTarget(e,n){return nl(e).Y((r,i)=>{const s=wc(i);n(s)})}Bn(e){return b1(e).get("targetGlobalKey").next(n=>(se(n!==null),n))}Ln(e,n){return b1(e).put("targetGlobalKey",n)}kn(e,n){return nl(e).put(YD(this.serializer,n))}qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=ma(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return nl(e).Y({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const c=wc(a);wh(n,c.target)&&(s=c,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=hs(e);return n.forEach(o=>{const a=kn(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),R.waitFor(i)}removeMatchingKeys(e,n,r){const i=hs(e);return R.forEach(n,s=>{const o=kn(s.path);return R.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=hs(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=hs(e);let s=_e();return i.Y({range:r,J:!0},(o,a,l)=>{const c=si(o[1]),d=new Y(c);s=s.add(d)}).next(()=>s)}containsKey(e,n){const r=kn(n.path),i=IDBKeyRange.bound([r],[YN(r)],!1,!0);let s=0;return hs(e).Y({index:"documentTargetsIndex",J:!0,range:i},([o,a],l,c)=>{o!==0&&(s++,c.done())}).next(()=>s>0)}_t(e,n){return nl(e).get(n).next(r=>r?wc(r):null)}}function nl(t){return Gt(t,"targets")}function b1(t){return Gt(t,"targetGlobal")}function hs(t){return Gt(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1([t,e],[n,r]){const i=ge(t,n);return i===0?ge(e,r):i}class qH{constructor(e){this.Qn=e,this.buffer=new He(A1),this.Kn=0}$n(){return++this.Kn}Un(e){const n=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();A1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class HH{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Wn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return this.Wn!==null}Gn(e){j("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Wn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ro(n)?j("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await no(n)}await this.Gn(3e5)})}}class KH{constructor(e,n){this.zn=e,this.params=n}calculateTargetCount(e,n){return this.zn.jn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return R.resolve(Fn._e);const r=new qH(n);return this.zn.forEachTarget(e,i=>r.Un(i.sequenceNumber)).next(()=>this.zn.Hn(e,i=>r.Un(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(j("LruGarbageCollector","Garbage collection skipped; disabled"),R.resolve(I1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(j("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),I1):this.Jn(e,n))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,n){let r,i,s,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(j("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),rl()<=Re.DEBUG&&j("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),R.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function GH(t,e){return new KH(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YH{constructor(e,n){this.db=e,this.garbageCollector=GH(this,n)}jn(e){const n=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Yn(e){let n=0;return this.Hn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Hn(e,n){return this.Zn(e,(r,i)=>n(i))}addReference(e,n,r){return Pf(e,r)}removeReference(e,n,r){return Pf(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Pf(e,n)}Xn(e,n){return function(i,s){let o=!1;return eO(i).Z(a=>ZD(i,a,s).next(l=>(l&&(o=!0),R.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Zn(e,(o,a)=>{if(a<=n){const l=this.Xn(e,o).next(c=>{if(!c)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,ae.min()),hs(e).delete(function(f){return[0,kn(f.path)]}(o))))});i.push(l)}}).next(()=>R.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Pf(e,n)}Zn(e,n){const r=hs(e);let i,s=Fn._e;return r.Y({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:c})=>{o===0?(s!==Fn._e&&n(new Y(si(i)),s),s=c,i=l):s=Fn._e}).next(()=>{s!==Fn._e&&n(new Y(si(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Pf(t,e){return hs(t).put(function(r,i){return{targetId:0,path:kn(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(){this.changes=new io(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,it.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?R.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QH{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Ao(e).put(r)}removeEntry(e,n,r){return Ao(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],am(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.er(e,r)))}getEntry(e,n){let r=it.newInvalidDocument(n);return Ao(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(uc(n))},(i,s)=>{r=this.tr(n,s)}).next(()=>r)}nr(e,n){let r={size:0,document:it.newInvalidDocument(n)};return Ao(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(uc(n))},(i,s)=>{r={document:this.tr(n,s),size:um(s)}}).next(()=>r)}getEntries(e,n){let r=Un();return this.rr(e,n,(i,s)=>{const o=this.tr(i,s);r=r.insert(i,o)}).next(()=>r)}ir(e,n){let r=Un(),i=new Xe(Y.comparator);return this.rr(e,n,(s,o)=>{const a=this.tr(s,o);r=r.insert(s,a),i=i.insert(s,um(o))}).next(()=>({documents:r,sr:i}))}rr(e,n,r){if(n.isEmpty())return R.resolve();let i=new He(R1);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(uc(i.first()),uc(i.last())),o=i.getIterator();let a=o.getNext();return Ao(e).Y({index:"documentKeyIndex",range:s},(l,c,d)=>{const f=Y.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&R1(a,f)<0;)r(a,null),a=o.getNext();a&&a.isEqual(f)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?d.U(uc(a)):d.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),am(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ao(e).W(IDBKeyRange.bound(a,l,!0)).next(c=>{s==null||s.incrementDocumentReadCount(c.length);let d=Un();for(const f of c){const m=this.tr(Y.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);m.isFoundDocument()&&(Ih(n,m)||i.has(m.key))&&(d=d.insert(m.key,m))}return d})}getAllFromCollectionGroup(e,n,r,i){let s=Un();const o=P1(n,r),a=P1(n,or.max());return Ao(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,c,d)=>{const f=this.tr(Y.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(f.key,f),s.size===i&&d.done()}).next(()=>s)}newChangeBuffer(e){return new XH(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return S1(e).get("remoteDocumentGlobalKey").next(n=>(se(!!n),n))}er(e,n){return S1(e).put("remoteDocumentGlobalKey",n)}tr(e,n){if(n){const r=LH(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(ae.min())))return r}return it.newInvalidDocument(e)}}function nO(t){return new QH(t)}class XH extends tO{constructor(e,n){super(),this._r=e,this.trackRemovals=n,this.ar=new io(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new He((s,o)=>ge(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.ar.get(s);if(n.push(this._r.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=h1(this._r.serializer,o);i=i.add(s.path.popLast());const c=um(l);r+=c-a.size,n.push(this._r.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=h1(this._r.serializer,o.convertToNoDocument(ae.min()));n.push(this._r.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this._r.indexManager.addToCollectionParentIndex(e,s))}),n.push(this._r.updateMetadata(e,r)),R.waitFor(n)}getFromCache(e,n){return this._r.nr(e,n).next(r=>(this.ar.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this._r.ir(e,n).next(({documents:r,sr:i})=>(i.forEach((s,o)=>{this.ar.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function S1(t){return Gt(t,"remoteDocumentGlobal")}function Ao(t){return Gt(t,"remoteDocumentsV14")}function uc(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function P1(t,e){const n=e.documentKey.path.toArray();return[t,am(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function R1(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=ge(n[s],r[s]),i)return i;return i=ge(n.length,r.length),i||(i=ge(n[n.length-2],r[r.length-2]),i||ge(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JH{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Uc(r.mutation,i,$n.empty(),ut.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){const i=oi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=yc();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=oi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Un();const o=$c(),a=function(){return $c()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Yi)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Uc(d.mutation,c,d.mutation.getFieldMask(),ut.now())):o.set(c.key,$n.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var f;return a.set(c,new JH(d,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=$c();let i=new Xe((o,a)=>o-a),s=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||$n.empty();d=a.applyToLocalView(c,d),r.set(l,d);const f=(i.get(a.batchId)||_e()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,f=TD();d.forEach(m=>{if(!s.has(m)){const v=kD(n.get(m),r.get(m));v!==null&&f.set(m,v),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return R.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Y.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):MT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):R.resolve(oi());let a=-1,l=s;return o.next(c=>R.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?R.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{l=l.insert(d,m)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,_e())).next(d=>({batchId:a,changes:wD(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Y(n)).next(r=>{let i=yc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=yc();return this.indexManager.getCollectionParents(e,s).next(a=>R.forEach(a,l=>{const c=function(f,m){return new Gi(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,it.newInvalidDocument(d)))});let a=yc();return o.forEach((l,c)=>{const d=s.get(l);d!==void 0&&Uc(d.mutation,c,$n.empty(),ut.now()),Ih(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZH{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return R.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:xt(i.createTime)}}(n)),R.resolve()}getNamedQuery(e,n){return R.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:qT(i.bundledQuery),readTime:xt(i.readTime)}}(n)),R.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eK{constructor(){this.overlays=new Xe(Y.comparator),this.lr=new Map}getOverlay(e,n){return R.resolve(this.overlays.get(n))}getOverlays(e,n){const r=oi();return R.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),R.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),R.resolve()}getOverlaysForCollection(e,n,r){const i=oi(),s=n.length+1,o=new Y(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return R.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Xe((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=oi(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=oi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return R.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new BT(n,r));let s=this.lr.get(n);s===void 0&&(s=_e(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(){this.hr=new He(Ut.Pr),this.Ir=new He(Ut.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new Ut(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new Ut(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new Y(new Le([])),r=new Ut(n,e),i=new Ut(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new Y(new Le([])),r=new Ut(n,e),i=new Ut(n,e+1);let s=_e();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ut(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ut{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return Y.comparator(e.key,n.key)||ge(e.gr,n.gr)}static Tr(e,n){return ge(e.gr,n.gr)||Y.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tK{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new He(Ut.Pr)}checkEmpty(e){return R.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new UT(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new Ut(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return R.resolve(o)}lookupMutationBatch(e,n){return R.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Sr(r),s=i<0?0:i;return R.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return R.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return R.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ut(n,0),i=new Ut(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),R.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new He(ge);return n.forEach(i=>{const s=new Ut(i,0),o=new Ut(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),R.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Y.isDocumentKey(s)||(s=s.child(""));const o=new Ut(new Y(s),0);let a=new He(ge);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.gr)),!0)},o),R.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){se(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return R.forEach(n.mutations,i=>{const s=new Ut(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new Ut(n,0),i=this.yr.firstAfterOrEqual(r);return R.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,R.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nK{constructor(e){this.Cr=e,this.docs=function(){return new Xe(Y.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return R.resolve(r?r.document.mutableCopy():it.newInvalidDocument(n))}getEntries(e,n){let r=Un();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():it.newInvalidDocument(i))}),R.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Un();const o=n.path,a=new Y(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||DT(XN(d),r)<=0||(i.has(d.key)||Ih(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return R.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Z()}vr(e,n){return R.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new rK(this)}getSize(e){return R.resolve(this.size)}}class rK extends tO{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),R.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iK{constructor(e){this.persistence=e,this.Fr=new io(n=>ma(n),wh),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.Mr=0,this.Or=new GT,this.targetCount=0,this.Nr=Ea.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),R.resolve()}getLastRemoteSnapshotVersion(e){return R.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return R.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),R.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),R.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Ea(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,R.resolve()}updateTargetData(e,n){return this.kn(n),R.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,R.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),R.waitFor(s).next(()=>i)}getTargetCount(e){return R.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return R.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),R.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),R.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),R.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return R.resolve(r)}containsKey(e,n){return R.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e,n){this.Br={},this.overlays={},this.Lr=new Fn(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new iK(this),this.indexManager=new BH,this.remoteDocumentCache=function(i){return new nK(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new GD(n),this.Kr=new ZH(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new eK,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new tK(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){j("MemoryPersistence","Starting transaction:",e);const i=new sK(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return R.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class sK extends ZN{constructor(e){super(),this.currentSequenceNumber=e}}class Rg{constructor(e){this.persistence=e,this.Gr=new GT,this.zr=null}static jr(e){return new Rg(e)}get Hr(){if(this.zr)return this.zr;throw Z()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),R.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),R.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),R.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return R.forEach(this.Hr,r=>{const i=Y.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,ae.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return R.or([()=>R.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oK{constructor(e){this.serializer=e}N(e,n,r,i){const s=new Tg("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",zS,{unique:!0}),l.createObjectStore("documentMutations")}(e),C1(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=R.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),C1(e)),o=o.next(()=>function(l){const c=l.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ae.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",d)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(l,c){return c.store("mutations").W().next(d=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",zS,{unique:!0});const f=c.store("mutations"),m=d.map(v=>f.put(v));return R.waitFor(m)})}(e,s))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.Zr(s))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(s)))),r<7&&i>=7&&(o=o.next(()=>this.ei(s))),r<8&&i>=8&&(o=o.next(()=>this.ti(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.ni(s))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(l){const c=l.createObjectStore("documentOverlays",{keyPath:zq});c.createIndex("collectionPathOverlayIndex",Wq,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",qq,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(l){const c=l.createObjectStore("remoteDocumentsV14",{keyPath:Nq});c.createIndex("documentKeyIndex",Dq),c.createIndex("collectionGroupIndex",Oq)}(e)).next(()=>this.ri(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ii(e,s))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:$q}).createIndex("sequenceNumberIndex",Uq,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:jq}).createIndex("documentKeyIndex",Bq,{unique:!1})}(e))),o}Xr(e){let n=0;return e.store("remoteDocuments").Y((r,i)=>{n+=um(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Zr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>R.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>R.forEach(a,l=>{se(l.userId===s.userId);const c=xo(this.serializer,l);return JD(e,s.userId,c).next(()=>{})}))}))}ei(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Y((o,a)=>{const l=new Le(o),c=function(f){return[0,kn(f)]}(l);s.push(n.get(c).next(d=>d?R.resolve():(f=>n.put({targetId:0,path:kn(f),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>R.waitFor(s))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:Fq});const r=n.store("collectionParents"),i=new KT,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:kn(l)})}};return n.store("remoteDocuments").Y({J:!0},(o,a)=>{const l=new Le(o);return s(l.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([o,a,l],c)=>{const d=si(a);return s(d.popLast())}))}ni(e){const n=e.store("targets");return n.Y((r,i)=>{const s=wc(i),o=YD(this.serializer,s);return n.put(o)})}ri(e,n){const r=n.store("remoteDocuments"),i=[];return r.Y((s,o)=>{const a=n.store("remoteDocumentsV14"),l=function(f){return f.document?new Y(Le.fromString(f.document.name).popFirst(5)):f.noDocument?Y.fromSegments(f.noDocument.path):f.unknownDocument?Y.fromSegments(f.unknownDocument.path):Z()}(o).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(c))}).next(()=>R.waitFor(i))}ii(e,n){const r=n.store("mutations"),i=nO(this.serializer),s=new iO(Rg.jr,this.serializer.ut);return r.W().next(o=>{const a=new Map;return o.forEach(l=>{var c;let d=(c=a.get(l.userId))!==null&&c!==void 0?c:_e();xo(this.serializer,l).keys().forEach(f=>d=d.add(f)),a.set(l.userId,d)}),R.forEach(a,(l,c)=>{const d=new jt(c),f=Sg.ct(this.serializer,d),m=s.getIndexManager(d),v=Pg.ct(d,this.serializer,m,s.referenceDelegate);return new rO(i,v,f,m).recalculateAndSaveOverlaysForDocumentKeys(new Gy(n,Fn._e),l).next()})})}}function C1(t){t.createObjectStore("targetDocuments",{keyPath:Vq}).createIndex("documentTargetsIndex",Mq,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Lq,{unique:!0}),t.createObjectStore("targetGlobal")}const vv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class YT{constructor(e,n,r,i,s,o,a,l,c,d,f=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.si=s,this.window=o,this.document=a,this.oi=c,this._i=d,this.ai=f,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=m=>Promise.resolve(),!YT.D())throw new U(D.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new YH(this,i),this.Ii=n+"main",this.serializer=new GD(l),this.Ti=new Or(this.Ii,this.ai,new oK(this.serializer)),this.qr=new WH(this.referenceDelegate,this.serializer),this.remoteDocumentCache=nO(this.serializer),this.Kr=new VH,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,d===!1&&kt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new U(D.FAILED_PRECONDITION,vv);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new Fn(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){return this.Pi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget(async()=>{this.started&&await this.di()}))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Rf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(n=>this.isPrimary&&!n?this.pi(e).next(()=>!1):!!n&&this.yi(e).next(()=>!0))).catch(e=>{if(ro(e))return j("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return j("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return cc(e).get("owner").next(n=>R.resolve(this.wi(n)))}Si(e){return Rf(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Di(this.hi,18e5)){this.hi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Gt(n,"clientMetadata");return r.W().next(i=>{const s=this.Ci(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return R.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Ei)for(const n of e)this.Ei.removeItem(this.vi(n.clientId))}}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?R.resolve(!0):cc(e).get("owner").next(n=>{if(n!==null&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)){if(this.wi(n)&&this.networkEnabled)return!0;if(!this.wi(n)){if(!n.allowTabSynchronization)throw new U(D.FAILED_PRECONDITION,vv);return!1}}return!(!this.networkEnabled||!this.inForeground)||Rf(e).W().next(r=>this.Ci(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&j("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.kr=!1,this.Mi(),this.li&&(this.li.cancel(),this.li=null),this.xi(),this.Oi(),await this.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new Gy(e,Fn._e);return this.pi(n).next(()=>this.Si(n))}),this.Ti.close(),this.Ni()}Ci(e,n){return e.filter(r=>this.Di(r.updateTimeMs,n)&&!this.Fi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Rf(e).W().next(n=>this.Ci(n,18e5).map(r=>r.clientId)))}get started(){return this.kr}getMutationQueue(e,n){return Pg.ct(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new zH(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return Sg.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,n,r){j("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(l){return l===15?Kq:l===14?iD:l===13?rD:l===12?Hq:l===11?nD:void Z()}(this.ai);let o;return this.Ti.runTransaction(e,i,s,a=>(o=new Gy(a,this.Lr?this.Lr.next():Fn._e),n==="readwrite-primary"?this.fi(o).next(l=>!!l||this.gi(o)).next(l=>{if(!l)throw kt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new U(D.FAILED_PRECONDITION,JN);return r(o)}).next(l=>this.yi(o).next(()=>l)):this.Li(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Li(e){return cc(e).get("owner").next(n=>{if(n!==null&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)&&!this.wi(n)&&!(this._i||this.allowTabSynchronization&&n.allowTabSynchronization))throw new U(D.FAILED_PRECONDITION,vv)})}yi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return cc(e).put("owner",n)}static D(){return Or.D()}pi(e){const n=cc(e);return n.get("owner").next(r=>this.wi(r)?(j("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):R.resolve())}Di(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(kt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Ai(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground=this.document.visibilityState==="visible")}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ui=()=>{this.Mi();const n=/(?:Version|Mobile)\/1[456]/;CB()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var n;try{const r=((n=this.Ei)===null||n===void 0?void 0:n.getItem(this.vi(e)))!==null;return j("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return kt("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){kt("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function cc(t){return Gt(t,"owner")}function Rf(t){return Gt(t,"clientMetadata")}function QT(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=_e(),i=_e();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new XT(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aK{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new aK;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(rl()<=Re.DEBUG&&j("QueryEngine","SDK will not create cache indexes for query:",il(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),R.resolve()):(rl()<=Re.DEBUG&&j("QueryEngine","Query:",il(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(rl()<=Re.DEBUG&&j("QueryEngine","The SDK decides to create cache indexes for query:",il(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xn(n))):R.resolve())}zi(e,n){if(t1(n))return R.resolve(null);let r=xn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=om(n,null,"F"),r=xn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=_e(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Yi(n,a);return this.Zi(n,c,o,l.readTime)?this.zi(e,om(n,null,"F")):this.Xi(e,c,n,l)}))})))}ji(e,n,r,i){return t1(n)||i.isEqual(ae.min())?R.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?R.resolve(null):(rl()<=Re.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),il(n)),this.Xi(e,o,n,QN(i,-1)).next(a=>a))})}Yi(e,n){let r=new He(yD(e));return n.forEach((i,s)=>{Ih(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return rl()<=Re.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",il(n)),this.Gi.getDocumentsMatchingQuery(e,n,or.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lK{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new Xe(ge),this.ns=new io(s=>ma(s),wh),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rO(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function oO(t,e,n,r){return new lK(t,e,n,r)}async function aO(t,e){const n=X(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=_e();for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({_s:c,removedBatchIds:o,addedBatchIds:a}))})})}function uK(t,e){const n=X(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const f=c.batch,m=f.keys();let v=R.resolve();return m.forEach(b=>{v=v.next(()=>d.getEntry(l,b)).next(I=>{const _=c.docVersions.get(b);se(_!==null),I.version.compareTo(_)<0&&(f.applyToRemoteDocument(I,c),I.isValidDocument()&&(I.setReadTime(c.commitVersion),d.addEntry(I)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=_e();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function lO(t){const e=X(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function cK(t,e){const n=X(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((d,f)=>{const m=i.get(f);if(!m)return;a.push(n.qr.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.qr.addMatchingKeys(s,d.addedDocuments,f)));let v=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?v=v.withResumeToken(Vt.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,r)),i=i.insert(f,v),function(I,_,y){return I.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(m,v,d)&&a.push(n.qr.updateTargetData(s,v))});let l=Un(),c=_e();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(uO(s,o,e.documentUpdates).next(d=>{l=d.us,c=d.cs})),!r.isEqual(ae.min())){const d=n.qr.getLastRemoteSnapshotVersion(s).next(f=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return R.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.ts=i,s))}function uO(t,e,n){let r=_e(),i=_e();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Un();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ae.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):j("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{us:o,cs:i}})}function dK(t,e){const n=X(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Xl(t,e){const n=X(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,R.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new Ni(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function Jl(t,e,n){const r=X(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ro(o))throw o;j("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}function cm(t,e,n){const r=X(t);let i=ae.min(),s=_e();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const f=X(l),m=f.ns.get(d);return m!==void 0?R.resolve(f.ts.get(m)):f.qr.getTargetData(c,d)}(r,o,xn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:ae.min(),n?s:_e())).next(a=>(hO(r,vD(e),a),{documents:a,ls:s})))}function cO(t,e){const n=X(t),r=X(n.qr),i=n.ts.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r._t(s,e).next(o=>o?o.target:null))}function dO(t,e){const n=X(t),r=n.rs.get(e)||ae.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.ss.getAllFromCollectionGroup(i,e,QN(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(hO(n,e,i),i))}function hO(t,e,n){let r=t.rs.get(e)||ae.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}async function hK(t,e,n,r){const i=X(t);let s=_e(),o=Un();for(const c of n){const d=e.hs(c.metadata.name);c.document&&(s=s.add(d));const f=e.Ps(c);f.setReadTime(e.Is(c.metadata.readTime)),o=o.insert(d,f)}const a=i.ss.newChangeBuffer({trackRemovals:!0}),l=await Xl(i,function(d){return xn(Eu(Le.fromString(`__bundle__/docs/${d}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",c=>uO(c,a,o).next(d=>(a.apply(c),d)).next(d=>i.qr.removeMatchingKeysForTargetId(c,l.targetId).next(()=>i.qr.addMatchingKeys(c,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,d.us,d.cs)).next(()=>d.us)))}async function fK(t,e,n=_e()){const r=await Xl(t,xn(qT(e.bundledQuery))),i=X(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=xt(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Kr.saveNamedQuery(s,e);const a=r.withResumeToken(Vt.EMPTY_BYTE_STRING,o);return i.ts=i.ts.insert(a.targetId,a),i.qr.updateTargetData(s,a).next(()=>i.qr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.qr.addMatchingKeys(s,n,r.targetId)).next(()=>i.Kr.saveNamedQuery(s,e))})}function k1(t,e){return`firestore_clients_${t}_${e}`}function x1(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function yv(t,e){return`firestore_targets_${t}_${e}`}class dm{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ts(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new U(i.error.code,i.error.message))),o?new dm(e,n,i.state,s):(kt("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class jc{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ts(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new U(r.error.code,r.error.message))),s?new jc(e,r.state,i):(kt("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class hm{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ts(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=FT();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=eD(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new hm(e,s):(kt("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class JT{constructor(e,n){this.clientId=e,this.onlineState=n}static Ts(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new JT(n.clientId,n.onlineState):(kt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class aE{constructor(){this.activeTargetIds=FT()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ev{constructor(e,n,r,i,s){this.window=e,this.si=n,this.persistenceKey=r,this.Rs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new Xe(ge),this.started=!1,this.ps=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ys=k1(this.persistenceKey,this.Rs),this.ws=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.gs=this.gs.insert(this.Rs,new aE),this.Ss=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Cs=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.vs=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const r of e){if(r===this.Rs)continue;const i=this.getItem(k1(this.persistenceKey,r));if(i){const s=hm.Ts(r,i);s&&(this.gs=this.gs.insert(s.clientId,s))}}this.Fs();const n=this.storage.getItem(this.Cs);if(n){const r=this.Ms(n);r&&this.xs(r)}for(const r of this.ps)this.fs(r);this.ps=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let n=!1;return this.gs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,n,r){this.Ns(e,n,r),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(yv(this.persistenceKey,e));if(r){const i=jc.Ts(e,r);i&&(n=i.state)}}return this.Ls.ds(e),this.Fs(),n}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(yv(this.persistenceKey,e))}updateQueryState(e,n,r){this.ks(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return j("SharedClientState","READ",e,n),n}setItem(e,n){j("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){j("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){const n=e;if(n.storageArea===this.storage){if(j("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ys)return void kt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.Ss.test(n.key)){if(n.newValue==null){const r=this.Ks(n.key);return this.$s(r,null)}{const r=this.Us(n.key,n.newValue);if(r)return this.$s(r.clientId,r)}}else if(this.bs.test(n.key)){if(n.newValue!==null){const r=this.Ws(n.key,n.newValue);if(r)return this.Gs(r)}}else if(this.Ds.test(n.key)){if(n.newValue!==null){const r=this.zs(n.key,n.newValue);if(r)return this.js(r)}}else if(n.key===this.Cs){if(n.newValue!==null){const r=this.Ms(n.newValue);if(r)return this.xs(r)}}else if(n.key===this.ws){const r=function(s){let o=Fn._e;if(s!=null)try{const a=JSON.parse(s);se(typeof a=="number"),o=a}catch(a){kt("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(n.newValue);r!==Fn._e&&this.sequenceNumberHandler(r)}else if(n.key===this.vs){const r=this.Hs(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Js(i)))}}}else this.ps.push(n)})}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,n,r){const i=new dm(this.currentUser,e,n,r),s=x1(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Es())}Bs(e){const n=x1(this.persistenceKey,this.currentUser,e);this.removeItem(n)}qs(e){const n={clientId:this.Rs,onlineState:e};this.storage.setItem(this.Cs,JSON.stringify(n))}ks(e,n,r){const i=yv(this.persistenceKey,e),s=new jc(e,n,r);this.setItem(i,s.Es())}Qs(e){const n=JSON.stringify(Array.from(e));this.setItem(this.vs,n)}Ks(e){const n=this.Ss.exec(e);return n?n[1]:null}Us(e,n){const r=this.Ks(e);return hm.Ts(r,n)}Ws(e,n){const r=this.bs.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return dm.Ts(new jt(s),i,n)}zs(e,n){const r=this.Ds.exec(e),i=Number(r[1]);return jc.Ts(i,n)}Ms(e){return JT.Ts(e)}Hs(e){return JSON.parse(e)}async Gs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Ys(e.batchId,e.state,e.error);j("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,n){const r=n?this.gs.insert(e,n):this.gs.remove(e),i=this.Os(this.gs),s=this.Os(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.Xs(o,a).then(()=>{this.gs=r})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let n=FT();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class fO{constructor(){this.eo=new aE,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new aE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pK{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){j("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){j("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cf=null;function wv(){return Cf===null?Cf=function(){return 268435456+Math.round(2147483648*Math.random())}():Cf++,"0x"+Cf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gK{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn="WebChannelConnection";class _K extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=wv(),l=this.So(n,r);j("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,s,o),this.Do(n,l,c,i).then(d=>(j("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Ur("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){const i=mK[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const s=wv();return new Promise((o,a)=>{const l=new hq;l.setWithCredentials(!0),l.listenOnce(cq.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case gv.NO_ERROR:const d=l.getResponseJson();j(fn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case gv.TIMEOUT:j(fn,`RPC '${e}' ${s} timed out`),a(new U(D.DEADLINE_EXCEEDED,"Request time out"));break;case gv.HTTP_ERROR:const f=l.getStatus();if(j(fn,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);const v=m==null?void 0:m.error;if(v&&v.status&&v.message){const b=function(_){const y=_.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(y)>=0?y:D.UNKNOWN}(v.status);a(new U(b,v.message))}else a(new U(D.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new U(D.UNAVAILABLE,"Connection failed."));break;default:Z()}}finally{j(fn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);j(fn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}vo(e,n,r){const i=wv(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=lq(),a=uq(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");j(fn,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=o.createWebChannel(d,l);let m=!1,v=!1;const b=new gK({co:_=>{v?j(fn,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(m||(j(fn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),j(fn,`RPC '${e}' stream ${i} sending:`,_),f.send(_))},lo:()=>f.close()}),I=(_,y,T)=>{_.listen(y,A=>{try{T(A)}catch(E){setTimeout(()=>{throw E},0)}})};return I(f,bf.EventType.OPEN,()=>{v||j(fn,`RPC '${e}' stream ${i} transport opened.`)}),I(f,bf.EventType.CLOSE,()=>{v||(v=!0,j(fn,`RPC '${e}' stream ${i} transport closed`),b.Ro())}),I(f,bf.EventType.ERROR,_=>{v||(v=!0,Ur(fn,`RPC '${e}' stream ${i} transport errored:`,_),b.Ro(new U(D.UNAVAILABLE,"The operation could not be completed")))}),I(f,bf.EventType.MESSAGE,_=>{var y;if(!v){const T=_.data[0];se(!!T);const A=T,E=A.error||((y=A[0])===null||y===void 0?void 0:y.error);if(E){j(fn,`RPC '${e}' stream ${i} received error:`,E);const N=E.status;let O=function(H){const Ce=Nt[H];if(Ce!==void 0)return DD(Ce)}(N),L=E.message;O===void 0&&(O=D.INTERNAL,L="Unknown error status: "+N+" with message "+E.message),v=!0,b.Ro(new U(O,L)),f.close()}else j(fn,`RPC '${e}' stream ${i} received:`,T),b.Vo(T)}}),I(a,dq.STAT_EVENT,_=>{_.stat===$S.PROXY?j(fn,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===$S.NOPROXY&&j(fn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.Ao()},0),b}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(){return typeof window<"u"?window:null}function cp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(t){return new AH(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&j("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e,n,r,i,s,o,a,l){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new ZT(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(kt(n.toString()),kt("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===D.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new U(D.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return j("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(j("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vK extends mO{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=RH(this.serializer,e),r=function(s){if(!("targetChange"in s))return ae.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ae.min():o.readTime?xt(o.readTime):ae.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=Cd(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=im(l)?{documents:BD(s,l)}:{query:zD(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=MD(s,o.resumeToken);const c=tE(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ae.min())>0){a.readTime=Ql(s,o.snapshotVersion.toTimestamp());const c=tE(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=kH(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=Cd(this.serializer),n.removeTarget=e,this.e_(n)}}class yK extends mO{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(se(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=CH(e.writeResults,e.commitTime),r=xt(e.commitTime);return this.listener.I_(r,n)}return se(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Cd(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>kd(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EK extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new U(D.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new U(D.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new U(D.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class wK{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(kt(n),this.f_=!1):j("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TK{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(async()=>{so(this)&&(j("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=X(l);c.C_.add(4),await Iu(c),c.M_.set("Unknown"),c.C_.delete(4),await Rh(c)}(this))})}),this.M_=new wK(r,i)}}async function Rh(t){if(so(t))for(const e of t.v_)await e(!0)}async function Iu(t){for(const e of t.v_)await e(!1)}function Cg(t,e){const n=X(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),nI(n)?tI(n):Au(n).Ho()&&eI(n,e))}function xd(t,e){const n=X(t),r=Au(n);n.D_.delete(e),r.Ho()&&gO(n,e),n.D_.size===0&&(r.Ho()?r.Zo():so(n)&&n.M_.set("Unknown"))}function eI(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Au(t).u_(e)}function gO(t,e){t.x_.Oe(e),Au(t).c_(e)}function tI(t){t.x_=new wH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Au(t).start(),t.M_.g_()}function nI(t){return so(t)&&!Au(t).jo()&&t.D_.size>0}function so(t){return X(t).C_.size===0}function _O(t){t.x_=void 0}async function IK(t){t.D_.forEach((e,n)=>{eI(t,e)})}async function bK(t,e){_O(t),nI(t)?(t.M_.w_(e),tI(t)):t.M_.set("Unknown")}async function AK(t,e,n){if(t.M_.set("Online"),e instanceof VD&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.D_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.D_.delete(a),i.x_.removeTarget(a))}(t,e)}catch(r){j("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await fm(t,r)}else if(e instanceof up?t.x_.$e(e):e instanceof LD?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(ae.min()))try{const r=await lO(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.D_.get(c);d&&s.D_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.D_.get(l);if(!d)return;s.D_.set(l,d.withResumeToken(Vt.EMPTY_BYTE_STRING,d.snapshotVersion)),gO(s,l);const f=new Ni(d.target,l,c,d.sequenceNumber);eI(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){j("RemoteStore","Failed to raise snapshot:",r),await fm(t,r)}}async function fm(t,e,n){if(!ro(e))throw e;t.C_.add(1),await Iu(t),t.M_.set("Offline"),n||(n=()=>lO(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{j("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await Rh(t)})}function vO(t,e){return e().catch(n=>fm(t,n,e))}async function bu(t){const e=X(t),n=qs(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;SK(e);)try{const i=await dK(e.localStore,r);if(i===null){e.b_.length===0&&n.Zo();break}r=i.batchId,PK(e,i)}catch(i){await fm(e,i)}yO(e)&&EO(e)}function SK(t){return so(t)&&t.b_.length<10}function PK(t,e){t.b_.push(e);const n=qs(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function yO(t){return so(t)&&!qs(t).jo()&&t.b_.length>0}function EO(t){qs(t).start()}async function RK(t){qs(t).E_()}async function CK(t){const e=qs(t);for(const n of t.b_)e.P_(n.mutations)}async function kK(t,e,n){const r=t.b_.shift(),i=jT.from(r,e,n);await vO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await bu(t)}async function xK(t,e){e&&qs(t).h_&&await async function(r,i){if(function(o){return ND(o)&&o!==D.ABORTED}(i.code)){const s=r.b_.shift();qs(r).Yo(),await vO(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await bu(r)}}(t,e),yO(t)&&EO(t)}async function D1(t,e){const n=X(t);n.asyncQueue.verifyOperationInProgress(),j("RemoteStore","RemoteStore received new credentials");const r=so(n);n.C_.add(3),await Iu(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await Rh(n)}async function lE(t,e){const n=X(t);e?(n.C_.delete(2),await Rh(n)):e||(n.C_.add(2),await Iu(n),n.M_.set("Unknown"))}function Au(t){return t.O_||(t.O_=function(n,r,i){const s=X(n);return s.A_(),new vK(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:IK.bind(null,t),Io:bK.bind(null,t),a_:AK.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),nI(t)?tI(t):t.M_.set("Unknown")):(await t.O_.stop(),_O(t))})),t.O_}function qs(t){return t.N_||(t.N_=function(n,r,i){const s=X(n);return s.A_(),new yK(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:RK.bind(null,t),Io:xK.bind(null,t),T_:CK.bind(null,t),I_:kK.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await bu(t)):(await t.N_.stop(),t.b_.length>0&&(j("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Wt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new rI(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new U(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Su(t,e){if(kt("AsyncQueue",`${e}: ${t}`),ro(t))return new U(D.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Y.comparator(n.key,r.key):(n,r)=>Y.comparator(n.key,r.key),this.keyedMap=yc(),this.sortedSet=new Xe(this.comparator)}static emptySet(e){return new Ol(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ol)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ol;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(){this.B_=new Xe(Y.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Z():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Zl{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Zl(e,n,Ol.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Th(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NK{constructor(){this.k_=void 0,this.listeners=[]}}class DK{constructor(){this.queries=new io(e=>_D(e),Th),this.onlineState="Unknown",this.q_=new Set}}async function iI(t,e){const n=X(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new NK),i)try{s.k_=await n.onListen(r)}catch(o){const a=Su(o,`Initialization of query '${il(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&oI(n)}async function sI(t,e){const n=X(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function OK(t,e){const n=X(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&oI(n)}function LK(t,e,n){const r=X(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function oI(t){t.q_.forEach(e=>{e.next()})}class aI{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Zl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=Zl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VK{constructor(e,n){this.Y_=e,this.byteLength=n}Z_(){return"metadata"in this.Y_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e){this.serializer=e}hs(e){return di(this.serializer,e)}Ps(e){return e.metadata.exists?jD(this.serializer,e.document,!1):it.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return xt(e)}}class MK{constructor(e,n,r){this.X_=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=wO(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++n;const r=Le.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ta(e){const n=new Map,r=new L1(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.hs(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||_e()).add(s);n.set(o,a)}}return n}async complete(){const e=await hK(this.localStore,new L1(this.serializer),this.documents,this.X_.id),n=this.ta(this.documents);for(const r of this.queries)await fK(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,na:this.collectionGroups,ra:e}}}function wO(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e){this.key=e}}class IO{constructor(e){this.key=e}}class bO{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=_e(),this.mutatedKeys=_e(),this._a=yD(e),this.aa=new Ol(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new O1,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const m=i.get(d),v=Ih(this.query,f)?f:null,b=!!m&&this.mutatedKeys.has(m.key),I=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let _=!1;m&&v?m.data.isEqual(v.data)?b!==I&&(r.track({type:3,doc:v}),_=!0):this.ha(m,v)||(r.track({type:2,doc:v}),_=!0,(l&&this._a(v,l)>0||c&&this._a(v,c)<0)&&(a=!0)):!m&&v?(r.track({type:0,doc:v}),_=!0):m&&!v&&(r.track({type:1,doc:m}),_=!0,(l||c)&&(a=!0)),_&&(v?(o=o.add(v),s=I?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((d,f)=>function(v,b){const I=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z()}};return I(v)-I(b)}(d.type,f.type)||this._a(d.doc,f.doc)),this.Pa(r),i=i!=null&&i;const a=n&&!i?this.Ia():[],l=this.oa.size===0&&this.current&&!i?1:0,c=l!==this.sa;return this.sa=l,o.length!==0||c?{snapshot:new Zl(this.query,e.aa,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new O1,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=_e(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new IO(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new TO(r))}),n}da(e){this.ia=e.ls,this.oa=_e();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Zl.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class FK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class $K{constructor(e){this.key=e,this.Ra=!1}}class UK{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new io(a=>_D(a),Th),this.fa=new Map,this.ga=new Set,this.pa=new Xe(Y.comparator),this.ya=new Map,this.wa=new GT,this.Sa={},this.ba=new Map,this.Da=Ea.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function jK(t,e){const n=hI(t);let r,i;const s=n.ma.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=await Xl(n.localStore,xn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await lI(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&Cg(n.remoteStore,o)}return i}async function lI(t,e,n,r,i){t.va=(f,m,v)=>async function(I,_,y,T){let A=_.view.ca(y);A.Zi&&(A=await cm(I.localStore,_.query,!1).then(({documents:L})=>_.view.ca(L,A)));const E=T&&T.targetChanges.get(_.targetId),N=T&&T.targetMismatches.get(_.targetId)!=null,O=_.view.applyChanges(A,I.isPrimaryClient,E,N);return uE(I,_.targetId,O.Ta),O.snapshot}(t,f,m,v);const s=await cm(t.localStore,e,!0),o=new bO(e,s.ls),a=o.ca(s.documents),l=Sh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);uE(t,n,c.Ta);const d=new FK(e,n,o);return t.ma.set(e,d),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),c.snapshot}async function BK(t,e){const n=X(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!Th(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Jl(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),xd(n.remoteStore,r.targetId),eu(n,r.targetId)}).catch(no)):(eu(n,r.targetId),await Jl(n.localStore,r.targetId,!0))}async function zK(t,e,n){const r=fI(t);try{const i=await function(o,a){const l=X(o),c=ut.now(),d=a.reduce((v,b)=>v.add(b.key),_e());let f,m;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let b=Un(),I=_e();return l.ss.getEntries(v,d).next(_=>{b=_,b.forEach((y,T)=>{T.isValidDocument()||(I=I.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,b)).next(_=>{f=_;const y=[];for(const T of a){const A=vH(T,f.get(T.key).overlayedDocument);A!=null&&y.push(new Yi(T.key,A,lD(A.value.mapValue),at.exists(!0)))}return l.mutationQueue.addMutationBatch(v,c,y,a)}).next(_=>{m=_;const y=_.applyToLocalDocumentSet(f,I);return l.documentOverlayCache.saveOverlays(v,_.batchId,y)})}).then(()=>({batchId:m.batchId,changes:wD(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Sa[o.currentUser.toKey()];c||(c=new Xe(ge)),c=c.insert(a,l),o.Sa[o.currentUser.toKey()]=c}(r,i.batchId,n),await Qi(r,i.changes),await bu(r.remoteStore)}catch(i){const s=Su(i,"Failed to persist write");n.reject(s)}}async function AO(t,e){const n=X(t);try{const r=await cK(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(se(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?se(o.Ra):i.removedDocuments.size>0&&(se(o.Ra),o.Ra=!1))}),await Qi(n,r,e)}catch(r){await no(r)}}function V1(t,e,n){const r=X(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=X(o);l.onlineState=a;let c=!1;l.queries.forEach((d,f)=>{for(const m of f.listeners)m.Q_(a)&&(c=!0)}),c&&oI(l)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function WK(t,e,n){const r=X(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new Xe(Y.comparator);o=o.insert(s,it.newNoDocument(s,ae.min()));const a=_e().add(s),l=new Ah(ae.min(),new Map,new Xe(ge),o,a);await AO(r,l),r.pa=r.pa.remove(s),r.ya.delete(e),dI(r)}else await Jl(r.localStore,e,!1).then(()=>eu(r,e,n)).catch(no)}async function qK(t,e){const n=X(t),r=e.batch.batchId;try{const i=await uK(n.localStore,e);cI(n,r,null),uI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Qi(n,i)}catch(i){await no(i)}}async function HK(t,e,n){const r=X(t);try{const i=await function(o,a){const l=X(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(se(f!==null),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);cI(r,e,n),uI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Qi(r,i)}catch(i){await no(i)}}async function KK(t,e){const n=X(t);so(n.remoteStore)||j("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(o){const a=X(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(r===-1)return void e.resolve();const i=n.ba.get(r)||[];i.push(e),n.ba.set(r,i)}catch(r){const i=Su(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function uI(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function cI(t,e,n){const r=X(t);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function eu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||SO(t,r)})}function SO(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(xd(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),dI(t))}function uE(t,e,n){for(const r of n)r instanceof TO?(t.wa.addReference(r.key,e),GK(t,r)):r instanceof IO?(j("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||SO(t,r.key)):Z()}function GK(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(j("SyncEngine","New document in limbo: "+n),t.ga.add(r),dI(t))}function dI(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new Y(Le.fromString(e)),r=t.Da.next();t.ya.set(r,new $K(n)),t.pa=t.pa.insert(n,r),Cg(t.remoteStore,new Ni(xn(Eu(n.path)),r,"TargetPurposeLimboResolution",Fn._e))}}async function Qi(t,e,n){const r=X(t),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,l)=>{o.push(r.va(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const d=XT.Qi(l.targetId,c);s.push(d)}}))}),await Promise.all(o),r.Va.a_(i),await async function(l,c){const d=X(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>R.forEach(c,m=>R.forEach(m.ki,v=>d.persistence.referenceDelegate.addReference(f,m.targetId,v)).next(()=>R.forEach(m.qi,v=>d.persistence.referenceDelegate.removeReference(f,m.targetId,v)))))}catch(f){if(!ro(f))throw f;j("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const m=f.targetId;if(!f.fromCache){const v=d.ts.get(m),b=v.snapshotVersion,I=v.withLastLimboFreeSnapshotVersion(b);d.ts=d.ts.insert(m,I)}}}(r.localStore,s))}async function YK(t,e){const n=X(t);if(!n.currentUser.isEqual(e)){j("SyncEngine","User change. New user:",e.toKey());const r=await aO(n.localStore,e);n.currentUser=e,function(s,o){s.ba.forEach(a=>{a.forEach(l=>{l.reject(new U(D.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Qi(n,r._s)}}function QK(t,e){const n=X(t),r=n.ya.get(e);if(r&&r.Ra)return _e().add(r.key);{let i=_e();const s=n.fa.get(e);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}async function XK(t,e){const n=X(t),r=await cm(n.localStore,e.query,!0),i=e.view.da(r);return n.isPrimaryClient&&uE(n,e.targetId,i.Ta),i}async function JK(t,e){const n=X(t);return dO(n.localStore,e).then(r=>Qi(n,r))}async function ZK(t,e,n,r){const i=X(t),s=await function(a,l){const c=X(a),d=X(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",f=>d.Cn(f,l).next(m=>m?c.localDocuments.getDocuments(f,m):R.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await bu(i.remoteStore):n==="acknowledged"||n==="rejected"?(cI(i,e,r||null),uI(i,e),function(a,l){X(X(a).mutationQueue).Fn(l)}(i.localStore,e)):Z(),await Qi(i,s)):j("SyncEngine","Cannot apply mutation batch with id: "+e)}async function e7(t,e){const n=X(t);if(hI(n),fI(n),e===!0&&n.Ca!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await M1(n,r.toArray());n.Ca=!0,await lE(n.remoteStore,!0);for(const s of i)Cg(n.remoteStore,s)}else if(e===!1&&n.Ca!==!1){const r=[];let i=Promise.resolve();n.fa.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(eu(n,o),Jl(n.localStore,o,!0))),xd(n.remoteStore,o)}),await i,await M1(n,r),function(o){const a=X(o);a.ya.forEach((l,c)=>{xd(a.remoteStore,c)}),a.wa.Vr(),a.ya=new Map,a.pa=new Xe(Y.comparator)}(n),n.Ca=!1,await lE(n.remoteStore,!1)}}async function M1(t,e,n){const r=X(t),i=[],s=[];for(const o of e){let a;const l=r.fa.get(o);if(l&&l.length!==0){a=await Xl(r.localStore,xn(l[0]));for(const c of l){const d=r.ma.get(c),f=await XK(r,d);f.snapshot&&s.push(f.snapshot)}}else{const c=await cO(r.localStore,o);a=await Xl(r.localStore,c),await lI(r,PO(c),o,!1,a.resumeToken)}i.push(a)}return r.Va.a_(s),i}function PO(t){return gD(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function t7(t){return function(n){return X(X(n).persistence).Bi()}(X(t).localStore)}async function n7(t,e,n,r){const i=X(t);if(i.Ca)return void j("SyncEngine","Ignoring unexpected query state notification.");const s=i.fa.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await dO(i.localStore,vD(s[0])),a=Ah.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Vt.EMPTY_BYTE_STRING);await Qi(i,o,a);break}case"rejected":await Jl(i.localStore,e,!0),eu(i,e,r);break;default:Z()}}async function r7(t,e,n){const r=hI(t);if(r.Ca){for(const i of e){if(r.fa.has(i)){j("SyncEngine","Adding an already active target "+i);continue}const s=await cO(r.localStore,i),o=await Xl(r.localStore,s);await lI(r,PO(s),o.targetId,!1,o.resumeToken),Cg(r.remoteStore,o)}for(const i of n)r.fa.has(i)&&await Jl(r.localStore,i,!1).then(()=>{xd(r.remoteStore,i),eu(r,i)}).catch(no)}}function hI(t){const e=X(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=AO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WK.bind(null,e),e.Va.a_=OK.bind(null,e.eventManager),e.Va.Fa=LK.bind(null,e.eventManager),e}function fI(t){const e=X(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HK.bind(null,e),e}function i7(t,e,n){const r=X(t);(async function(s,o,a){try{const l=await o.getMetadata();if(await function(v,b){const I=X(v),_=xt(b.createTime);return I.persistence.runTransaction("hasNewerBundle","readonly",y=>I.Kr.getBundleMetadata(y,b.id)).then(y=>!!y&&y.createTime.compareTo(_)>=0)}(s.localStore,l))return await o.close(),a._completeWith(function(v){return{taskState:"Success",documentsLoaded:v.totalDocuments,bytesLoaded:v.totalBytes,totalDocuments:v.totalDocuments,totalBytes:v.totalBytes}}(l)),Promise.resolve(new Set);a._updateProgress(wO(l));const c=new MK(l,s.localStore,o.serializer);let d=await o.Ma();for(;d;){const m=await c.ea(d);m&&a._updateProgress(m),d=await o.Ma()}const f=await c.complete();return await Qi(s,f.ra,void 0),await function(v,b){const I=X(v);return I.persistence.runTransaction("Save bundle","readwrite",_=>I.Kr.saveBundleMetadata(_,b))}(s.localStore,l),a._completeWith(f.progress),Promise.resolve(f.na)}catch(l){return Ur("SyncEngine",`Loading bundle failed with ${l}`),a._failWith(l),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class cE{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Ph(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return oO(this.persistence,new sO,e.initialUser,this.serializer)}createPersistence(e){return new iO(Rg.jr,this.serializer)}createSharedClientState(e){return new fO}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class RO extends cE{constructor(e,n,r){super(),this.xa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xa.initialize(this,e),await fI(this.xa.syncEngine),await bu(this.xa.remoteStore),await this.persistence.mi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return oO(this.persistence,new sO,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new HH(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new Cq(n,this.persistence);return new Rq(e.asyncQueue,r)}createPersistence(e){const n=QT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new YT(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,pO(),cp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new fO}}class s7 extends RO{constructor(e,n){super(e,n,!1),this.xa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.xa.syncEngine;this.sharedClientState instanceof Ev&&(this.sharedClientState.syncEngine={Ys:ZK.bind(null,n),Zs:n7.bind(null,n),Xs:r7.bind(null,n),Bi:t7.bind(null,n),Js:JK.bind(null,n)},await this.sharedClientState.start()),await this.persistence.mi(async r=>{await e7(this.xa.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=pO();if(!Ev.D(n))throw new U(D.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=QT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Ev(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class pI{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>V1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=YK.bind(null,this.syncEngine),await lE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new DK}()}createDatastore(e){const n=Ph(e.databaseInfo.databaseId),r=function(s){return new _K(s)}(e.databaseInfo);return function(s,o,a,l){return new EK(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new TK(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>V1(this.syncEngine,n,0),function(){return N1.D()?new N1:new pK}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,d){const f=new UK(i,s,o,a,l,c);return d&&(f.Ca=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=X(n);j("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await Iu(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):kt("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7{constructor(e,n){this.Ba=e,this.serializer=n,this.metadata=new Wt,this.buffer=new Uint8Array,this.La=function(){return new TextDecoder("utf-8")}(),this.ka().then(r=>{r&&r.Z_()?this.metadata.resolve(r.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Y_)}`))},r=>this.metadata.reject(r))}close(){return this.Ba.cancel()}async getMetadata(){return this.metadata.promise}async Ma(){return await this.getMetadata(),this.ka()}async ka(){const e=await this.qa();if(e===null)return null;const n=this.La.decode(e),r=Number(n);isNaN(r)&&this.Qa(`length string (${n}) is not valid number`);const i=await this.Ka(r);return new VK(JSON.parse(i),e.length+r)}$a(){return this.buffer.findIndex(e=>e===123)}async qa(){for(;this.$a()<0&&!await this.Ua(););if(this.buffer.length===0)return null;const e=this.$a();e<0&&this.Qa("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Ka(e){for(;this.buffer.length<e;)await this.Ua()&&this.Qa("Reached the end of bundle when more is expected.");const n=this.La.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ua(){const e=await this.Ba.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a7{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new U(D.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(i,s){const o=X(i),a=Cd(o.serializer)+"/documents",l={documents:s.map(m=>Rd(o.serializer,m))},c=await o.Co("BatchGetDocuments",a,l,s.length),d=new Map;c.forEach(m=>{const v=PH(o.serializer,m);d.set(v.key.toString(),v)});const f=[];return s.forEach(m=>{const v=d.get(m.toString());se(!!v),f.push(v)}),f}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Tu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=Y.fromPath(r);this.mutations.push(new $T(i,this.precondition(i)))}),await async function(r,i){const s=X(r),o=Cd(s.serializer)+"/documents",a={writes:i.map(l=>kd(s.serializer,l))};await s.wo("Commit",o,a)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Z();n=ae.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new U(D.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ae.min())?at.exists(!1):at.updateTime(n):at.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ae.min()))throw new U(D.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return at.updateTime(n)}return at.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l7{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.Wa=r.maxAttempts,this.zo=new ZT(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){this.zo.ko(async()=>{const e=new a7(this.datastore),n=this.za(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.ja(i)}))}).catch(r=>{this.ja(r)})})}za(e){try{const n=this.updateFunction(e);return!Eh(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!ND(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=jt.UNAUTHENTICATED,this.clientId=GN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{j("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(j("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new U(D.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Su(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function dp(t,e){t.asyncQueue.verifyOperationInProgress(),j("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await aO(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function dE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await mI(t);j("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>D1(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>D1(e.remoteStore,s)),t._onlineComponents=e}function CO(t){return t.name==="FirebaseError"?t.code===D.FAILED_PRECONDITION||t.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function mI(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){j("FirestoreClient","Using user provided OfflineComponentProvider");try{await dp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!CO(n))throw n;Ur("Error using user provided cache. Falling back to memory cache: "+n),await dp(t,new cE)}}else j("FirestoreClient","Using default OfflineComponentProvider"),await dp(t,new cE);return t._offlineComponents}async function xg(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(j("FirestoreClient","Using user provided OnlineComponentProvider"),await dE(t,t._uninitializedComponentsProvider._online)):(j("FirestoreClient","Using default OnlineComponentProvider"),await dE(t,new pI))),t._onlineComponents}function kO(t){return mI(t).then(e=>e.persistence)}function gI(t){return mI(t).then(e=>e.localStore)}function xO(t){return xg(t).then(e=>e.remoteStore)}function _I(t){return xg(t).then(e=>e.syncEngine)}function c7(t){return xg(t).then(e=>e.datastore)}async function tu(t){const e=await xg(t),n=e.eventManager;return n.onListen=jK.bind(null,e.syncEngine),n.onUnlisten=BK.bind(null,e.syncEngine),n}function d7(t){return t.asyncQueue.enqueue(async()=>{const e=await kO(t),n=await xO(t);return e.setNetworkEnabled(!0),function(i){const s=X(i);return s.C_.delete(0),Rh(s)}(n)})}function h7(t){return t.asyncQueue.enqueue(async()=>{const e=await kO(t),n=await xO(t);return e.setNetworkEnabled(!1),async function(i){const s=X(i);s.C_.add(0),await Iu(s),s.M_.set("Offline")}(n)})}function f7(t,e){const n=new Wt;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await function(c,d){const f=X(c);return f.persistence.runTransaction("read document","readonly",m=>f.localDocuments.getDocument(m,d))}(i,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new U(D.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const l=Su(a,`Failed to get document '${s} from cache`);o.reject(l)}}(await gI(t),e,n)),n.promise}function NO(t,e,n={}){const r=new Wt;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new kg({next:m=>{o.enqueueAndForget(()=>sI(s,f));const v=m.docs.has(a);!v&&m.fromCache?c.reject(new U(D.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&m.fromCache&&l&&l.source==="server"?c.reject(new U(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new aI(Eu(a.path),d,{includeMetadataChanges:!0,J_:!0});return iI(s,f)}(await tu(t),t.asyncQueue,e,n,r)),r.promise}function p7(t,e){const n=new Wt;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await cm(i,s,!0),l=new bO(s,a.ls),c=l.ca(a.documents),d=l.applyChanges(c,!1);o.resolve(d.snapshot)}catch(a){const l=Su(a,`Failed to execute query '${s} against cache`);o.reject(l)}}(await gI(t),e,n)),n.promise}function DO(t,e,n={}){const r=new Wt;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new kg({next:m=>{o.enqueueAndForget(()=>sI(s,f)),m.fromCache&&l.source==="server"?c.reject(new U(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new aI(a,d,{includeMetadataChanges:!0,J_:!0});return iI(s,f)}(await tu(t),t.asyncQueue,e,n,r)),r.promise}function m7(t,e){const n=new kg(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,s){X(i).q_.add(s),s.next()}(await tu(t),n)),()=>{n.Na(),t.asyncQueue.enqueueAndForget(async()=>function(i,s){X(i).q_.delete(s)}(await tu(t),n))}}function g7(t,e,n,r){const i=function(o,a){let l;return l=typeof o=="string"?OD().encode(o):o,function(d,f){return new o7(d,f)}(function(d,f){if(d instanceof Uint8Array)return F1(d,f);if(d instanceof ArrayBuffer)return F1(new Uint8Array(d),f);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),a)}(n,Ph(e));t.asyncQueue.enqueueAndForget(async()=>{i7(await _I(t),i,r)})}function _7(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const s=X(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Kr.getNamedQuery(o,i))}(await gI(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(t,e,n){if(!n)throw new U(D.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function LO(t,e,n,r){if(e===!0&&r===!0)throw new U(D.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function U1(t){if(!Y.isDocumentKey(t))throw new U(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function j1(t){if(Y.isDocumentKey(t))throw new U(D.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ng(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Z()}function Me(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new U(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ng(t);throw new U(D.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function VO(t,e){if(e<=0)throw new U(D.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new U(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new U(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new U(D.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new U(D.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new U(D.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ch{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new B1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new U(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new U(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new B1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new _q;switch(r.type){case"firstParty":return new wq(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new U(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=$1.get(n);r&&(j("ComponentProvider","Removing Datastore"),$1.delete(n),r.terminate())}(this),Promise.resolve()}}function v7(t,e,n,r={}){var i;const s=(t=Me(t,Ch))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ur("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=jt.MOCK_USER;else{a=SB(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new U(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new jt(c)}t._authCredentials=new vq(new KN(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dn=class MO{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new MO(this.firestore,e,this._query)}},ht=class FO{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ks(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new FO(this.firestore,e,this._key)}},ks=class $O extends Dn{constructor(e,n,r){super(e,n,Eu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ht(this.firestore,null,new Y(e))}withConverter(e){return new $O(this.firestore,e,this._path)}};function UO(t,e,...n){if(t=de(t),vI("collection","path",e),t instanceof Ch){const r=Le.fromString(e,...n);return j1(r),new ks(t,null,r)}{if(!(t instanceof ht||t instanceof ks))throw new U(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return j1(r),new ks(t.firestore,null,r)}}function y7(t,e){if(t=Me(t,Ch),vI("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new U(D.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Dn(t,null,function(r){return new Gi(Le.emptyPath(),r)}(e))}function pm(t,e,...n){if(t=de(t),arguments.length===1&&(e=GN.newId()),vI("doc","path",e),t instanceof Ch){const r=Le.fromString(e,...n);return U1(r),new ht(t,null,new Y(r))}{if(!(t instanceof ht||t instanceof ks))throw new U(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return U1(r),new ht(t.firestore,t instanceof ks?t.converter:null,new Y(r))}}function jO(t,e){return t=de(t),e=de(e),(t instanceof ht||t instanceof ks)&&(e instanceof ht||e instanceof ks)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function BO(t,e){return t=de(t),e=de(e),t instanceof Dn&&e instanceof Dn&&t.firestore===e.firestore&&Th(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E7{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new ZT(this,"async_queue_retry"),this.iu=()=>{const n=cp();n&&j("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=cp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=cp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Wt;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!ro(e))throw e;j("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw kt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=rI.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&Z()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function hE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class w7{constructor(){this._progressObserver={},this._taskCompletionResolver=new Wt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T7=-1;let Tt=class extends Ch{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new E7}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||zO(this),this._firestoreClient.terminate()}};function Yt(t){return t._firestoreClient||zO(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function zO(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,d){return new Qq(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,OO(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new u7(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function I7(t,e){qO(t=Me(t,Tt));const n=Yt(t);if(n._uninitializedComponentsProvider)throw new U(D.FAILED_PRECONDITION,"SDK cache is already specified.");Ur("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new pI;return WO(n,i,new RO(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function b7(t){qO(t=Me(t,Tt));const e=Yt(t);if(e._uninitializedComponentsProvider)throw new U(D.FAILED_PRECONDITION,"SDK cache is already specified.");Ur("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new pI;return WO(e,r,new s7(r,n.cacheSizeBytes))}function WO(t,e,n){const r=new Wt;return t.asyncQueue.enqueue(async()=>{try{await dp(t,n),await dE(t,e),r.resolve()}catch(i){const s=i;if(!CO(s))throw s;Ur("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}}).then(()=>r.promise)}function A7(t){if(t._initialized&&!t._terminated)throw new U(D.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Wt;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!Or.D())return Promise.resolve();const i=r+"main";await Or.delete(i)}(QT(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function S7(t){return function(n){const r=new Wt;return n.asyncQueue.enqueueAndForget(async()=>KK(await _I(n),r)),r.promise}(Yt(t=Me(t,Tt)))}function P7(t){return d7(Yt(t=Me(t,Tt)))}function R7(t){return h7(Yt(t=Me(t,Tt)))}function C7(t,e){const n=Yt(t=Me(t,Tt)),r=new w7;return g7(n,t._databaseId,e,r),r}function k7(t,e){return _7(Yt(t=Me(t,Tt)),e).then(n=>n?new Dn(t,null,n.query):null)}function qO(t){if(t._initialized||t._terminated)throw new U(D.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _i(Vt.fromBase64String(e))}catch(n){throw new U(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _i(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hs=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new U(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ka=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new U(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new U(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x7=/^__.*__$/;class N7{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Yi(e,this.data,this.fieldMask,n,this.fieldTransforms):new wu(e,this.data,n,this.fieldTransforms)}}class HO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Yi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function KO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z()}}class Og{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Og(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return mm(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(KO(this.Iu)&&x7.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class D7{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ph(e)}pu(e,n,r,i=!1){return new Og({Iu:e,methodName:n,gu:r,path:ot.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xa(t){const e=t._freezeSettings(),n=Ph(t._databaseId);return new D7(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Lg(t,e,n,r,i,s={}){const o=t.pu(s.merge||s.mergeFields?2:0,e,n,i);TI("Data must be an object, but it was:",o,r);const a=QO(r,o);let l,c;if(s.merge)l=new $n(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const m=fE(e,f,n);if(!o.contains(m))throw new U(D.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);JO(d,m)||d.push(m)}l=new $n(d),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new N7(new nn(a),l,c)}class kh extends ka{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kh}}function GO(t,e,n){return new Og({Iu:3,gu:e.settings.gu,methodName:t._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class yI extends ka{_toFieldTransform(e){return new bh(e.path,new Gl)}isEqual(e){return e instanceof yI}}class O7 extends ka{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=GO(this,e,!0),r=this.yu.map(s=>Na(s,n)),i=new ga(r);return new bh(e.path,i)}isEqual(e){return this===e}}class L7 extends ka{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=GO(this,e,!0),r=this.yu.map(s=>Na(s,n)),i=new _a(r);return new bh(e.path,i)}isEqual(e){return this===e}}class V7 extends ka{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){const n=new Yl(e.serializer,AD(e.serializer,this.wu));return new bh(e.path,n)}isEqual(e){return this===e}}function EI(t,e,n,r){const i=t.pu(1,e,n);TI("Data must be an object, but it was:",i,r);const s=[],o=nn.empty();Ca(r,(l,c)=>{const d=II(e,l,n);c=de(c);const f=i.Ru(d);if(c instanceof kh)s.push(d);else{const m=Na(c,f);m!=null&&(s.push(d),o.set(d,m))}});const a=new $n(s);return new HO(o,a,i.fieldTransforms)}function wI(t,e,n,r,i,s){const o=t.pu(1,e,n),a=[fE(e,r,n)],l=[i];if(s.length%2!=0)throw new U(D.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(fE(e,s[m])),l.push(s[m+1]);const c=[],d=nn.empty();for(let m=a.length-1;m>=0;--m)if(!JO(c,a[m])){const v=a[m];let b=l[m];b=de(b);const I=o.Ru(v);if(b instanceof kh)c.push(v);else{const _=Na(b,I);_!=null&&(c.push(v),d.set(v,_))}}const f=new $n(c);return new HO(d,f,o.fieldTransforms)}function YO(t,e,n,r=!1){return Na(n,t.pu(r?4:3,e))}function Na(t,e){if(XO(t=de(t)))return TI("Unsupported field value:",e,t),QO(t,e);if(t instanceof ka)return function(r,i){if(!KO(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Na(a,i.Vu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=de(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return AD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ut.fromDate(r);return{timestampValue:Ql(i.serializer,s)}}if(r instanceof ut){const s=new ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ql(i.serializer,s)}}if(r instanceof Dg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _i)return{bytesValue:MD(i.serializer,r._byteString)};if(r instanceof ht){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:WT(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${Ng(r)}`)}(t,e)}function QO(t,e){const n={};return sD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ca(t,(r,i)=>{const s=Na(i,e.Eu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function XO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ut||t instanceof Dg||t instanceof _i||t instanceof ht||t instanceof ka)}function TI(t,e,n){if(!XO(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Ng(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function fE(t,e,n){if((e=de(e))instanceof Hs)return e._internalPath;if(typeof e=="string")return II(t,e);throw mm("Field path arguments must be of type string or ",t,!1,void 0,n)}const M7=new RegExp("[~\\*/\\[\\]]");function II(t,e,n){if(e.search(M7)>=0)throw mm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Hs(...e.split("."))._internalPath}catch{throw mm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function mm(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new U(D.INVALID_ARGUMENT,a+t+l)}function JO(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new F7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Vg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class F7 extends Nd{data(){return super.data()}}function Vg(t,e){return typeof e=="string"?II(t,e):e instanceof Hs?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new U(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bI{}class xh extends bI{}function ls(t,e,...n){let r=[];e instanceof bI&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof AI).length,a=s.filter(l=>l instanceof Mg).length;if(o>1||o>0&&a>0)throw new U(D.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Mg extends xh{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Mg(e,n,r)}_apply(e){const n=this._parse(e);return tL(e._query,n),new Dn(e.firestore,e.converter,eE(e._query,n))}_parse(e){const n=xa(e.firestore);return function(s,o,a,l,c,d,f){let m;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new U(D.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){W1(f,d);const v=[];for(const b of f)v.push(z1(l,s,b));m={arrayValue:{values:v}}}else m=z1(l,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||W1(f,d),m=YO(a,o,f,d==="in"||d==="not-in");return xe.create(c,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function $7(t,e,n){const r=e,i=Vg("where",t);return Mg._create(i,r,n)}class AI extends bI{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new AI(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:$e.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)tL(o,l),o=eE(o,l)}(e._query,n),new Dn(e.firestore,e.converter,eE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class SI extends xh{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new SI(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new U(D.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new U(D.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Pd(s,o)}(e._query,this._field,this._direction);return new Dn(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Gi(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function U7(t,e="asc"){const n=e,r=Vg("orderBy",t);return SI._create(r,n)}class Fg extends xh{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Fg(e,n,r)}_apply(e){return new Dn(e.firestore,e.converter,om(e._query,this._limit,this._limitType))}}function j7(t){return VO("limit",t),Fg._create("limit",t,"F")}function B7(t){return VO("limitToLast",t),Fg._create("limitToLast",t,"L")}class $g extends xh{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new $g(e,n,r)}_apply(e){const n=eL(e,this.type,this._docOrFields,this._inclusive);return new Dn(e.firestore,e.converter,function(i,s){return new Gi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function z7(...t){return $g._create("startAt",t,!0)}function W7(...t){return $g._create("startAfter",t,!1)}class Ug extends xh{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Ug(e,n,r)}_apply(e){const n=eL(e,this.type,this._docOrFields,this._inclusive);return new Dn(e.firestore,e.converter,function(i,s){return new Gi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,n))}}function q7(...t){return Ug._create("endBefore",t,!1)}function H7(...t){return Ug._create("endAt",t,!0)}function eL(t,e,n,r){if(n[0]=de(n[0]),n[0]instanceof Nd)return function(s,o,a,l,c){if(!l)throw new U(D.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const d=[];for(const f of Dl(s))if(f.field.isKeyField())d.push(pa(o,l.key));else{const m=l.data.field(f.field);if(Ig(m))throw new U(D.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(m===null){const v=f.field.canonicalString();throw new U(D.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${v}' (used as the orderBy) does not exist.`)}d.push(m)}return new Ws(d,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=xa(t.firestore);return function(o,a,l,c,d,f){const m=o.explicitOrderBy;if(d.length>m.length)throw new U(D.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const v=[];for(let b=0;b<d.length;b++){const I=d[b];if(m[b].field.isKeyField()){if(typeof I!="string")throw new U(D.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof I}`);if(!MT(o)&&I.indexOf("/")!==-1)throw new U(D.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${I}' contains a slash.`);const _=o.path.child(Le.fromString(I));if(!Y.isDocumentKey(_))throw new U(D.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${_}' is not because it contains an odd number of segments.`);const y=new Y(_);v.push(pa(a,y))}else{const _=YO(l,c,I);v.push(_)}}return new Ws(v,f)}(t._query,t.firestore._databaseId,i,e,n,r)}}function z1(t,e,n){if(typeof(n=de(n))=="string"){if(n==="")throw new U(D.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!MT(e)&&n.indexOf("/")!==-1)throw new U(D.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Le.fromString(n));if(!Y.isDocumentKey(r))throw new U(D.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return pa(t,new Y(r))}if(n instanceof ht)return pa(t,n._key);throw new U(D.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ng(n)}.`)}function W1(t,e){if(!Array.isArray(t)||t.length===0)throw new U(D.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function tL(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new U(D.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new U(D.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class PI{convertValue(e,n="none"){switch(fa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Z()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ca(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Dg(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=LT(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(bd(e));default:return null}}convertTimestamp(e){const n=Us(e);return new ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Le.fromString(e);se(KD(r));const i=new Bs(r.get(1),r.get(3)),s=new Y(r.popFirst(5));return i.isEqual(n)||kt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class K7 extends PI{constructor(e){super(),this.firestore=e}convertBytes(e){return new _i(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ht(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let $i=class extends Nd{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Vg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Bc=class extends $i{data(e={}){return super.data(e)}},Ks=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Wo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Bc(this._firestore,this._userDataWriter,r.key,r,new Wo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new U(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Bc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Wo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Bc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Wo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:G7(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function G7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z()}}function nL(t,e){return t instanceof $i&&e instanceof $i?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Ks&&e instanceof Ks&&t._firestore===e._firestore&&BO(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y7(t){t=Me(t,ht);const e=Me(t.firestore,Tt);return NO(Yt(e),t._key).then(n=>RI(e,t,n))}class Da extends PI{constructor(e){super(),this.firestore=e}convertBytes(e){return new _i(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ht(this.firestore,null,n)}}function Q7(t){t=Me(t,ht);const e=Me(t.firestore,Tt),n=Yt(e),r=new Da(e);return f7(n,t._key).then(i=>new $i(e,r,t._key,i,new Wo(i!==null&&i.hasLocalMutations,!0),t.converter))}function X7(t){t=Me(t,ht);const e=Me(t.firestore,Tt);return NO(Yt(e),t._key,{source:"server"}).then(n=>RI(e,t,n))}function J7(t){t=Me(t,Dn);const e=Me(t.firestore,Tt),n=Yt(e),r=new Da(e);return ZO(t._query),DO(n,t._query).then(i=>new Ks(e,r,t,i))}function Z7(t){t=Me(t,Dn);const e=Me(t.firestore,Tt),n=Yt(e),r=new Da(e);return p7(n,t._query).then(i=>new Ks(e,r,t,i))}function eG(t){t=Me(t,Dn);const e=Me(t.firestore,Tt),n=Yt(e),r=new Da(e);return DO(n,t._query,{source:"server"}).then(i=>new Ks(e,r,t,i))}function q1(t,e,n){t=Me(t,ht);const r=Me(t.firestore,Tt),i=jg(t.converter,e,n);return Nh(r,[Lg(xa(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,at.none())])}function H1(t,e,n,...r){t=Me(t,ht);const i=Me(t.firestore,Tt),s=xa(i);let o;return o=typeof(e=de(e))=="string"||e instanceof Hs?wI(s,"updateDoc",t._key,e,n,r):EI(s,"updateDoc",t._key,e),Nh(i,[o.toMutation(t._key,at.exists(!0))])}function tG(t){return Nh(Me(t.firestore,Tt),[new Tu(t._key,at.none())])}function nG(t,e){const n=Me(t.firestore,Tt),r=pm(t),i=jg(t.converter,e);return Nh(n,[Lg(xa(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,at.exists(!1))]).then(()=>r)}function rL(t,...e){var n,r,i;t=de(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||hE(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(hE(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,c,d;if(t instanceof ht)c=Me(t.firestore,Tt),d=Eu(t._key.path),l={next:f=>{e[o]&&e[o](RI(c,t,f))},error:e[o+1],complete:e[o+2]};else{const f=Me(t,Dn);c=Me(f.firestore,Tt),d=f._query;const m=new Da(c);l={next:v=>{e[o]&&e[o](new Ks(c,m,f,v))},error:e[o+1],complete:e[o+2]},ZO(t._query)}return function(m,v,b,I){const _=new kg(I),y=new aI(v,_,b);return m.asyncQueue.enqueueAndForget(async()=>iI(await tu(m),y)),()=>{_.Na(),m.asyncQueue.enqueueAndForget(async()=>sI(await tu(m),y))}}(Yt(c),d,a,l)}function rG(t,e){return m7(Yt(t=Me(t,Tt)),hE(e)?e:{next:e})}function Nh(t,e){return function(r,i){const s=new Wt;return r.asyncQueue.enqueueAndForget(async()=>zK(await _I(r),i,s)),s.promise}(Yt(t),e)}function RI(t,e,n){const r=n.docs.get(e._key),i=new Da(t);return new $i(t,i,e._key,r,new Wo(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iG={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sG=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=xa(e)}set(e,n,r){this._verifyNotCommitted();const i=fs(e,this._firestore),s=jg(i.converter,n,r),o=Lg(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,at.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=fs(e,this._firestore);let o;return o=typeof(n=de(n))=="string"||n instanceof Hs?wI(this._dataReader,"WriteBatch.update",s._key,n,r,i):EI(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,at.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=fs(e,this._firestore);return this._mutations=this._mutations.concat(new Tu(n._key,at.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new U(D.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function fs(t,e){if((t=de(t)).firestore!==e)throw new U(D.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oG=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=xa(n)}get(n){const r=fs(n,this._firestore),i=new K7(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return Z();const o=s[0];if(o.isFoundDocument())return new Nd(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new Nd(this._firestore,i,r._key,null,r.converter);throw Z()})}set(n,r,i){const s=fs(n,this._firestore),o=jg(s.converter,r,i),a=Lg(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){const o=fs(n,this._firestore);let a;return a=typeof(r=de(r))=="string"||r instanceof Hs?wI(this._dataReader,"Transaction.update",o._key,r,i,s):EI(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=fs(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=fs(e,this._firestore),r=new Da(this._firestore);return super.get(e).then(i=>new $i(this._firestore,r,n._key,i._document,new Wo(!1,!1),n.converter))}};function aG(t,e,n){t=Me(t,Tt);const r=Object.assign(Object.assign({},iG),n);return function(s){if(s.maxAttempts<1)throw new U(D.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new Wt;return s.asyncQueue.enqueueAndForget(async()=>{const c=await c7(s);new l7(s.asyncQueue,c,a,o,l).run()}),l.promise}(Yt(t),i=>e(new oG(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lG(){return new kh("deleteField")}function uG(){return new yI("serverTimestamp")}function cG(...t){return new O7("arrayUnion",t)}function dG(...t){return new L7("arrayRemove",t)}function hG(t){return new V7("increment",t)}(function(e,n=!0){(function(i){yu=i})(Js),Fs(new pi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Tt(new yq(r.getProvider("auth-internal")),new Iq(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new U(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bs(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ci(US,"4.4.0",e),ci(US,"4.4.0","esm2017")})();const fG="@firebase/firestore-compat",pG="0.3.23";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new U("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(){if(typeof Uint8Array>"u")throw new U("unimplemented","Uint8Arrays are not available in this environment.")}function G1(){if(!Gq())throw new U("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Dd{constructor(e){this._delegate=e}static fromBase64String(e){return G1(),new Dd(_i.fromBase64String(e))}static fromUint8Array(e){return K1(),new Dd(_i.fromUint8Array(e))}toBase64(){return G1(),this._delegate.toBase64()}toUint8Array(){return K1(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(t){return mG(t,["next","error","complete"])}function mG(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gG{enableIndexedDbPersistence(e,n){return I7(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return b7(e._delegate)}clearIndexedDbPersistence(e){return A7(e._delegate)}}class iL{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Bs||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Ur("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){v7(this._delegate,e,n,r)}enableNetwork(){return P7(this._delegate)}disableNetwork(){return R7(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,LO("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return S7(this._delegate)}onSnapshotsInSync(e){return rG(this._delegate,e)}get app(){if(!this._appCompat)throw new U("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new nu(this,UO(this._delegate,e))}catch(n){throw Pn(n,"collection()","Firestore.collection()")}}doc(e){try{return new wr(this,pm(this._delegate,e))}catch(n){throw Pn(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Sn(this,y7(this._delegate,e))}catch(n){throw Pn(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return aG(this._delegate,n=>e(new sL(this,n)))}batch(){return Yt(this._delegate),new oL(new sG(this._delegate,e=>Nh(this._delegate,e)))}loadBundle(e){return C7(this._delegate,e)}namedQuery(e){return k7(this._delegate,e).then(n=>n?new Sn(this,n):null)}}class Bg extends PI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dd(new _i(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return wr.forKey(n,this.firestore,null)}}function _G(t){mq(t)}class sL{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Bg(e)}get(e){const n=qo(e);return this._delegate.get(n).then(r=>new Od(this._firestore,new $i(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=qo(e);return r?(CI("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=qo(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=qo(e);return this._delegate.delete(n),this}}class oL{constructor(e){this._delegate=e}set(e,n,r){const i=qo(e);return r?(CI("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=qo(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=qo(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class wa{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new Bc(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ld(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=wa.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new wa(e,new Bg(e),n),i.set(n,s)),s}}wa.INSTANCES=new WeakMap;class wr{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Bg(e)}static forPath(e,n,r){if(e.length%2!==0)throw new U("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new wr(n,new ht(n._delegate,r,new Y(e)))}static forKey(e,n,r){return new wr(n,new ht(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new nu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new nu(this.firestore,UO(this._delegate,e))}catch(n){throw Pn(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=de(e),e instanceof ht?jO(this._delegate,e):!1}set(e,n){n=CI("DocumentReference.set",n);try{return n?q1(this._delegate,e,n):q1(this._delegate,e)}catch(r){throw Pn(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?H1(this._delegate,e):H1(this._delegate,e,n,...r)}catch(i){throw Pn(i,"updateDoc()","DocumentReference.update()")}}delete(){return tG(this._delegate)}onSnapshot(...e){const n=aL(e),r=lL(e,i=>new Od(this.firestore,new $i(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return rL(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=Q7(this._delegate):(e==null?void 0:e.source)==="server"?n=X7(this._delegate):n=Y7(this._delegate),n.then(r=>new Od(this.firestore,new $i(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new wr(this.firestore,e?this._delegate.withConverter(wa.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Pn(t,e,n){return t.message=t.message.replace(e,n),t}function aL(t){for(const e of t)if(typeof e=="object"&&!pE(e))return e;return{}}function lL(t,e){var n,r;let i;return pE(t[0])?i=t[0]:pE(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class Od{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new wr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return nL(this._delegate,e._delegate)}}class Ld extends Od{data(e){const n=this._delegate.data(e);return this._delegate._converter||gq(n!==void 0),n}}class Sn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Bg(e)}where(e,n,r){try{return new Sn(this.firestore,ls(this._delegate,$7(e,n,r)))}catch(i){throw Pn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Sn(this.firestore,ls(this._delegate,U7(e,n)))}catch(r){throw Pn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Sn(this.firestore,ls(this._delegate,j7(e)))}catch(n){throw Pn(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Sn(this.firestore,ls(this._delegate,B7(e)))}catch(n){throw Pn(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Sn(this.firestore,ls(this._delegate,z7(...e)))}catch(n){throw Pn(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Sn(this.firestore,ls(this._delegate,W7(...e)))}catch(n){throw Pn(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Sn(this.firestore,ls(this._delegate,q7(...e)))}catch(n){throw Pn(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Sn(this.firestore,ls(this._delegate,H7(...e)))}catch(n){throw Pn(n,"endAt()","Query.endAt()")}}isEqual(e){return BO(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=Z7(this._delegate):(e==null?void 0:e.source)==="server"?n=eG(this._delegate):n=J7(this._delegate),n.then(r=>new mE(this.firestore,new Ks(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=aL(e),r=lL(e,i=>new mE(this.firestore,new Ks(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return rL(this._delegate,n,r)}withConverter(e){return new Sn(this.firestore,e?this._delegate.withConverter(wa.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class vG{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Ld(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class mE{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Sn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ld(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new vG(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new Ld(this._firestore,r))})}isEqual(e){return nL(this._delegate,e._delegate)}}class nu extends Sn{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new wr(this.firestore,e):null}doc(e){try{return e===void 0?new wr(this.firestore,pm(this._delegate)):new wr(this.firestore,pm(this._delegate,e))}catch(n){throw Pn(n,"doc()","CollectionReference.doc()")}}add(e){return nG(this._delegate,e).then(n=>new wr(this.firestore,n))}isEqual(e){return jO(this._delegate,e._delegate)}withConverter(e){return new nu(this.firestore,e?this._delegate.withConverter(wa.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function qo(t){return Me(t,ht)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(...e){this._delegate=new Hs(...e)}static documentId(){return new kI(ot.keyField().canonicalString())}isEqual(e){return e=de(e),e instanceof Hs?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e){this._delegate=e}static serverTimestamp(){const e=uG();return e._methodName="FieldValue.serverTimestamp",new Oo(e)}static delete(){const e=lG();return e._methodName="FieldValue.delete",new Oo(e)}static arrayUnion(...e){const n=cG(...e);return n._methodName="FieldValue.arrayUnion",new Oo(n)}static arrayRemove(...e){const n=dG(...e);return n._methodName="FieldValue.arrayRemove",new Oo(n)}static increment(e){const n=hG(e);return n._methodName="FieldValue.increment",new Oo(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yG={Firestore:iL,GeoPoint:Dg,Timestamp:ut,Blob:Dd,Transaction:sL,WriteBatch:oL,DocumentReference:wr,DocumentSnapshot:Od,Query:Sn,QueryDocumentSnapshot:Ld,QuerySnapshot:mE,CollectionReference:nu,FieldPath:kI,FieldValue:Oo,setLogLevel:_G,CACHE_SIZE_UNLIMITED:T7};function EG(t,e){t.INTERNAL.registerComponent(new pi("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},yG)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wG(t){EG(t,(e,n)=>new iL(e,n,new gG)),t.registerVersion(fG,pG)}wG(hu);const TG={apiKey:"AIzaSyCQqJfYsRbOpMIP0x-kv0lHrZD9S5gyKXM",authDomain:"react-firebase-file-mana-c59fe.firebaseapp.com",projectId:"react-firebase-file-mana-c59fe",storageBucket:"react-firebase-file-mana-c59fe.appspot.com",messagingSenderId:"749990304719",appId:"1:749990304719:web:12d946cd4007176b5f90ba"},xs=hu.initializeApp(TG),xI=t=>({type:qC,payload:t}),Y1=t=>({type:HC}),IG=(t,e,n)=>r=>{xs.auth().signInWithEmailAndPassword(t,e).then(i=>{r(xI({uid:i.user.uid,displayName:i.user.displayName,email:i.user.email})),n(!0)}).catch(i=>{alert("Invalid email or password!")})},bG=(t,e,n,r)=>i=>{xs.auth().createUserWithEmailAndPassword(e,n).then(s=>{xs.auth().currentUser.updateProfile({displayName:t}).then(async()=>{const o=await xs.auth().currentUser;i(xI({uid:o.uid,name:o.displayName,email:o.email})),r(!0)}).catch(o=>{console.log(o)})}).catch(s=>{s.code==="auth/email-already-in-use"&&alert("This accont alredy registered!"),s.code==="auth/invalid-email"&&alert("Invalid email!"),s.code==="auth/weak-password"&&alert("Weak password!")})},uL=()=>t=>{xs.auth().signOut().then(()=>{t(Y1())}),t(Y1())},AG=()=>t=>{xs.auth().onAuthStateChanged(e=>{e&&t(xI({uid:e.uid,displayName:e.displayName,email:e.email}))})},SG=()=>{const[t,e]=React.useState(""),[n,r]=React.useState(""),[i,s]=React.useState(!1),o=yi(),a=cu(),l=c=>{if(c.preventDefault(),!t||!n){alert("Please fill form correct");return}o(IG(t,n,s))};return er(()=>{i&&a("/react-firebase/dashboard")},[i]),k.jsxs("form",{onSubmit:l,children:[k.jsx("div",{className:"form-group my-2",children:k.jsx("input",{type:"email",name:"email",className:"form-control",placeholder:"Email",value:t,onChange:c=>e(c.target.value)})}),k.jsx("div",{className:"form-group my-2",children:k.jsx("input",{type:"password",name:"password",className:"form-control",placeholder:"password",value:n,onChange:c=>r(c.target.value)})}),k.jsx("button",{type:"submit",className:"btn btn-primary my-2 form-control",children:"Login"})]})};function PG(){return k.jsxs("div",{className:"container-fluid",children:[k.jsx("h1",{className:"display-1 my-5 text-center",children:"Login here"}),k.jsx("div",{className:"row",children:k.jsxs("div",{className:"col-md-5 mx-auto mt-5",children:[k.jsx(SG,{}),k.jsx(ti,{to:"/react-firebase/register",children:"Don't have an account? Register"})]})})]})}const RG=()=>{const[t,e]=er.useState(""),[n,r]=er.useState(""),[i,s]=er.useState(""),[o,a]=er.useState(""),[l,c]=er.useState(!1),d=yi(),f=cu(),m=v=>{if(v.preventDefault(),!n||!i||!o||!t){alert("Please fill form correct");return}if(i!==o){alert("I ncorrect password");return}d(bG(t,n,i,c))};return er.useEffect(()=>{l&&f("/react-firebase/dashboard")},[l]),k.jsxs("form",{onSubmit:m,children:[k.jsx("div",{className:"form-group my-2",children:k.jsx("input",{type:"name",name:"name",className:"form-control",placeholder:"Name",value:t,onChange:v=>e(v.target.value)})}),k.jsx("div",{className:"form-group my-2",children:k.jsx("input",{type:"email",name:"email",className:"form-control",placeholder:"Email",value:n,onChange:v=>r(v.target.value)})}),k.jsx("div",{className:"form-group my-2",children:k.jsx("input",{type:"password",name:"password",className:"form-control",placeholder:"password",value:i,onChange:v=>s(v.target.value)})}),k.jsx("div",{className:"form-group my-2",children:k.jsx("input",{type:"password",name:"passwordConfirm",className:"form-control",placeholder:"Re-type password",value:o,onChange:v=>a(v.target.value)})}),k.jsx("button",{type:"submit",className:"btn btn-primary my-2 form-control",children:"Register"})]})};function CG(){return k.jsxs("div",{className:"container-fluid",children:[k.jsx("h1",{className:"display-1 my-5 text-center",children:"Register here"}),k.jsx("div",{className:"row",children:k.jsxs("div",{className:"col-md-5 mx-auto mt-5",children:[k.jsx(RG,{}),k.jsx(ti,{to:"/react-firebase/login",children:"Already have an account? Login"})]})})]})}const kG=()=>{const{isAuthenticated:t,user:e}=Aa(r=>r.auth),n=yi();return k.jsxs("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark p-3 ",children:[k.jsx(ti,{to:"/react-firebase/",className:"navbar-brand ms-5 text-white",children:"React Firebase - File Manager"}),k.jsx("ul",{className:"navbar-nav ms-auto me-5",children:t?k.jsxs(k.Fragment,{children:[k.jsx("li",{className:"nav-item mx-2",children:k.jsxs("p",{className:"my-0 mt-1 mx-2",children:[k.jsx("span",{className:"text-light mx-1",children:"Welcome,"}),k.jsx("span",{className:"fw-bold text-warning",children:e.displayName})]})}),k.jsx("li",{className:"nav-item mx-2",children:k.jsx(ti,{to:"/react-firebase/dashboard",className:"btn btn-primary btn-sm",children:"Dashboard"})}),k.jsx("li",{className:"nav-item",children:k.jsx("button",{to:"/react-firebase/logout",className:"btn btn-success btn-sm",onClick:()=>n(uL()),children:"Logout"})})]}):k.jsxs(k.Fragment,{children:[k.jsx("li",{className:"nav-item mx-2",children:k.jsx(ti,{to:"/react-firebase/login",className:"btn btn-primary btn-sm ",children:"Login"})}),k.jsx("li",{className:"nav-item",children:k.jsx(ti,{to:"/react-firebase/register",className:"btn btn-success btn-sm",children:"Register"})})]})})]})},xG=()=>k.jsxs(k.Fragment,{children:[k.jsx(kG,{}),k.jsx("h1",{className:"display-1 my-5 text-center ",children:"REACT FILE MANAGE HERE"})]});var NG={prefix:"fas",iconName:"file-lines",icon:[384,512,[128441,128462,61686,"file-alt","file-text"],"f15c","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM112 256H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"]},cL=NG,DG={prefix:"fas",iconName:"folder-plus",icon:[512,512,[],"f65e","M512 416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96C0 60.7 28.7 32 64 32H192c20.1 0 39.1 9.5 51.2 25.6l19.2 25.6c6 8.1 15.5 12.8 25.6 12.8H448c35.3 0 64 28.7 64 64V416zM232 376c0 13.3 10.7 24 24 24s24-10.7 24-24V312h64c13.3 0 24-10.7 24-24s-10.7-24-24-24H280V200c0-13.3-10.7-24-24-24s-24 10.7-24 24v64H168c-13.3 0-24 10.7-24 24s10.7 24 24 24h64v64z"]},OG={prefix:"fas",iconName:"folder",icon:[512,512,[128193,128447,61716,"folder-blank"],"f07b","M64 480H448c35.3 0 64-28.7 64-64V160c0-35.3-28.7-64-64-64H288c-10.1 0-19.6-4.7-25.6-12.8L243.2 57.6C231.1 41.5 212.1 32 192 32H64C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64z"]},LG={prefix:"fas",iconName:"upload",icon:[512,512,[],"f093","M288 109.3V352c0 17.7-14.3 32-32 32s-32-14.3-32-32V109.3l-73.4 73.4c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l128-128c12.5-12.5 32.8-12.5 45.3 0l128 128c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L288 109.3zM64 352H192c0 35.3 28.7 64 64 64s64-28.7 64-64H448c35.3 0 64 28.7 64 64v32c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V416c0-35.3 28.7-64 64-64zM432 456a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"]},VG={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},MG=VG;function Q1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q1(Object(n),!0).forEach(function(r){Mt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gm(t){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(t)}function FG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $G(t,e,n){return e&&X1(t.prototype,e),n&&X1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NI(t,e){return jG(t)||zG(t,e)||dL(t,e)||qG()}function Dh(t){return UG(t)||BG(t)||dL(t)||WG()}function UG(t){if(Array.isArray(t))return gE(t)}function jG(t){if(Array.isArray(t))return t}function BG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zG(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function dL(t,e){if(t){if(typeof t=="string")return gE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gE(t,e)}}function gE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function WG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var J1=function(){},DI={},hL={},fL=null,pL={mark:J1,measure:J1};try{typeof window<"u"&&(DI=window),typeof document<"u"&&(hL=document),typeof MutationObserver<"u"&&(fL=MutationObserver),typeof performance<"u"&&(pL=performance)}catch{}var HG=DI.navigator||{},Z1=HG.userAgent,eP=Z1===void 0?"":Z1,Gs=DI,st=hL,tP=fL,kf=pL;Gs.document;var Xi=!!st.documentElement&&!!st.head&&typeof st.addEventListener=="function"&&typeof st.createElement=="function",mL=~eP.indexOf("MSIE")||~eP.indexOf("Trident/"),xf,Nf,Df,Of,Lf,Ui="___FONT_AWESOME___",_E=16,gL="fa",_L="svg-inline--fa",Ta="data-fa-i2svg",vE="data-fa-pseudo-element",KG="data-fa-pseudo-element-pending",OI="data-prefix",LI="data-icon",nP="fontawesome-i2svg",GG="async",YG=["HTML","HEAD","STYLE","SCRIPT"],vL=function(){try{return!0}catch{return!1}}(),nt="classic",yt="sharp",VI=[nt,yt];function Oh(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[nt]}})}var Vd=Oh((xf={},Mt(xf,nt,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit",fakd:"kit","fa-kit":"kit","fa-kit-duotone":"kit"}),Mt(xf,yt,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"}),xf)),Md=Oh((Nf={},Mt(Nf,nt,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),Mt(Nf,yt,{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"}),Nf)),Fd=Oh((Df={},Mt(Df,nt,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),Mt(Df,yt,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"}),Df)),QG=Oh((Of={},Mt(Of,nt,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),Mt(Of,yt,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"}),Of)),XG=/fa(s|r|l|t|d|b|k|ss|sr|sl|st)?[\-\ ]/,yL="fa-layers-text",JG=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,ZG=Oh((Lf={},Mt(Lf,nt,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),Mt(Lf,yt,{900:"fass",400:"fasr",300:"fasl",100:"fast"}),Lf)),EL=[1,2,3,4,5,6,7,8,9,10],e8=EL.concat([11,12,13,14,15,16,17,18,19,20]),t8=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Ho={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},$d=new Set;Object.keys(Md[nt]).map($d.add.bind($d));Object.keys(Md[yt]).map($d.add.bind($d));var n8=[].concat(VI,Dh($d),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Ho.GROUP,Ho.SWAP_OPACITY,Ho.PRIMARY,Ho.SECONDARY]).concat(EL.map(function(t){return"".concat(t,"x")})).concat(e8.map(function(t){return"w-".concat(t)})),zc=Gs.FontAwesomeConfig||{};function r8(t){var e=st.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function i8(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}if(st&&typeof st.querySelector=="function"){var s8=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];s8.forEach(function(t){var e=NI(t,2),n=e[0],r=e[1],i=i8(r8(n));i!=null&&(zc[r]=i)})}var wL={styleDefault:"solid",familyDefault:"classic",cssPrefix:gL,replacementClass:_L,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};zc.familyPrefix&&(zc.cssPrefix=zc.familyPrefix);var ru=ee(ee({},wL),zc);ru.autoReplaceSvg||(ru.observeMutations=!1);var re={};Object.keys(wL).forEach(function(t){Object.defineProperty(re,t,{enumerable:!0,set:function(n){ru[t]=n,Wc.forEach(function(r){return r(re)})},get:function(){return ru[t]}})});Object.defineProperty(re,"familyPrefix",{enumerable:!0,set:function(e){ru.cssPrefix=e,Wc.forEach(function(n){return n(re)})},get:function(){return ru.cssPrefix}});Gs.FontAwesomeConfig=re;var Wc=[];function o8(t){return Wc.push(t),function(){Wc.splice(Wc.indexOf(t),1)}}var us=_E,ai={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function a8(t){if(!(!t||!Xi)){var e=st.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=st.head.childNodes,r=null,i=n.length-1;i>-1;i--){var s=n[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}return st.head.insertBefore(e,r),t}}var l8="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Ud(){for(var t=12,e="";t-- >0;)e+=l8[Math.random()*62|0];return e}function Pu(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function MI(t){return t.classList?Pu(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function TL(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function u8(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(TL(t[n]),'" ')},"").trim()}function zg(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function FI(t){return t.size!==ai.size||t.x!==ai.x||t.y!==ai.y||t.rotate!==ai.rotate||t.flipX||t.flipY}function c8(t){var e=t.transform,n=t.containerWidth,r=t.iconWidth,i={transform:"translate(".concat(n/2," 256)")},s="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)"),l={transform:"".concat(s," ").concat(o," ").concat(a)},c={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:l,path:c}}function d8(t){var e=t.transform,n=t.width,r=n===void 0?_E:n,i=t.height,s=i===void 0?_E:i,o=t.startCentered,a=o===void 0?!1:o,l="";return a&&mL?l+="translate(".concat(e.x/us-r/2,"em, ").concat(e.y/us-s/2,"em) "):a?l+="translate(calc(-50% + ".concat(e.x/us,"em), calc(-50% + ").concat(e.y/us,"em)) "):l+="translate(".concat(e.x/us,"em, ").concat(e.y/us,"em) "),l+="scale(".concat(e.size/us*(e.flipX?-1:1),", ").concat(e.size/us*(e.flipY?-1:1),") "),l+="rotate(".concat(e.rotate,"deg) "),l}var h8=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    -webkit-transition-delay: 0s;
            transition-delay: 0s;
    -webkit-transition-duration: 0s;
            transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, none));
          transform: rotate(var(--fa-rotate-angle, none));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function IL(){var t=gL,e=_L,n=re.cssPrefix,r=re.replacementClass,i=h8;if(n!==t||r!==e){var s=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(r))}return i}var rP=!1;function Tv(){re.autoAddCss&&!rP&&(a8(IL()),rP=!0)}var f8={mixout:function(){return{dom:{css:IL,insertCss:Tv}}},hooks:function(){return{beforeDOMElementCreation:function(){Tv()},beforeI2svg:function(){Tv()}}}},ji=Gs||{};ji[Ui]||(ji[Ui]={});ji[Ui].styles||(ji[Ui].styles={});ji[Ui].hooks||(ji[Ui].hooks={});ji[Ui].shims||(ji[Ui].shims=[]);var Lr=ji[Ui],bL=[],p8=function t(){st.removeEventListener("DOMContentLoaded",t),_m=1,bL.map(function(e){return e()})},_m=!1;Xi&&(_m=(st.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(st.readyState),_m||st.addEventListener("DOMContentLoaded",p8));function m8(t){Xi&&(_m?setTimeout(t,0):bL.push(t))}function Lh(t){var e=t.tag,n=t.attributes,r=n===void 0?{}:n,i=t.children,s=i===void 0?[]:i;return typeof t=="string"?TL(t):"<".concat(e," ").concat(u8(r),">").concat(s.map(Lh).join(""),"</").concat(e,">")}function iP(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var g8=function(e,n){return function(r,i,s,o){return e.call(n,r,i,s,o)}},Iv=function(e,n,r,i){var s=Object.keys(e),o=s.length,a=i!==void 0?g8(n,i):n,l,c,d;for(r===void 0?(l=1,d=e[s[0]]):(l=0,d=r);l<o;l++)c=s[l],d=a(d,e[c],c,e);return d};function _8(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);(s&64512)==56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}function yE(t){var e=_8(t);return e.length===1?e[0].toString(16):null}function v8(t,e){var n=t.length,r=t.charCodeAt(e),i;return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function sP(t){return Object.keys(t).reduce(function(e,n){var r=t[n],i=!!r.icon;return i?e[r.iconName]=r.icon:e[n]=r,e},{})}function EE(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.skipHooks,i=r===void 0?!1:r,s=sP(e);typeof Lr.hooks.addPack=="function"&&!i?Lr.hooks.addPack(t,sP(e)):Lr.styles[t]=ee(ee({},Lr.styles[t]||{}),s),t==="fas"&&EE("fa",e)}var Vf,Mf,Ff,vl=Lr.styles,y8=Lr.shims,E8=(Vf={},Mt(Vf,nt,Object.values(Fd[nt])),Mt(Vf,yt,Object.values(Fd[yt])),Vf),$I=null,AL={},SL={},PL={},RL={},CL={},w8=(Mf={},Mt(Mf,nt,Object.keys(Vd[nt])),Mt(Mf,yt,Object.keys(Vd[yt])),Mf);function T8(t){return~n8.indexOf(t)}function I8(t,e){var n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r===t&&i!==""&&!T8(i)?i:null}var kL=function(){var e=function(s){return Iv(vl,function(o,a,l){return o[l]=Iv(a,s,{}),o},{})};AL=e(function(i,s,o){if(s[3]&&(i[s[3]]=o),s[2]){var a=s[2].filter(function(l){return typeof l=="number"});a.forEach(function(l){i[l.toString(16)]=o})}return i}),SL=e(function(i,s,o){if(i[o]=o,s[2]){var a=s[2].filter(function(l){return typeof l=="string"});a.forEach(function(l){i[l]=o})}return i}),CL=e(function(i,s,o){var a=s[2];return i[o]=o,a.forEach(function(l){i[l]=o}),i});var n="far"in vl||re.autoFetchSvg,r=Iv(y8,function(i,s){var o=s[0],a=s[1],l=s[2];return a==="far"&&!n&&(a="fas"),typeof o=="string"&&(i.names[o]={prefix:a,iconName:l}),typeof o=="number"&&(i.unicodes[o.toString(16)]={prefix:a,iconName:l}),i},{names:{},unicodes:{}});PL=r.names,RL=r.unicodes,$I=Wg(re.styleDefault,{family:re.familyDefault})};o8(function(t){$I=Wg(t.styleDefault,{family:re.familyDefault})});kL();function UI(t,e){return(AL[t]||{})[e]}function b8(t,e){return(SL[t]||{})[e]}function Ko(t,e){return(CL[t]||{})[e]}function xL(t){return PL[t]||{prefix:null,iconName:null}}function A8(t){var e=RL[t],n=UI("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function Ys(){return $I}var jI=function(){return{prefix:null,iconName:null,rest:[]}};function Wg(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.family,r=n===void 0?nt:n,i=Vd[r][t],s=Md[r][t]||Md[r][i],o=t in Lr.styles?t:null;return s||o||null}var oP=(Ff={},Mt(Ff,nt,Object.keys(Fd[nt])),Mt(Ff,yt,Object.keys(Fd[yt])),Ff);function qg(t){var e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.skipLookups,i=r===void 0?!1:r,s=(e={},Mt(e,nt,"".concat(re.cssPrefix,"-").concat(nt)),Mt(e,yt,"".concat(re.cssPrefix,"-").concat(yt)),e),o=null,a=nt;(t.includes(s[nt])||t.some(function(c){return oP[nt].includes(c)}))&&(a=nt),(t.includes(s[yt])||t.some(function(c){return oP[yt].includes(c)}))&&(a=yt);var l=t.reduce(function(c,d){var f=I8(re.cssPrefix,d);if(vl[d]?(d=E8[a].includes(d)?QG[a][d]:d,o=d,c.prefix=d):w8[a].indexOf(d)>-1?(o=d,c.prefix=Wg(d,{family:a})):f?c.iconName=f:d!==re.replacementClass&&d!==s[nt]&&d!==s[yt]&&c.rest.push(d),!i&&c.prefix&&c.iconName){var m=o==="fa"?xL(c.iconName):{},v=Ko(c.prefix,c.iconName);m.prefix&&(o=null),c.iconName=m.iconName||v||c.iconName,c.prefix=m.prefix||c.prefix,c.prefix==="far"&&!vl.far&&vl.fas&&!re.autoFetchSvg&&(c.prefix="fas")}return c},jI());return(t.includes("fa-brands")||t.includes("fab"))&&(l.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(l.prefix="fad"),!l.prefix&&a===yt&&(vl.fass||re.autoFetchSvg)&&(l.prefix="fass",l.iconName=Ko(l.prefix,l.iconName)||l.iconName),(l.prefix==="fa"||o==="fa")&&(l.prefix=Ys()||"fas"),l}var S8=function(){function t(){FG(this,t),this.definitions={}}return $G(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(a){n.definitions[a]=ee(ee({},n.definitions[a]||{}),o[a]),EE(a,o[a]);var l=Fd[nt][a];l&&EE(l,o[a]),kL()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(s){var o=i[s],a=o.prefix,l=o.iconName,c=o.icon,d=c[2];n[a]||(n[a]={}),d.length>0&&d.forEach(function(f){typeof f=="string"&&(n[a][f]=c)}),n[a][l]=c}),n}}]),t}(),aP=[],yl={},Ll={},P8=Object.keys(Ll);function R8(t,e){var n=e.mixoutsTo;return aP=t,yl={},Object.keys(Ll).forEach(function(r){P8.indexOf(r)===-1&&delete Ll[r]}),aP.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(o){typeof i[o]=="function"&&(n[o]=i[o]),gm(i[o])==="object"&&Object.keys(i[o]).forEach(function(a){n[o]||(n[o]={}),n[o][a]=i[o][a]})}),r.hooks){var s=r.hooks();Object.keys(s).forEach(function(o){yl[o]||(yl[o]=[]),yl[o].push(s[o])})}r.provides&&r.provides(Ll)}),n}function wE(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=yl[t]||[];return s.forEach(function(o){e=o.apply(null,[e].concat(r))}),e}function Ia(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=yl[t]||[];i.forEach(function(s){s.apply(null,n)})}function Bi(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Ll[t]?Ll[t].apply(null,e):void 0}function TE(t){t.prefix==="fa"&&(t.prefix="fas");var e=t.iconName,n=t.prefix||Ys();if(e)return e=Ko(n,e)||e,iP(NL.definitions,n,e)||iP(Lr.styles,n,e)}var NL=new S8,C8=function(){re.autoReplaceSvg=!1,re.observeMutations=!1,Ia("noAuto")},k8={i2svg:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Xi?(Ia("beforeI2svg",e),Bi("pseudoElements2svg",e),Bi("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot;re.autoReplaceSvg===!1&&(re.autoReplaceSvg=!0),re.observeMutations=!0,m8(function(){N8({autoReplaceSvgRoot:n}),Ia("watch",e)})}},x8={icon:function(e){if(e===null)return null;if(gm(e)==="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Ko(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){var n=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],r=Wg(e[0]);return{prefix:r,iconName:Ko(r,n)||n}}if(typeof e=="string"&&(e.indexOf("".concat(re.cssPrefix,"-"))>-1||e.match(XG))){var i=qg(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||Ys(),iconName:Ko(i.prefix,i.iconName)||i.iconName}}if(typeof e=="string"){var s=Ys();return{prefix:s,iconName:Ko(s,e)||e}}}},ur={noAuto:C8,config:re,dom:k8,parse:x8,library:NL,findIconDefinition:TE,toHtml:Lh},N8=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot,r=n===void 0?st:n;(Object.keys(Lr.styles).length>0||re.autoFetchSvg)&&Xi&&re.autoReplaceSvg&&ur.dom.i2svg({node:r})};function Hg(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return Lh(r)})}}),Object.defineProperty(t,"node",{get:function(){if(Xi){var r=st.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function D8(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,s=t.styles,o=t.transform;if(FI(o)&&n.found&&!r.found){var a=n.width,l=n.height,c={x:a/l/2,y:.5};i.style=zg(ee(ee({},s),{},{"transform-origin":"".concat(c.x+o.x/16,"em ").concat(c.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}function O8(t){var e=t.prefix,n=t.iconName,r=t.children,i=t.attributes,s=t.symbol,o=s===!0?"".concat(e,"-").concat(re.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ee(ee({},i),{},{id:o}),children:r}]}]}function BI(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,s=t.iconName,o=t.transform,a=t.symbol,l=t.title,c=t.maskId,d=t.titleId,f=t.extra,m=t.watchable,v=m===void 0?!1:m,b=r.found?r:n,I=b.width,_=b.height,y=i==="fak",T=[re.replacementClass,s?"".concat(re.cssPrefix,"-").concat(s):""].filter(function(H){return f.classes.indexOf(H)===-1}).filter(function(H){return H!==""||!!H}).concat(f.classes).join(" "),A={children:[],attributes:ee(ee({},f.attributes),{},{"data-prefix":i,"data-icon":s,class:T,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(I," ").concat(_)})},E=y&&!~f.classes.indexOf("fa-fw")?{width:"".concat(I/_*16*.0625,"em")}:{};v&&(A.attributes[Ta]=""),l&&(A.children.push({tag:"title",attributes:{id:A.attributes["aria-labelledby"]||"title-".concat(d||Ud())},children:[l]}),delete A.attributes.title);var N=ee(ee({},A),{},{prefix:i,iconName:s,main:n,mask:r,maskId:c,transform:o,symbol:a,styles:ee(ee({},E),f.styles)}),O=r.found&&n.found?Bi("generateAbstractMask",N)||{children:[],attributes:{}}:Bi("generateAbstractIcon",N)||{children:[],attributes:{}},L=O.children,G=O.attributes;return N.children=L,N.attributes=G,a?O8(N):D8(N)}function lP(t){var e=t.content,n=t.width,r=t.height,i=t.transform,s=t.title,o=t.extra,a=t.watchable,l=a===void 0?!1:a,c=ee(ee(ee({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});l&&(c[Ta]="");var d=ee({},o.styles);FI(i)&&(d.transform=d8({transform:i,startCentered:!0,width:n,height:r}),d["-webkit-transform"]=d.transform);var f=zg(d);f.length>0&&(c.style=f);var m=[];return m.push({tag:"span",attributes:c,children:[e]}),s&&m.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),m}function L8(t){var e=t.content,n=t.title,r=t.extra,i=ee(ee(ee({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=zg(r.styles);s.length>0&&(i.style=s);var o=[];return o.push({tag:"span",attributes:i,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}var bv=Lr.styles;function IE(t){var e=t[0],n=t[1],r=t.slice(4),i=NI(r,1),s=i[0],o=null;return Array.isArray(s)?o={tag:"g",attributes:{class:"".concat(re.cssPrefix,"-").concat(Ho.GROUP)},children:[{tag:"path",attributes:{class:"".concat(re.cssPrefix,"-").concat(Ho.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(re.cssPrefix,"-").concat(Ho.PRIMARY),fill:"currentColor",d:s[1]}}]}:o={tag:"path",attributes:{fill:"currentColor",d:s}},{found:!0,width:e,height:n,icon:o}}var V8={found:!1,width:512,height:512};function M8(t,e){!vL&&!re.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function bE(t,e){var n=e;return e==="fa"&&re.styleDefault!==null&&(e=Ys()),new Promise(function(r,i){if(Bi("missingIconAbstract"),n==="fa"){var s=xL(t)||{};t=s.iconName||t,e=s.prefix||e}if(t&&e&&bv[e]&&bv[e][t]){var o=bv[e][t];return r(IE(o))}M8(t,e),r(ee(ee({},V8),{},{icon:re.showMissingIcons&&t?Bi("missingIconAbstract")||{}:{}}))})}var uP=function(){},AE=re.measurePerformance&&kf&&kf.mark&&kf.measure?kf:{mark:uP,measure:uP},Tc='FA "6.5.1"',F8=function(e){return AE.mark("".concat(Tc," ").concat(e," begins")),function(){return DL(e)}},DL=function(e){AE.mark("".concat(Tc," ").concat(e," ends")),AE.measure("".concat(Tc," ").concat(e),"".concat(Tc," ").concat(e," begins"),"".concat(Tc," ").concat(e," ends"))},zI={begin:F8,end:DL},hp=function(){};function cP(t){var e=t.getAttribute?t.getAttribute(Ta):null;return typeof e=="string"}function $8(t){var e=t.getAttribute?t.getAttribute(OI):null,n=t.getAttribute?t.getAttribute(LI):null;return e&&n}function U8(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(re.replacementClass)}function j8(){if(re.autoReplaceSvg===!0)return fp.replace;var t=fp[re.autoReplaceSvg];return t||fp.replace}function B8(t){return st.createElementNS("http://www.w3.org/2000/svg",t)}function z8(t){return st.createElement(t)}function OL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.ceFn,r=n===void 0?t.tag==="svg"?B8:z8:n;if(typeof t=="string")return st.createTextNode(t);var i=r(t.tag);Object.keys(t.attributes||[]).forEach(function(o){i.setAttribute(o,t.attributes[o])});var s=t.children||[];return s.forEach(function(o){i.appendChild(OL(o,{ceFn:r}))}),i}function W8(t){var e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var fp={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(i){n.parentNode.insertBefore(OL(i),n)}),n.getAttribute(Ta)===null&&re.keepOriginalSource){var r=st.createComment(W8(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~MI(n).indexOf(re.replacementClass))return fp.replace(e);var i=new RegExp("".concat(re.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var s=r[0].attributes.class.split(" ").reduce(function(a,l){return l===re.replacementClass||l.match(i)?a.toSvg.push(l):a.toNode.push(l),a},{toNode:[],toSvg:[]});r[0].attributes.class=s.toSvg.join(" "),s.toNode.length===0?n.removeAttribute("class"):n.setAttribute("class",s.toNode.join(" "))}var o=r.map(function(a){return Lh(a)}).join(`
`);n.setAttribute(Ta,""),n.innerHTML=o}};function dP(t){t()}function LL(t,e){var n=typeof e=="function"?e:hp;if(t.length===0)n();else{var r=dP;re.mutateApproach===GG&&(r=Gs.requestAnimationFrame||dP),r(function(){var i=j8(),s=zI.begin("mutate");t.map(i),s(),n()})}}var WI=!1;function VL(){WI=!0}function SE(){WI=!1}var vm=null;function hP(t){if(tP&&re.observeMutations){var e=t.treeCallback,n=e===void 0?hp:e,r=t.nodeCallback,i=r===void 0?hp:r,s=t.pseudoElementsCallback,o=s===void 0?hp:s,a=t.observeMutationsRoot,l=a===void 0?st:a;vm=new tP(function(c){if(!WI){var d=Ys();Pu(c).forEach(function(f){if(f.type==="childList"&&f.addedNodes.length>0&&!cP(f.addedNodes[0])&&(re.searchPseudoElements&&o(f.target),n(f.target)),f.type==="attributes"&&f.target.parentNode&&re.searchPseudoElements&&o(f.target.parentNode),f.type==="attributes"&&cP(f.target)&&~t8.indexOf(f.attributeName))if(f.attributeName==="class"&&$8(f.target)){var m=qg(MI(f.target)),v=m.prefix,b=m.iconName;f.target.setAttribute(OI,v||d),b&&f.target.setAttribute(LI,b)}else U8(f.target)&&i(f.target)})}}),Xi&&vm.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function q8(){vm&&vm.disconnect()}function H8(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,i){var s=i.split(":"),o=s[0],a=s.slice(1);return o&&a.length>0&&(r[o]=a.join(":").trim()),r},{})),n}function K8(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"",i=qg(MI(t));return i.prefix||(i.prefix=Ys()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=b8(i.prefix,t.innerText)||UI(i.prefix,yE(t.innerText))),!i.iconName&&re.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}function G8(t){var e=Pu(t.attributes).reduce(function(i,s){return i.name!=="class"&&i.name!=="style"&&(i[s.name]=s.value),i},{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return re.autoA11y&&(n?e["aria-labelledby"]="".concat(re.replacementClass,"-title-").concat(r||Ud()):(e["aria-hidden"]="true",e.focusable="false")),e}function Y8(){return{iconName:null,title:null,titleId:null,prefix:null,transform:ai,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function fP(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},n=K8(t),r=n.iconName,i=n.prefix,s=n.rest,o=G8(t),a=wE("parseNodeAttributes",{},t),l=e.styleParser?H8(t):[];return ee({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:i,transform:ai,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:l,attributes:o}},a)}var Q8=Lr.styles;function ML(t){var e=re.autoReplaceSvg==="nest"?fP(t,{styleParser:!1}):fP(t);return~e.extra.classes.indexOf(yL)?Bi("generateLayersText",t,e):Bi("generateSvgReplacementMutation",t,e)}var Qs=new Set;VI.map(function(t){Qs.add("fa-".concat(t))});Object.keys(Vd[nt]).map(Qs.add.bind(Qs));Object.keys(Vd[yt]).map(Qs.add.bind(Qs));Qs=Dh(Qs);function pP(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Xi)return Promise.resolve();var n=st.documentElement.classList,r=function(f){return n.add("".concat(nP,"-").concat(f))},i=function(f){return n.remove("".concat(nP,"-").concat(f))},s=re.autoFetchSvg?Qs:VI.map(function(d){return"fa-".concat(d)}).concat(Object.keys(Q8));s.includes("fa")||s.push("fa");var o=[".".concat(yL,":not([").concat(Ta,"])")].concat(s.map(function(d){return".".concat(d,":not([").concat(Ta,"])")})).join(", ");if(o.length===0)return Promise.resolve();var a=[];try{a=Pu(t.querySelectorAll(o))}catch{}if(a.length>0)r("pending"),i("complete");else return Promise.resolve();var l=zI.begin("onTree"),c=a.reduce(function(d,f){try{var m=ML(f);m&&d.push(m)}catch(v){vL||v.name==="MissingIcon"&&console.error(v)}return d},[]);return new Promise(function(d,f){Promise.all(c).then(function(m){LL(m,function(){r("active"),r("complete"),i("pending"),typeof e=="function"&&e(),l(),d()})}).catch(function(m){l(),f(m)})})}function X8(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;ML(t).then(function(n){n&&LL([n],e)})}function J8(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=(e||{}).icon?e:TE(e||{}),i=n.mask;return i&&(i=(i||{}).icon?i:TE(i||{})),t(r,ee(ee({},n),{},{mask:i}))}}var Z8=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.transform,i=r===void 0?ai:r,s=n.symbol,o=s===void 0?!1:s,a=n.mask,l=a===void 0?null:a,c=n.maskId,d=c===void 0?null:c,f=n.title,m=f===void 0?null:f,v=n.titleId,b=v===void 0?null:v,I=n.classes,_=I===void 0?[]:I,y=n.attributes,T=y===void 0?{}:y,A=n.styles,E=A===void 0?{}:A;if(e){var N=e.prefix,O=e.iconName,L=e.icon;return Hg(ee({type:"icon"},e),function(){return Ia("beforeDOMElementCreation",{iconDefinition:e,params:n}),re.autoA11y&&(m?T["aria-labelledby"]="".concat(re.replacementClass,"-title-").concat(b||Ud()):(T["aria-hidden"]="true",T.focusable="false")),BI({icons:{main:IE(L),mask:l?IE(l.icon):{found:!1,width:null,height:null,icon:{}}},prefix:N,iconName:O,transform:ee(ee({},ai),i),symbol:o,title:m,maskId:d,titleId:b,extra:{attributes:T,styles:E,classes:_}})})}},eY={mixout:function(){return{icon:J8(Z8)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=pP,n.nodeCallback=X8,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,i=r===void 0?st:r,s=n.callback,o=s===void 0?function(){}:s;return pP(i,o)},e.generateSvgReplacementMutation=function(n,r){var i=r.iconName,s=r.title,o=r.titleId,a=r.prefix,l=r.transform,c=r.symbol,d=r.mask,f=r.maskId,m=r.extra;return new Promise(function(v,b){Promise.all([bE(i,a),d.iconName?bE(d.iconName,d.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(I){var _=NI(I,2),y=_[0],T=_[1];v([n,BI({icons:{main:y,mask:T},prefix:a,iconName:i,transform:l,symbol:c,maskId:f,title:s,titleId:o,extra:m,watchable:!0})])}).catch(b)})},e.generateAbstractIcon=function(n){var r=n.children,i=n.attributes,s=n.main,o=n.transform,a=n.styles,l=zg(a);l.length>0&&(i.style=l);var c;return FI(o)&&(c=Bi("generateAbstractTransformGrouping",{main:s,transform:o,containerWidth:s.width,iconWidth:s.width})),r.push(c||s.icon),{children:r,attributes:i}}}},tY={mixout:function(){return{layer:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.classes,s=i===void 0?[]:i;return Hg({type:"layer"},function(){Ia("beforeDOMElementCreation",{assembler:n,params:r});var o=[];return n(function(a){Array.isArray(a)?a.map(function(l){o=o.concat(l.abstract)}):o=o.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(re.cssPrefix,"-layers")].concat(Dh(s)).join(" ")},children:o}]})}}}},nY={mixout:function(){return{counter:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.title,s=i===void 0?null:i,o=r.classes,a=o===void 0?[]:o,l=r.attributes,c=l===void 0?{}:l,d=r.styles,f=d===void 0?{}:d;return Hg({type:"counter",content:n},function(){return Ia("beforeDOMElementCreation",{content:n,params:r}),L8({content:n.toString(),title:s,extra:{attributes:c,styles:f,classes:["".concat(re.cssPrefix,"-layers-counter")].concat(Dh(a))}})})}}}},rY={mixout:function(){return{text:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.transform,s=i===void 0?ai:i,o=r.title,a=o===void 0?null:o,l=r.classes,c=l===void 0?[]:l,d=r.attributes,f=d===void 0?{}:d,m=r.styles,v=m===void 0?{}:m;return Hg({type:"text",content:n},function(){return Ia("beforeDOMElementCreation",{content:n,params:r}),lP({content:n,transform:ee(ee({},ai),s),title:a,extra:{attributes:f,styles:v,classes:["".concat(re.cssPrefix,"-layers-text")].concat(Dh(c))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var i=r.title,s=r.transform,o=r.extra,a=null,l=null;if(mL){var c=parseInt(getComputedStyle(n).fontSize,10),d=n.getBoundingClientRect();a=d.width/c,l=d.height/c}return re.autoA11y&&!i&&(o.attributes["aria-hidden"]="true"),Promise.resolve([n,lP({content:n.innerHTML,width:a,height:l,transform:s,title:i,extra:o,watchable:!0})])}}},iY=new RegExp('"',"ug"),mP=[1105920,1112319];function sY(t){var e=t.replace(iY,""),n=v8(e,0),r=n>=mP[0]&&n<=mP[1],i=e.length===2?e[0]===e[1]:!1;return{value:yE(i?e[0]:e),isSecondary:r||i}}function gP(t,e){var n="".concat(KG).concat(e.replace(":","-"));return new Promise(function(r,i){if(t.getAttribute(n)!==null)return r();var s=Pu(t.children),o=s.filter(function(L){return L.getAttribute(vE)===e})[0],a=Gs.getComputedStyle(t,e),l=a.getPropertyValue("font-family").match(JG),c=a.getPropertyValue("font-weight"),d=a.getPropertyValue("content");if(o&&!l)return t.removeChild(o),r();if(l&&d!=="none"&&d!==""){var f=a.getPropertyValue("content"),m=~["Sharp"].indexOf(l[2])?yt:nt,v=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(l[2])?Md[m][l[2].toLowerCase()]:ZG[m][c],b=sY(f),I=b.value,_=b.isSecondary,y=l[0].startsWith("FontAwesome"),T=UI(v,I),A=T;if(y){var E=A8(I);E.iconName&&E.prefix&&(T=E.iconName,v=E.prefix)}if(T&&!_&&(!o||o.getAttribute(OI)!==v||o.getAttribute(LI)!==A)){t.setAttribute(n,A),o&&t.removeChild(o);var N=Y8(),O=N.extra;O.attributes[vE]=e,bE(T,v).then(function(L){var G=BI(ee(ee({},N),{},{icons:{main:L,mask:jI()},prefix:v,iconName:A,extra:O,watchable:!0})),H=st.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(H,t.firstChild):t.appendChild(H),H.outerHTML=G.map(function(Ce){return Lh(Ce)}).join(`
`),t.removeAttribute(n),r()}).catch(i)}else r()}else r()})}function oY(t){return Promise.all([gP(t,"::before"),gP(t,"::after")])}function aY(t){return t.parentNode!==document.head&&!~YG.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(vE)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function _P(t){if(Xi)return new Promise(function(e,n){var r=Pu(t.querySelectorAll("*")).filter(aY).map(oY),i=zI.begin("searchPseudoElements");VL(),Promise.all(r).then(function(){i(),SE(),e()}).catch(function(){i(),SE(),n()})})}var lY={hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=_P,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node,i=r===void 0?st:r;re.searchPseudoElements&&_P(i)}}},vP=!1,uY={mixout:function(){return{dom:{unwatch:function(){VL(),vP=!0}}}},hooks:function(){return{bootstrap:function(){hP(wE("mutationObserverCallbacks",{}))},noAuto:function(){q8()},watch:function(n){var r=n.observeMutationsRoot;vP?SE():hP(wE("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},yP=function(e){var n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce(function(r,i){var s=i.toLowerCase().split("-"),o=s[0],a=s.slice(1).join("-");if(o&&a==="h")return r.flipX=!0,r;if(o&&a==="v")return r.flipY=!0,r;if(a=parseFloat(a),isNaN(a))return r;switch(o){case"grow":r.size=r.size+a;break;case"shrink":r.size=r.size-a;break;case"left":r.x=r.x-a;break;case"right":r.x=r.x+a;break;case"up":r.y=r.y-a;break;case"down":r.y=r.y+a;break;case"rotate":r.rotate=r.rotate+a;break}return r},n)},cY={mixout:function(){return{parse:{transform:function(n){return yP(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-transform");return i&&(n.transform=yP(i)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,i=n.transform,s=n.containerWidth,o=n.iconWidth,a={transform:"translate(".concat(s/2," 256)")},l="translate(".concat(i.x*32,", ").concat(i.y*32,") "),c="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),d="rotate(".concat(i.rotate," 0 0)"),f={transform:"".concat(l," ").concat(c," ").concat(d)},m={transform:"translate(".concat(o/2*-1," -256)")},v={outer:a,inner:f,path:m};return{tag:"g",attributes:ee({},v.outer),children:[{tag:"g",attributes:ee({},v.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:ee(ee({},r.icon.attributes),v.path)}]}]}}}},Av={x:0,y:0,width:"100%",height:"100%"};function EP(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function dY(t){return t.tag==="g"?t.children:[t]}var hY={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-mask"),s=i?qg(i.split(" ").map(function(o){return o.trim()})):jI();return s.prefix||(s.prefix=Ys()),n.mask=s,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,i=n.attributes,s=n.main,o=n.mask,a=n.maskId,l=n.transform,c=s.width,d=s.icon,f=o.width,m=o.icon,v=c8({transform:l,containerWidth:f,iconWidth:c}),b={tag:"rect",attributes:ee(ee({},Av),{},{fill:"white"})},I=d.children?{children:d.children.map(EP)}:{},_={tag:"g",attributes:ee({},v.inner),children:[EP(ee({tag:d.tag,attributes:ee(ee({},d.attributes),v.path)},I))]},y={tag:"g",attributes:ee({},v.outer),children:[_]},T="mask-".concat(a||Ud()),A="clip-".concat(a||Ud()),E={tag:"mask",attributes:ee(ee({},Av),{},{id:T,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[b,y]},N={tag:"defs",children:[{tag:"clipPath",attributes:{id:A},children:dY(m)},E]};return r.push(N,{tag:"rect",attributes:ee({fill:"currentColor","clip-path":"url(#".concat(A,")"),mask:"url(#".concat(T,")")},Av)}),{children:r,attributes:i}}}},fY={provides:function(e){var n=!1;Gs.matchMedia&&(n=Gs.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:ee(ee({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=ee(ee({},s),{},{attributeName:"opacity"}),a={tag:"circle",attributes:ee(ee({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||a.children.push({tag:"animate",attributes:ee(ee({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:ee(ee({},o),{},{values:"1;0;1;1;0;1;"})}),r.push(a),r.push({tag:"path",attributes:ee(ee({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:ee(ee({},o),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:ee(ee({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:ee(ee({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},pY={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-symbol"),s=i===null?!1:i===""?!0:i;return n.symbol=s,n}}}},mY=[f8,eY,tY,nY,rY,lY,uY,cY,hY,fY,pY];R8(mY,{mixoutsTo:ur});ur.noAuto;ur.config;ur.library;ur.dom;var PE=ur.parse;ur.findIconDefinition;ur.toHtml;var gY=ur.icon;ur.layer;ur.text;ur.counter;function wP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ws(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wP(Object(n),!0).forEach(function(r){El(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ym(t){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ym(t)}function El(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _Y(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function vY(t,e){if(t==null)return{};var n=_Y(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function RE(t){return yY(t)||EY(t)||wY(t)||TY()}function yY(t){if(Array.isArray(t))return CE(t)}function EY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wY(t,e){if(t){if(typeof t=="string")return CE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CE(t,e)}}function CE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function TY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IY(t){var e,n=t.beat,r=t.fade,i=t.beatFade,s=t.bounce,o=t.shake,a=t.flash,l=t.spin,c=t.spinPulse,d=t.spinReverse,f=t.pulse,m=t.fixedWidth,v=t.inverse,b=t.border,I=t.listItem,_=t.flip,y=t.size,T=t.rotation,A=t.pull,E=(e={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":s,"fa-shake":o,"fa-flash":a,"fa-spin":l,"fa-spin-reverse":d,"fa-spin-pulse":c,"fa-pulse":f,"fa-fw":m,"fa-inverse":v,"fa-border":b,"fa-li":I,"fa-flip":_===!0,"fa-flip-horizontal":_==="horizontal"||_==="both","fa-flip-vertical":_==="vertical"||_==="both"},El(e,"fa-".concat(y),typeof y<"u"&&y!==null),El(e,"fa-rotate-".concat(T),typeof T<"u"&&T!==null&&T!==0),El(e,"fa-pull-".concat(A),typeof A<"u"&&A!==null),El(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(E).map(function(N){return E[N]?N:null}).filter(function(N){return N})}function bY(t){return t=t-0,t===t}function FL(t){return bY(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(e,n){return n?n.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}var AY=["style"];function SY(t){return t.charAt(0).toUpperCase()+t.slice(1)}function PY(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var r=n.indexOf(":"),i=FL(n.slice(0,r)),s=n.slice(r+1).trim();return i.startsWith("webkit")?e[SY(i)]=s:e[i]=s,e},{})}function $L(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(l){return $L(t,l)}),i=Object.keys(e.attributes||{}).reduce(function(l,c){var d=e.attributes[c];switch(c){case"class":l.attrs.className=d,delete e.attributes.class;break;case"style":l.attrs.style=PY(d);break;default:c.indexOf("aria-")===0||c.indexOf("data-")===0?l.attrs[c.toLowerCase()]=d:l.attrs[FL(c)]=d}return l},{attrs:{}}),s=n.style,o=s===void 0?{}:s,a=vY(n,AY);return i.attrs.style=ws(ws({},i.attrs.style),o),t.apply(void 0,[e.tag,ws(ws({},i.attrs),a)].concat(RE(r)))}var UL=!1;try{UL=!0}catch{}function RY(){if(!UL&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function TP(t){if(t&&ym(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(PE.icon)return PE.icon(t);if(t===null)return null;if(t&&ym(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function Sv(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?El({},t,e):{}}var hi=er.forwardRef(function(t,e){var n=t.icon,r=t.mask,i=t.symbol,s=t.className,o=t.title,a=t.titleId,l=t.maskId,c=TP(n),d=Sv("classes",[].concat(RE(IY(t)),RE(s.split(" ")))),f=Sv("transform",typeof t.transform=="string"?PE.transform(t.transform):t.transform),m=Sv("mask",TP(r)),v=gY(c,ws(ws(ws(ws({},d),f),m),{},{symbol:i,title:o,titleId:a,maskId:l}));if(!v)return RY("Could not find icon",c),null;var b=v.abstract,I={ref:e};return Object.keys(t).forEach(function(_){hi.defaultProps.hasOwnProperty(_)||(I[_]=t[_])}),CY(b[0],I)});hi.displayName="FontAwesomeIcon";hi.propTypes={beat:Pe.bool,border:Pe.bool,beatFade:Pe.bool,bounce:Pe.bool,className:Pe.string,fade:Pe.bool,flash:Pe.bool,mask:Pe.oneOfType([Pe.object,Pe.array,Pe.string]),maskId:Pe.string,fixedWidth:Pe.bool,inverse:Pe.bool,flip:Pe.oneOf([!0,!1,"horizontal","vertical","both"]),icon:Pe.oneOfType([Pe.object,Pe.array,Pe.string]),listItem:Pe.bool,pull:Pe.oneOf(["right","left"]),pulse:Pe.bool,rotation:Pe.oneOf([0,90,180,270]),shake:Pe.bool,size:Pe.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:Pe.bool,spinPulse:Pe.bool,spinReverse:Pe.bool,symbol:Pe.oneOfType([Pe.bool,Pe.string]),title:Pe.string,titleId:Pe.string,transform:Pe.oneOfType([Pe.string,Pe.object]),swapOpacity:Pe.bool};hi.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var CY=$L.bind(null,er.createElement);const kY=t=>({type:KC,payload:t}),xY=t=>({type:GC,payload:t}),IP=t=>({type:QC,payload:t}),NY=t=>({type:YC,payload:t}),DY=t=>e=>{xs.firestore().collection("folders").add(t).then(async n=>{const r=await(await n.get()).data(),i=n.id;e(kY({data:r,dosId:i})),alert(`The /${r.name}/ folder was successfully created`)})},OY=t=>e=>{e(IP(!0)),xs.firestore().collection("folders").where("userId","==",t).get().then(n=>{const r=[];n.docs.forEach(i=>{r.push({data:i.data(),docId:i.id})}),e(xY(r)),e(IP(!1))})},jL=t=>e=>{e(NY(t))},LY=({setIsCreateFolderOpen:t})=>{const[e,n]=$.useState(""),{userFolders:r,user:i,currentFolder:s,currentFolderData:o}=Aa(d=>({userFolders:d.filefolders.userFolders,user:d.auth.user,currentFolder:d.filefolders.currentFolder,currentFolderData:d.filefolders.userFolders.find(f=>f.docId===d.filefolders.currentFolder)}),oh),a=yi(),l=d=>!!r.filter(m=>m.data.parent===s).find(m=>m.data.name===d),c=d=>{if(d.preventDefault(),e){if(e.length>3)if(l(e))alert(`The /${e}/ has alredy been created!`);else{const f={createdAt:new Date,name:e,userId:i.uid,createdBy:i.displayName,path:s==="root"?[]:[...o==null?void 0:o.data.path,s],lastAccess:null,parent:s,updatedAt:new Date};a(DY(f))}e.length<4&&alert("The folder name must be ate least 4 characters")}else alert("The folder name cannot be empty")};return k.jsx("div",{style:{background:"rgba(0,0,0,0.4)",zIndex:999},className:"col-nd-12 position-fixed top-0 left-0 w-100 h-100",children:k.jsx("div",{className:"row align-items-center justify-content-center",children:k.jsxs("div",{className:"col-md-4 mt-5 bg-white rounded p-4",children:[k.jsxs("div",{className:"d-flex justify-content-between",children:[k.jsx("h4",{children:"Create Folder"}),k.jsx("button",{className:"btn btn-outline-light",onClick:()=>t(!1),children:k.jsx(hi,{icon:MG,className:"text-black",size:"sm"})})]}),k.jsx("hr",{}),k.jsx("div",{className:"d-flex flex-column align-items-center",children:k.jsxs("form",{className:"mt-3 w-100",onSubmit:c,children:[k.jsx("div",{className:"formgroup",children:k.jsx("input",{type:"text",className:"form-control",id:"folderName",placeholder:"Folder Name",value:e,onChange:d=>n(d.target.value)})}),k.jsx("button",{type:"submit",className:"btn btn-primary mt-5 form-control",children:"Create Folder"})]})})]})})})},VY=()=>{const{isAuthenticated:t,user:e}=Aa(r=>r.auth),n=yi();return k.jsxs("nav",{className:"navbar navbar-expand-lg navbar-light bg-white shadow-sm p-3",children:[k.jsx(ti,{to:"/react-firebase/dashboard",className:"navbar-brand ms-5",children:"File - Manager"}),k.jsx("ul",{className:"navbar-nav ms-auto me-5",children:t?k.jsxs(k.Fragment,{children:[k.jsx("li",{className:"nav-item mx-2",children:k.jsxs("p",{className:"my-0 mt-1 mx-2",children:[k.jsx("span",{className:"text-light mx-1 text-dark",children:"Welcome,"}),k.jsx("span",{className:"fw-bold text-dark",children:e.displayName})]})}),k.jsx("li",{className:"nav-item mx-2",children:k.jsx(ti,{to:"/react-firebase/",className:"btn btn-primary",children:"Home"})}),k.jsx("li",{className:"nav-item",children:k.jsx("button",{to:"/react-firebase/logout",className:"btn btn-success",onClick:()=>n(uL()),children:"Logout"})})]}):k.jsxs(k.Fragment,{children:[k.jsx("li",{className:"nav-item mx-2",children:k.jsx(ti,{to:"/react-firebase/login",className:"btn btn-primary btn-sm ",children:"Login"})}),k.jsx("li",{className:"nav-item",children:k.jsx(ti,{to:"/react-firebase/register",className:"btn btn-success btn-sm",children:"Register"})})]})})]})},MY=({setIsCreateFolderOpen:t})=>{const e=cu(),n=yi(),[r,i]=$.useState(""),[s,o]=$.useState(""),{currentFolder:a,currentFolderData:l,userFolders:c}=Aa(d=>({currentFolder:d.filefolders.currentFolder,currentFolderData:d.filefolders.userFolders.find(f=>f.docId===d.filefolders.currentFolder),userFolders:d.filefolders.userFolders}),oh);return $.useEffect(()=>{r.length>0&&s.length>0&&(e(r),n(jL(s)),i(""),o(""))},[r,s,n,e]),k.jsxs("nav",{className:"navbar navbar-expand-lg mt-2 navbar-light bg-white py-2",children:[k.jsx("nav",{className:"ms-5","aria-label":"breadcrumb",children:k.jsx("ol",{className:"breadcrumb d-flex align-item-center",children:a!=="root"?k.jsxs(k.Fragment,{children:[k.jsx("button",{onClick:()=>{i("/react-firebase/dashboard"),o("root")},className:"breadcrumb-item btn btn-link text-decoration-none",children:"Root"}),l==null?void 0:l.data.path.map((d,f)=>k.jsx("button",{className:"breadcrumb-item btn btn-link text-decoration-none",onClick:()=>{i(`/react-firebase/dashboard/folder/${c.find(m=>d===m.docId).docId}`),o(c.find(m=>d===m.docId).docId)},children:c.find(m=>d===m.docId).data.name},f)),k.jsx("li",{className:"breadcrumb-item active my-2 fw-bold",children:l==null?void 0:l.data.name})]}):k.jsx(k.Fragment,{children:k.jsx("li",{className:"breadcrumb-item active",children:"Root"})})})}),k.jsxs("ul",{className:"navbar-nav ms-auto me-5",children:[k.jsx("li",{className:"nav-item mx-2",children:k.jsxs("button",{className:"btn btn-outline-dark",children:[k.jsx(hi,{icon:LG}),"  Upload File"]})}),k.jsx("li",{className:"nav-item mx-2",children:k.jsxs("button",{className:"btn btn-outline-dark",children:[k.jsx(hi,{icon:cL}),"  Create File"]})}),k.jsx("li",{className:"nav-item mx-2",children:k.jsxs("button",{className:"btn btn-outline-dark",onClick:()=>t(!0),children:[k.jsx(hi,{icon:DG}),"  Create Folder"]})})]})]})},kE=({title:t,items:e,type:n})=>{const r=cu(),i=yi(),s=o=>{n==="folder"?(i(jL(o)),r(`/react-firebase/dashboard/folder/${o}`)):alert("File clicked")};return k.jsxs("div",{className:"w-100",children:[k.jsx("h4",{className:"text-center border-bottom py-2",children:t}),k.jsx("div",{className:"row gap-2 py-4 flex-wrap ms-4",children:e.map((o,a)=>k.jsxs("p",{className:"col-md-2 py-3 text-center border d-flex flex-column",onDoubleClick:()=>s(o.docId),children:[n==="folder"?k.jsx(hi,{icon:OG,size:"4x",className:"mb-3"}):k.jsx(hi,{icon:cL,size:"4x",className:"mb-3"}),n==="folder"?k.jsx(k.Fragment,{children:o.data.name}):k.jsx(k.Fragment,{children:o.name})]},a*Math.random()))})]})},FY=()=>{const t=[{name:"New File"},{name:"New File"}];yi();const{isLoading:e,userFolders:n}=Aa(r=>({isLoading:r.filefolders.isLoading,userFolders:r.filefolders.userFolders.filter(i=>i.data.parent==="root")}),oh);return k.jsx("div",{className:"col-md-12 w-100",children:e?k.jsx("h1",{className:"display-1 my-5 text-center",children:"Loading..."}):k.jsxs(k.Fragment,{children:[k.jsx(kE,{title:"Create Folders",type:"folder",items:n}),k.jsx(kE,{title:"Create Files",type:"file",items:t})]})})},$Y=()=>{const{folderId:t}=rj(),{currentFolderData:e,childFolders:n}=Aa(r=>{var i;return{currentFolderData:(i=r.filefolders.userFolders.find(s=>s.docId===t))==null?void 0:i.data,childFolders:r.filefolders.userFolders.filter(s=>s.data.parent===t)}},oh);return k.jsx("div",{children:n.length>0?k.jsx(k.Fragment,{children:k.jsx(kE,{title:"Create Folders",type:"folder",items:n})}):k.jsx("p",{className:"text-center my-5",children:"Empty Folder"})})},UY=()=>{const t=cu(),e=yi(),[n,r]=$.useState(!1),{isLoggedIn:i,isLoading:s,userId:o}=Aa(a=>({isLoggedIn:a.auth.isAuthenticated,isLoading:a.filefolders.isLoading,userId:a.auth.user.uid}),oh);return $.useEffect(()=>{i||t("/react-firebase/")},[]),$.useEffect(()=>{s&&o&&e(OY(o))},[s,o,e]),k.jsxs(k.Fragment,{children:[n&&k.jsx(LY,{setIsCreateFolderOpen:r}),k.jsx(VY,{}),k.jsx(MY,{setIsCreateFolderOpen:r}),k.jsxs(_j,{children:[k.jsx(wy,{path:"",element:k.jsx(FY,{})}),k.jsx(wy,{path:"folder/:folderId",element:k.jsx($Y,{})})]})]})},jY=()=>{const t=yi();return $.useEffect(()=>{t(AG())},[]),k.jsx(k.Fragment,{children:k.jsx(mj,{})})},BY=Ij([{path:"/react-firebase/",element:k.jsx(jY,{}),children:[{path:"/react-firebase/",element:k.jsx(xG,{})},{path:"/react-firebase/login",element:k.jsx(PG,{})},{path:"/react-firebase/register",element:k.jsx(CG,{})},{path:"/react-firebase/dashboard/*",element:k.jsx(UY,{})}]}]);jC.render(k.jsx(er.StrictMode,{children:k.jsx(Hj,{store:a4,children:k.jsx(Nj,{router:BY})})}),document.getElementById("root"));
