function EP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var C2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function PE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wP={exports:{}},$d={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var pb=Object.getOwnPropertySymbols,k2=Object.prototype.hasOwnProperty,x2=Object.prototype.propertyIsEnumerable;function N2(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function D2(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var TP=D2()?Object.assign:function(t,e){for(var n,r=N2(t),i,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var o in n)k2.call(n,o)&&(r[o]=n[o]);if(pb){i=pb(n);for(var a=0;a<i.length;a++)x2.call(n,i[a])&&(r[i[a]]=n[i[a]])}}return r},IP={exports:{}},Ve={};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RE=TP,nu=60103,bP=60106;Ve.Fragment=60107;Ve.StrictMode=60108;Ve.Profiler=60114;var AP=60109,SP=60110,PP=60112;Ve.Suspense=60113;var RP=60115,CP=60116;if(typeof Symbol=="function"&&Symbol.for){var xr=Symbol.for;nu=xr("react.element"),bP=xr("react.portal"),Ve.Fragment=xr("react.fragment"),Ve.StrictMode=xr("react.strict_mode"),Ve.Profiler=xr("react.profiler"),AP=xr("react.provider"),SP=xr("react.context"),PP=xr("react.forward_ref"),Ve.Suspense=xr("react.suspense"),RP=xr("react.memo"),CP=xr("react.lazy")}var mb=typeof Symbol=="function"&&Symbol.iterator;function O2(t){return t===null||typeof t!="object"?null:(t=mb&&t[mb]||t["@@iterator"],typeof t=="function"?t:null)}function Ud(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xP={};function ru(t,e,n){this.props=t,this.context=e,this.refs=xP,this.updater=n||kP}ru.prototype.isReactComponent={};ru.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(Ud(85));this.updater.enqueueSetState(this,t,e,"setState")};ru.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function NP(){}NP.prototype=ru.prototype;function CE(t,e,n){this.props=t,this.context=e,this.refs=xP,this.updater=n||kP}var kE=CE.prototype=new NP;kE.constructor=CE;RE(kE,ru.prototype);kE.isPureReactComponent=!0;var xE={current:null},DP=Object.prototype.hasOwnProperty,OP={key:!0,ref:!0,__self:!0,__source:!0};function LP(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)DP.call(e,r)&&!OP.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:nu,type:t,key:s,ref:o,props:i,_owner:xE.current}}function L2(t,e){return{$$typeof:nu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function NE(t){return typeof t=="object"&&t!==null&&t.$$typeof===nu}function V2(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var gb=/\/+/g;function N_(t,e){return typeof t=="object"&&t!==null&&t.key!=null?V2(""+t.key):e.toString(36)}function Vf(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case nu:case bP:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+N_(o,0):r,Array.isArray(i)?(n="",t!=null&&(n=t.replace(gb,"$&/")+"/"),Vf(i,e,n,"",function(c){return c})):i!=null&&(NE(i)&&(i=L2(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(gb,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Array.isArray(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+N_(s,a);o+=Vf(s,e,n,l,i)}else if(l=O2(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+N_(s,a++),o+=Vf(s,e,n,l,i);else if(s==="object")throw e=""+t,Error(Ud(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return o}function sf(t,e,n){if(t==null)return t;var r=[],i=0;return Vf(t,r,"","",function(s){return e.call(n,s,i++)}),r}function M2(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(n){t._status===0&&(n=n.default,t._status=1,t._result=n)},function(n){t._status===0&&(t._status=2,t._result=n)})}if(t._status===1)return t._result;throw t._result}var VP={current:null};function ji(){var t=VP.current;if(t===null)throw Error(Ud(321));return t}var F2={ReactCurrentDispatcher:VP,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:xE,IsSomeRendererActing:{current:!1},assign:RE};Ve.Children={map:sf,forEach:function(t,e,n){sf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return sf(t,function(){e++}),e},toArray:function(t){return sf(t,function(e){return e})||[]},only:function(t){if(!NE(t))throw Error(Ud(143));return t}};Ve.Component=ru;Ve.PureComponent=CE;Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F2;Ve.cloneElement=function(t,e,n){if(t==null)throw Error(Ud(267,t));var r=RE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=xE.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)DP.call(e,l)&&!OP.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:nu,type:t.type,key:i,ref:s,props:r,_owner:o}};Ve.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:SP,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:AP,_context:t},t.Consumer=t};Ve.createElement=LP;Ve.createFactory=function(t){var e=LP.bind(null,t);return e.type=t,e};Ve.createRef=function(){return{current:null}};Ve.forwardRef=function(t){return{$$typeof:PP,render:t}};Ve.isValidElement=NE;Ve.lazy=function(t){return{$$typeof:CP,_payload:{_status:-1,_result:t},_init:M2}};Ve.memo=function(t,e){return{$$typeof:RP,type:t,compare:e===void 0?null:e}};Ve.useCallback=function(t,e){return ji().useCallback(t,e)};Ve.useContext=function(t,e){return ji().useContext(t,e)};Ve.useDebugValue=function(){};Ve.useEffect=function(t,e){return ji().useEffect(t,e)};Ve.useImperativeHandle=function(t,e,n){return ji().useImperativeHandle(t,e,n)};Ve.useLayoutEffect=function(t,e){return ji().useLayoutEffect(t,e)};Ve.useMemo=function(t,e){return ji().useMemo(t,e)};Ve.useReducer=function(t,e,n){return ji().useReducer(t,e,n)};Ve.useRef=function(t){return ji().useRef(t)};Ve.useState=function(t){return ji().useState(t)};Ve.version="17.0.2";IP.exports=Ve;var U=IP.exports;const _n=PE(U),$2=EP({__proto__:null,default:_n},[U]);/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U2=U,MP=60103;$d.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var _b=Symbol.for;MP=_b("react.element"),$d.Fragment=_b("react.fragment")}var j2=U2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,B2=Object.prototype.hasOwnProperty,z2={key:!0,ref:!0,__self:!0,__source:!0};function FP(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)B2.call(e,r)&&!z2.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:MP,type:t,key:s,ref:o,props:i,_owner:j2.current}}$d.jsx=FP;$d.jsxs=FP;wP.exports=$d;var M=wP.exports,$P={exports:{}},Ar={},UP={exports:{}},jP={};/** @license React v0.19.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,n,r,i,s;if(typeof window>"u"||typeof MessageChannel!="function"){var o=null,a=null,l=function(){if(o!==null)try{var q=t.unstable_now();o(!0,q),o=null}catch(ie){throw setTimeout(l,0),ie}},c=Date.now();t.unstable_now=function(){return Date.now()-c},e=function(q){o!==null?setTimeout(e,0,q):(o=q,setTimeout(l,0))},n=function(q,ie){a=setTimeout(q,ie)},r=function(){clearTimeout(a)},i=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var d=window.performance,f=window.Date,m=window.setTimeout,v=window.clearTimeout;if(typeof console<"u"){var b=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),typeof b!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if(typeof d=="object"&&typeof d.now=="function")t.unstable_now=function(){return d.now()};else{var I=f.now();t.unstable_now=function(){return f.now()-I}}var _=!1,y=null,T=-1,A=5,E=0;i=function(){return t.unstable_now()>=E},s=function(){},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):A=0<q?Math.floor(1e3/q):5};var x=new MessageChannel,D=x.port2;x.port1.onmessage=function(){if(y!==null){var q=t.unstable_now();E=q+A;try{y(!0,q)?D.postMessage(null):(_=!1,y=null)}catch(ie){throw D.postMessage(null),ie}}else _=!1},e=function(q){y=q,_||(_=!0,D.postMessage(null))},n=function(q,ie){T=m(function(){q(t.unstable_now())},ie)},r=function(){v(T),T=-1}}function O(q,ie){var Ie=q.length;q.push(ie);e:for(;;){var Ge=Ie-1>>>1,L=q[Ge];if(L!==void 0&&0<Ce(L,ie))q[Ge]=ie,q[Ie]=L,Ie=Ge;else break e}}function G(q){return q=q[0],q===void 0?null:q}function H(q){var ie=q[0];if(ie!==void 0){var Ie=q.pop();if(Ie!==ie){q[0]=Ie;e:for(var Ge=0,L=q.length;Ge<L;){var Ze=2*(Ge+1)-1,cn=q[Ze],fr=Ze+1,Ft=q[fr];if(cn!==void 0&&0>Ce(cn,Ie))Ft!==void 0&&0>Ce(Ft,cn)?(q[Ge]=Ft,q[fr]=Ie,Ge=fr):(q[Ge]=cn,q[Ze]=Ie,Ge=Ze);else if(Ft!==void 0&&0>Ce(Ft,Ie))q[Ge]=Ft,q[fr]=Ie,Ge=fr;else break e}}return ie}return null}function Ce(q,ie){var Ie=q.sortIndex-ie.sortIndex;return Ie!==0?Ie:q.id-ie.id}var De=[],pt=[],un=1,Ke=null,ye=3,cr=!1,wn=!1,Tn=!1;function Qt(q){for(var ie=G(pt);ie!==null;){if(ie.callback===null)H(pt);else if(ie.startTime<=q)H(pt),ie.sortIndex=ie.expirationTime,O(De,ie);else break;ie=G(pt)}}function dr(q){if(Tn=!1,Qt(q),!wn)if(G(De)!==null)wn=!0,e(Sr);else{var ie=G(pt);ie!==null&&n(dr,ie.startTime-q)}}function Sr(q,ie){wn=!1,Tn&&(Tn=!1,r()),cr=!0;var Ie=ye;try{for(Qt(ie),Ke=G(De);Ke!==null&&(!(Ke.expirationTime>ie)||q&&!i());){var Ge=Ke.callback;if(Ge!==null){Ke.callback=null,ye=Ke.priorityLevel;var L=Ge(Ke.expirationTime<=ie);ie=t.unstable_now(),typeof L=="function"?Ke.callback=L:Ke===G(De)&&H(De),Qt(ie)}else H(De);Ke=G(De)}if(Ke!==null)var Ze=!0;else{var cn=G(pt);cn!==null&&n(dr,cn.startTime-ie),Ze=!1}return Ze}finally{Ke=null,ye=Ie,cr=!1}}function In(q){switch(q){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var hr=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){wn||cr||(wn=!0,e(Sr))},t.unstable_getCurrentPriorityLevel=function(){return ye},t.unstable_getFirstCallbackNode=function(){return G(De)},t.unstable_next=function(q){switch(ye){case 1:case 2:case 3:var ie=3;break;default:ie=ye}var Ie=ye;ye=ie;try{return q()}finally{ye=Ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=hr,t.unstable_runWithPriority=function(q,ie){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var Ie=ye;ye=q;try{return ie()}finally{ye=Ie}},t.unstable_scheduleCallback=function(q,ie,Ie){var Ge=t.unstable_now();if(typeof Ie=="object"&&Ie!==null){var L=Ie.delay;L=typeof L=="number"&&0<L?Ge+L:Ge,Ie=typeof Ie.timeout=="number"?Ie.timeout:In(q)}else Ie=In(q),L=Ge;return Ie=L+Ie,q={id:un++,callback:ie,priorityLevel:q,startTime:L,expirationTime:Ie,sortIndex:-1},L>Ge?(q.sortIndex=L,O(pt,q),G(De)===null&&q===G(pt)&&(Tn?r():Tn=!0,n(dr,L-Ge))):(q.sortIndex=Ie,O(De,q),wn||cr||(wn=!0,e(Sr))),q},t.unstable_shouldYield=function(){var q=t.unstable_now();Qt(q);var ie=G(De);return ie!==Ke&&Ke!==null&&ie!==null&&ie.callback!==null&&ie.startTime<=q&&ie.expirationTime<Ke.expirationTime||i()},t.unstable_wrapCallback=function(q){var ie=ye;return function(){var Ie=ye;ye=ie;try{return q.apply(this,arguments)}finally{ye=Ie}}}})(jP);UP.exports=jP;var W2=UP.exports;/** @license React v16.14.0
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _m=U,Dn=TP,on=W2;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!_m)throw Error(z(227));function q2(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var wc=!1,dp=null,hp=!1,Sv=null,H2={onError:function(t){wc=!0,dp=t}};function K2(t,e,n,r,i,s,o,a,l){wc=!1,dp=null,q2.apply(H2,arguments)}function G2(t,e,n,r,i,s,o,a,l){if(K2.apply(this,arguments),wc){if(wc){var c=dp;wc=!1,dp=null}else throw Error(z(198));hp||(hp=!0,Sv=c)}}var DE=null,BP=null,zP=null;function vb(t,e,n){var r=t.type||"unknown-event";t.currentTarget=zP(n),G2(r,e,void 0,t),t.currentTarget=null}var fp=null,ol={};function WP(){if(fp)for(var t in ol){var e=ol[t],n=fp.indexOf(t);if(!(-1<n))throw Error(z(96,t));if(!pp[n]){if(!e.extractEvents)throw Error(z(97,t));pp[n]=e,n=e.eventTypes;for(var r in n){var i=void 0,s=n[r],o=e,a=r;if(Pv.hasOwnProperty(a))throw Error(z(99,a));Pv[a]=s;var l=s.phasedRegistrationNames;if(l){for(i in l)l.hasOwnProperty(i)&&yb(l[i],o,a);i=!0}else s.registrationName?(yb(s.registrationName,o,a),i=!0):i=!1;if(!i)throw Error(z(98,r,t))}}}}function yb(t,e,n){if(Ol[t])throw Error(z(100,t));Ol[t]=e,OE[t]=e.eventTypes[n].dependencies}var pp=[],Pv={},Ol={},OE={};function qP(t){var e=!1,n;for(n in t)if(t.hasOwnProperty(n)){var r=t[n];if(!ol.hasOwnProperty(n)||ol[n]!==r){if(ol[n])throw Error(z(102,n));ol[n]=r,e=!0}}e&&WP()}var Gs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rv=null,yl=null,El=null;function Eb(t){if(t=BP(t)){if(typeof Rv!="function")throw Error(z(280));var e=t.stateNode;e&&(e=DE(e),Rv(t.stateNode,t.type,e))}}function HP(t){yl?El?El.push(t):El=[t]:yl=t}function KP(){if(yl){var t=yl,e=El;if(El=yl=null,Eb(t),e)for(t=0;t<e.length;t++)Eb(e[t])}}function LE(t,e){return t(e)}function GP(t,e,n,r,i){return t(e,n,r,i)}function VE(){}var YP=LE,Do=!1,D_=!1;function ME(){(yl!==null||El!==null)&&(VE(),KP())}function QP(t,e,n){if(D_)return t(e,n);D_=!0;try{return YP(t,e,n)}finally{D_=!1,ME()}}var Y2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wb=Object.prototype.hasOwnProperty,Tb={},Ib={};function Q2(t){return wb.call(Ib,t)?!0:wb.call(Tb,t)?!1:Y2.test(t)?Ib[t]=!0:(Tb[t]=!0,!1)}function X2(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function J2(t,e,n,r){if(e===null||typeof e>"u"||X2(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ln(t,e,n,r,i,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s}var an={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){an[t]=new Ln(t,0,!1,t,null,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];an[e]=new Ln(e,1,!1,t[1],null,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){an[t]=new Ln(t,2,!1,t.toLowerCase(),null,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){an[t]=new Ln(t,2,!1,t,null,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){an[t]=new Ln(t,3,!1,t.toLowerCase(),null,!1)});["checked","multiple","muted","selected"].forEach(function(t){an[t]=new Ln(t,3,!0,t,null,!1)});["capture","download"].forEach(function(t){an[t]=new Ln(t,4,!1,t,null,!1)});["cols","rows","size","span"].forEach(function(t){an[t]=new Ln(t,6,!1,t,null,!1)});["rowSpan","start"].forEach(function(t){an[t]=new Ln(t,5,!1,t.toLowerCase(),null,!1)});var FE=/[\-:]([a-z])/g;function $E(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(FE,$E);an[e]=new Ln(e,1,!1,t,null,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(FE,$E);an[e]=new Ln(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(FE,$E);an[e]=new Ln(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)});["tabIndex","crossOrigin"].forEach(function(t){an[t]=new Ln(t,1,!1,t.toLowerCase(),null,!1)});an.xlinkHref=new Ln("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0);["src","href","action","formAction"].forEach(function(t){an[t]=new Ln(t,1,!1,t.toLowerCase(),null,!0)});var Vr=_m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Vr.hasOwnProperty("ReactCurrentDispatcher")||(Vr.ReactCurrentDispatcher={current:null});Vr.hasOwnProperty("ReactCurrentBatchConfig")||(Vr.ReactCurrentBatchConfig={suspense:null});function UE(t,e,n,r){var i=an.hasOwnProperty(e)?an[e]:null,s=i!==null?i.type===0:r?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");s||(J2(e,n,i,r)&&(n=null),r||i===null?Q2(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Z2=/^(.*)[\\\/]/,qn=typeof Symbol=="function"&&Symbol.for,of=qn?Symbol.for("react.element"):60103,al=qn?Symbol.for("react.portal"):60106,Po=qn?Symbol.for("react.fragment"):60107,XP=qn?Symbol.for("react.strict_mode"):60108,Mf=qn?Symbol.for("react.profiler"):60114,JP=qn?Symbol.for("react.provider"):60109,ZP=qn?Symbol.for("react.context"):60110,e$=qn?Symbol.for("react.concurrent_mode"):60111,jE=qn?Symbol.for("react.forward_ref"):60112,Ff=qn?Symbol.for("react.suspense"):60113,Cv=qn?Symbol.for("react.suspense_list"):60120,BE=qn?Symbol.for("react.memo"):60115,eR=qn?Symbol.for("react.lazy"):60116,tR=qn?Symbol.for("react.block"):60121,bb=typeof Symbol=="function"&&Symbol.iterator;function ju(t){return t===null||typeof t!="object"?null:(t=bb&&t[bb]||t["@@iterator"],typeof t=="function"?t:null)}function t$(t){if(t._status===-1){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then(function(n){t._status===0&&(n=n.default,t._status=1,t._result=n)},function(n){t._status===0&&(t._status=2,t._result=n)})}}function xi(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Po:return"Fragment";case al:return"Portal";case Mf:return"Profiler";case XP:return"StrictMode";case Ff:return"Suspense";case Cv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ZP:return"Context.Consumer";case JP:return"Context.Provider";case jE:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case BE:return xi(t.type);case tR:return xi(t.render);case eR:if(t=t._status===1?t._result:null)return xi(t)}return null}function zE(t){var e="";do{e:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=t._debugOwner,i=t._debugSource,s=xi(t.type);n=null,r&&(n=xi(r.type)),r=s,s="",i?s=" (at "+i.fileName.replace(Z2,"")+":"+i.lineNumber+")":n&&(s=" (created by "+n+")"),n=`
    in `+(r||"Unknown")+s}e+=n,t=t.return}while(t);return e}function Cs(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function nR(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function n$(t){var e=nR(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function af(t){t._valueTracker||(t._valueTracker=n$(t))}function rR(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=nR(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function kv(t,e){var n=e.checked;return Dn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ab(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Cs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function iR(t,e){e=e.checked,e!=null&&UE(t,"checked",e,!1)}function xv(t,e){iR(t,e);var n=Cs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Nv(t,e.type,n):e.hasOwnProperty("defaultValue")&&Nv(t,e.type,Cs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Sb(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Nv(t,e,n){(e!=="number"||t.ownerDocument.activeElement!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function r$(t){var e="";return _m.Children.forEach(t,function(n){n!=null&&(e+=n)}),e}function Dv(t,e){return t=Dn({children:void 0},e),(e=r$(e.children))&&(t.children=e),t}function wl(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Cs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ov(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return Dn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Pb(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Cs(n)}}function sR(t,e){var n=Cs(e.value),r=Cs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Rb(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var oR={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function aR(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?aR(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var lf,lR=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!==oR.svg||"innerHTML"in t)t.innerHTML=e;else{for(lf=lf||document.createElement("div"),lf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=lf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function zc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}function uf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ll={animationend:uf("Animation","AnimationEnd"),animationiteration:uf("Animation","AnimationIteration"),animationstart:uf("Animation","AnimationStart"),transitionend:uf("Transition","TransitionEnd")},O_={},uR={};Gs&&(uR=document.createElement("div").style,"AnimationEvent"in window||(delete ll.animationend.animation,delete ll.animationiteration.animation,delete ll.animationstart.animation),"TransitionEvent"in window||delete ll.transitionend.transition);function vm(t){if(O_[t])return O_[t];if(!ll[t])return t;var e=ll[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in uR)return O_[t]=e[n];return t}var cR=vm("animationend"),dR=vm("animationiteration"),hR=vm("animationstart"),fR=vm("transitionend"),uc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cb=new(typeof WeakMap=="function"?WeakMap:Map);function WE(t){var e=Cb.get(t);return e===void 0&&(e=new Map,Cb.set(t,e)),e}function Ia(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.effectTag&1026&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function pR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function kb(t){if(Ia(t)!==t)throw Error(z(188))}function i$(t){var e=t.alternate;if(!e){if(e=Ia(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return kb(i),t;if(s===r)return kb(i),e;s=s.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function mR(t){if(t=i$(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function Ll(t,e){if(e==null)throw Error(z(30));return t==null?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function qE(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}var Bu=null;function s$(t){if(t){var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e))for(var r=0;r<e.length&&!t.isPropagationStopped();r++)vb(t,e[r],n[r]);else e&&vb(t,e,n);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function ym(t){if(t!==null&&(Bu=Ll(Bu,t)),t=Bu,Bu=null,t){if(qE(t,s$),Bu)throw Error(z(95));if(hp)throw t=Sv,hp=!1,Sv=null,t}}function HE(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}function gR(t){if(!Gs)return!1;t="on"+t;var e=t in document;return e||(e=document.createElement("div"),e.setAttribute(t,"return;"),e=typeof e[t]=="function"),e}var mp=[];function _R(t){t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>mp.length&&mp.push(t)}function vR(t,e,n,r){if(mp.length){var i=mp.pop();return i.topLevelType=t,i.eventSystemFlags=r,i.nativeEvent=e,i.targetInst=n,i}return{topLevelType:t,eventSystemFlags:r,nativeEvent:e,targetInst:n,ancestors:[]}}function yR(t){var e=t.targetInst,n=e;do{if(!n){t.ancestors.push(n);break}var r=n;if(r.tag===3)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=r.tag!==3?null:r.stateNode.containerInfo}if(!r)break;e=n.tag,e!==5&&e!==6||t.ancestors.push(n),n=Bd(r)}while(n);for(n=0;n<t.ancestors.length;n++){e=t.ancestors[n];var i=HE(t.nativeEvent);r=t.topLevelType;var s=t.nativeEvent,o=t.eventSystemFlags;n===0&&(o|=64);for(var a=null,l=0;l<pp.length;l++){var c=pp[l];c&&(c=c.extractEvents(r,e,s,i,o))&&(a=Ll(a,c))}ym(a)}}function Vv(t,e,n){if(!n.has(t)){switch(t){case"scroll":cc(e,"scroll",!0);break;case"focus":case"blur":cc(e,"focus",!0),cc(e,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":gR(t)&&cc(e,t,!0);break;case"invalid":case"submit":case"reset":break;default:uc.indexOf(t)===-1&&dt(t,e)}n.set(t,null)}}var ER,KE,wR,Mv=!1,Jr=[],ys=null,Es=null,ws=null,Wc=new Map,qc=new Map,zu=[],Fv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),o$="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function a$(t,e){var n=WE(e);Fv.forEach(function(r){Vv(r,e,n)}),o$.forEach(function(r){Vv(r,e,n)})}function $v(t,e,n,r,i){return{blockedOn:t,topLevelType:e,eventSystemFlags:n|32,nativeEvent:i,container:r}}function xb(t,e){switch(t){case"focus":case"blur":ys=null;break;case"dragenter":case"dragleave":Es=null;break;case"mouseover":case"mouseout":ws=null;break;case"pointerover":case"pointerout":Wc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":qc.delete(e.pointerId)}}function Wu(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t=$v(e,n,r,i,s),e!==null&&(e=zd(e),e!==null&&KE(e)),t):(t.eventSystemFlags|=r,t)}function l$(t,e,n,r,i){switch(e){case"focus":return ys=Wu(ys,t,e,n,r,i),!0;case"dragenter":return Es=Wu(Es,t,e,n,r,i),!0;case"mouseover":return ws=Wu(ws,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Wc.set(s,Wu(Wc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,qc.set(s,Wu(qc.get(s)||null,t,e,n,r,i)),!0}return!1}function u$(t){var e=Bd(t.target);if(e!==null){var n=Ia(e);if(n!==null){if(e=n.tag,e===13){if(e=pR(n),e!==null){t.blockedOn=e,on.unstable_runWithPriority(t.priority,function(){wR(n)});return}}else if(e===3&&n.stateNode.hydrate){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $f(t){if(t.blockedOn!==null)return!1;var e=QE(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);if(e!==null){var n=zd(e);return n!==null&&KE(n),t.blockedOn=e,!1}return!0}function Nb(t,e,n){$f(t)&&n.delete(e)}function c$(){for(Mv=!1;0<Jr.length;){var t=Jr[0];if(t.blockedOn!==null){t=zd(t.blockedOn),t!==null&&ER(t);break}var e=QE(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);e!==null?t.blockedOn=e:Jr.shift()}ys!==null&&$f(ys)&&(ys=null),Es!==null&&$f(Es)&&(Es=null),ws!==null&&$f(ws)&&(ws=null),Wc.forEach(Nb),qc.forEach(Nb)}function qu(t,e){t.blockedOn===e&&(t.blockedOn=null,Mv||(Mv=!0,on.unstable_scheduleCallback(on.unstable_NormalPriority,c$)))}function TR(t){function e(i){return qu(i,t)}if(0<Jr.length){qu(Jr[0],t);for(var n=1;n<Jr.length;n++){var r=Jr[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ys!==null&&qu(ys,t),Es!==null&&qu(Es,t),ws!==null&&qu(ws,t),Wc.forEach(e),qc.forEach(e),n=0;n<zu.length;n++)r=zu[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<zu.length&&(n=zu[0],n.blockedOn===null);)u$(n),n.blockedOn===null&&zu.shift()}var IR={},bR=new Map,GE=new Map,d$=["abort","abort",cR,"animationEnd",dR,"animationIteration",hR,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",fR,"transitionEnd","waiting","waiting"];function YE(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1],s="on"+(i[0].toUpperCase()+i.slice(1));s={phasedRegistrationNames:{bubbled:s,captured:s+"Capture"},dependencies:[r],eventPriority:e},GE.set(r,e),bR.set(r,s),IR[i]=s}}YE("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);YE("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);YE(d$,2);for(var Db="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),L_=0;L_<Db.length;L_++)GE.set(Db[L_],0);var h$=on.unstable_UserBlockingPriority,f$=on.unstable_runWithPriority,Uf=!0;function dt(t,e){cc(e,t,!1)}function cc(t,e,n){var r=GE.get(e);switch(r===void 0?2:r){case 0:r=p$.bind(null,e,1,t);break;case 1:r=m$.bind(null,e,1,t);break;default:r=Em.bind(null,e,1,t)}n?t.addEventListener(e,r,!0):t.addEventListener(e,r,!1)}function p$(t,e,n,r){Do||VE();var i=Em,s=Do;Do=!0;try{GP(i,t,e,n,r)}finally{(Do=s)||ME()}}function m$(t,e,n,r){f$(h$,Em.bind(null,t,e,n,r))}function Em(t,e,n,r){if(Uf)if(0<Jr.length&&-1<Fv.indexOf(t))t=$v(null,t,e,n,r),Jr.push(t);else{var i=QE(t,e,n,r);if(i===null)xb(t,r);else if(-1<Fv.indexOf(t))t=$v(i,t,e,n,r),Jr.push(t);else if(!l$(i,t,e,n,r)){xb(t,r),t=vR(t,r,null,e);try{QP(yR,t)}finally{_R(t)}}}}function QE(t,e,n,r){if(n=HE(r),n=Bd(n),n!==null){var i=Ia(n);if(i===null)n=null;else{var s=i.tag;if(s===13){if(n=pR(i),n!==null)return n;n=null}else if(s===3){if(i.stateNode.hydrate)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}t=vR(t,r,n,e);try{QP(yR,t)}finally{_R(t)}return null}var Tc={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},g$=["Webkit","ms","Moz","O"];Object.keys(Tc).forEach(function(t){g$.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Tc[e]=Tc[t]})});function AR(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Tc.hasOwnProperty(t)&&Tc[t]?(""+e).trim():e+"px"}function SR(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=AR(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var _$=Dn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Uv(t,e){if(e){if(_$[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t,""));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62,""))}}function jv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ob=oR.html;function Ti(t,e){t=t.nodeType===9||t.nodeType===11?t:t.ownerDocument;var n=WE(t);e=OE[e];for(var r=0;r<e.length;r++)Vv(e[r],t,n)}function gp(){}function Bv(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Lb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vb(t,e){var n=Lb(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Lb(n)}}function PR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?PR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Mb(){for(var t=window,e=Bv();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Bv(t.document)}return e}function zv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var RR="$",CR="/$",XE="$?",JE="$!",V_=null,M_=null;function kR(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Wv(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var F_=typeof setTimeout=="function"?setTimeout:void 0,v$=typeof clearTimeout=="function"?clearTimeout:void 0;function Tl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function Fb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n===RR||n===JE||n===XE){if(e===0)return t;e--}else n===CR&&e++}t=t.previousSibling}return null}var ZE=Math.random().toString(36).slice(2),ds="__reactInternalInstance$"+ZE,_p="__reactEventHandlers$"+ZE,jd="__reactContainere$"+ZE;function Bd(t){var e=t[ds];if(e)return e;for(var n=t.parentNode;n;){if(e=n[jd]||n[ds]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Fb(t);t!==null;){if(n=t[ds])return n;t=Fb(t)}return e}t=n,n=t.parentNode}return null}function zd(t){return t=t[ds]||t[jd],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function na(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function ew(t){return t[_p]||null}function Ii(t){do t=t.return;while(t&&t.tag!==5);return t||null}function xR(t,e){var n=t.stateNode;if(!n)return null;var r=DE(n);if(!r)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}function $b(t,e,n){(e=xR(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=Ll(n._dispatchListeners,e),n._dispatchInstances=Ll(n._dispatchInstances,t))}function y$(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,n=[];e;)n.push(e),e=Ii(e);for(e=n.length;0<e--;)$b(n[e],"captured",t);for(e=0;e<n.length;e++)$b(n[e],"bubbled",t)}}function qv(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=xR(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=Ll(n._dispatchListeners,e),n._dispatchInstances=Ll(n._dispatchInstances,t))}function E$(t){t&&t.dispatchConfig.registrationName&&qv(t._targetInst,null,t)}function Vl(t){qE(t,y$)}var hs=null,tw=null,jf=null;function NR(){if(jf)return jf;var t,e=tw,n=e.length,r,i="value"in hs?hs.value:hs.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return jf=i.slice(t,1<r?1-r:void 0)}function Bf(){return!0}function vp(){return!1}function ar(t,e,n,r){this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface;for(var i in t)t.hasOwnProperty(i)&&((e=t[i])?this[i]=e(n):i==="target"?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(n.defaultPrevented!=null?n.defaultPrevented:n.returnValue===!1)?Bf:vp,this.isPropagationStopped=vp,this}Dn(ar.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Bf)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Bf)},persist:function(){this.isPersistent=Bf},isPersistent:vp,destructor:function(){var t=this.constructor.Interface,e;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=vp,this._dispatchInstances=this._dispatchListeners=null}});ar.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};ar.extend=function(t){function e(){}function n(){return r.apply(this,arguments)}var r=this;e.prototype=r.prototype;var i=new e;return Dn(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=Dn({},r.Interface,t),n.extend=r.extend,DR(n),n};DR(ar);function w$(t,e,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,t,e,n,r),i}return new this(t,e,n,r)}function T$(t){if(!(t instanceof this))throw Error(z(279));t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function DR(t){t.eventPool=[],t.getPooled=w$,t.release=T$}var I$=ar.extend({data:null}),b$=ar.extend({data:null}),A$=[9,13,27,32],nw=Gs&&"CompositionEvent"in window,Ic=null;Gs&&"documentMode"in document&&(Ic=document.documentMode);var S$=Gs&&"TextEvent"in window&&!Ic,OR=Gs&&(!nw||Ic&&8<Ic&&11>=Ic),Ub=" ",wi={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},jb=!1;function LR(t,e){switch(t){case"keyup":return A$.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function VR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ul=!1;function P$(t,e){switch(t){case"compositionend":return VR(e);case"keypress":return e.which!==32?null:(jb=!0,Ub);case"textInput":return t=e.data,t===Ub&&jb?null:t;default:return null}}function R$(t,e){if(ul)return t==="compositionend"||!nw&&LR(t,e)?(t=NR(),jf=tw=hs=null,ul=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return OR&&e.locale!=="ko"?null:e.data;default:return null}}var C$={eventTypes:wi,extractEvents:function(t,e,n,r){var i;if(nw)e:{switch(t){case"compositionstart":var s=wi.compositionStart;break e;case"compositionend":s=wi.compositionEnd;break e;case"compositionupdate":s=wi.compositionUpdate;break e}s=void 0}else ul?LR(t,n)&&(s=wi.compositionEnd):t==="keydown"&&n.keyCode===229&&(s=wi.compositionStart);return s?(OR&&n.locale!=="ko"&&(ul||s!==wi.compositionStart?s===wi.compositionEnd&&ul&&(i=NR()):(hs=r,tw="value"in hs?hs.value:hs.textContent,ul=!0)),s=I$.getPooled(s,e,n,r),i?s.data=i:(i=VR(n),i!==null&&(s.data=i)),Vl(s),i=s):i=null,(t=S$?P$(t,n):R$(t,n))?(e=b$.getPooled(wi.beforeInput,e,n,r),e.data=t,Vl(e)):e=null,i===null?e:e===null?i:[i,e]}},k$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function MR(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!k$[t.type]:e==="textarea"}var FR={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function $R(t,e,n){return t=ar.getPooled(FR.change,t,e,n),t.type="change",HP(n),Vl(t),t}var bc=null,Hc=null;function x$(t){ym(t)}function wm(t){var e=na(t);if(rR(e))return t}function N$(t,e){if(t==="change")return e}var Hv=!1;Gs&&(Hv=gR("input")&&(!document.documentMode||9<document.documentMode));function Bb(){bc&&(bc.detachEvent("onpropertychange",UR),Hc=bc=null)}function UR(t){if(t.propertyName==="value"&&wm(Hc))if(t=$R(Hc,t,HE(t)),Do)ym(t);else{Do=!0;try{LE(x$,t)}finally{Do=!1,ME()}}}function D$(t,e,n){t==="focus"?(Bb(),bc=e,Hc=n,bc.attachEvent("onpropertychange",UR)):t==="blur"&&Bb()}function O$(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wm(Hc)}function L$(t,e){if(t==="click")return wm(e)}function V$(t,e){if(t==="input"||t==="change")return wm(e)}var M$={eventTypes:FR,_isInputEventSupported:Hv,extractEvents:function(t,e,n,r){var i=e?na(e):window,s=i.nodeName&&i.nodeName.toLowerCase();if(s==="select"||s==="input"&&i.type==="file")var o=N$;else if(MR(i))if(Hv)o=V$;else{o=O$;var a=D$}else(s=i.nodeName)&&s.toLowerCase()==="input"&&(i.type==="checkbox"||i.type==="radio")&&(o=L$);if(o&&(o=o(t,e)))return $R(o,n,r);a&&a(t,i,e),t==="blur"&&(t=i._wrapperState)&&t.controlled&&i.type==="number"&&Nv(i,"number",i.value)}},Wd=ar.extend({view:null,detail:null}),F$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $$(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=F$[t])?!!e[t]:!1}function rw(){return $$}var zb=0,Wb=0,qb=!1,Hb=!1,qd=Wd.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:rw,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=zb;return zb=t.screenX,qb?t.type==="mousemove"?t.screenX-e:0:(qb=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=Wb;return Wb=t.screenY,Hb?t.type==="mousemove"?t.screenY-e:0:(Hb=!0,0)}}),jR=qd.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Hu={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},U$={eventTypes:Hu,extractEvents:function(t,e,n,r,i){var s=t==="mouseover"||t==="pointerover",o=t==="mouseout"||t==="pointerout";if(s&&!(i&32)&&(n.relatedTarget||n.fromElement)||!o&&!s)return null;if(s=r.window===r?r:(s=r.ownerDocument)?s.defaultView||s.parentWindow:window,o){if(o=e,e=(e=n.relatedTarget||n.toElement)?Bd(e):null,e!==null){var a=Ia(e);(e!==a||e.tag!==5&&e.tag!==6)&&(e=null)}}else o=null;if(o===e)return null;if(t==="mouseout"||t==="mouseover")var l=qd,c=Hu.mouseLeave,d=Hu.mouseEnter,f="mouse";else(t==="pointerout"||t==="pointerover")&&(l=jR,c=Hu.pointerLeave,d=Hu.pointerEnter,f="pointer");if(t=o==null?s:na(o),s=e==null?s:na(e),c=l.getPooled(c,o,n,r),c.type=f+"leave",c.target=t,c.relatedTarget=s,n=l.getPooled(d,e,n,r),n.type=f+"enter",n.target=s,n.relatedTarget=t,r=o,f=e,r&&f)e:{for(l=r,d=f,o=0,t=l;t;t=Ii(t))o++;for(t=0,e=d;e;e=Ii(e))t++;for(;0<o-t;)l=Ii(l),o--;for(;0<t-o;)d=Ii(d),t--;for(;o--;){if(l===d||l===d.alternate)break e;l=Ii(l),d=Ii(d)}l=null}else l=null;for(d=l,l=[];r&&r!==d&&(o=r.alternate,!(o!==null&&o===d));)l.push(r),r=Ii(r);for(r=[];f&&f!==d&&(o=f.alternate,!(o!==null&&o===d));)r.push(f),f=Ii(f);for(f=0;f<l.length;f++)qv(l[f],"bubbled",c);for(f=r.length;0<f--;)qv(r[f],"captured",n);return i&64?[c,n]:[c]}};function j$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ra=typeof Object.is=="function"?Object.is:j$,B$=Object.prototype.hasOwnProperty;function Kc(t,e){if(ra(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!B$.call(e,n[r])||!ra(t[n[r]],e[n[r]]))return!1;return!0}var z$=Gs&&"documentMode"in document&&11>=document.documentMode,BR={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},cl=null,Kv=null,Ac=null,Gv=!1;function Kb(t,e){var n=e.window===e?e.document:e.nodeType===9?e:e.ownerDocument;return Gv||cl==null||cl!==Bv(n)?null:(n=cl,"selectionStart"in n&&zv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ac&&Kc(Ac,n)?null:(Ac=n,t=ar.getPooled(BR.select,Kv,t,e),t.type="select",t.target=cl,Vl(t),t))}var W$={eventTypes:BR,extractEvents:function(t,e,n,r,i,s){if(i=s||(r.window===r?r.document:r.nodeType===9?r:r.ownerDocument),!(s=!i)){e:{i=WE(i),s=OE.onSelect;for(var o=0;o<s.length;o++)if(!i.has(s[o])){i=!1;break e}i=!0}s=!i}if(s)return null;switch(i=e?na(e):window,t){case"focus":(MR(i)||i.contentEditable==="true")&&(cl=i,Kv=e,Ac=null);break;case"blur":Ac=Kv=cl=null;break;case"mousedown":Gv=!0;break;case"contextmenu":case"mouseup":case"dragend":return Gv=!1,Kb(n,r);case"selectionchange":if(z$)break;case"keydown":case"keyup":return Kb(n,r)}return null}},q$=ar.extend({animationName:null,elapsedTime:null,pseudoElement:null}),H$=ar.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),K$=Wd.extend({relatedTarget:null});function zf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}var G$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Y$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Q$=Wd.extend({key:function(t){if(t.key){var e=G$[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=zf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Y$[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:rw,charCode:function(t){return t.type==="keypress"?zf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),X$=qd.extend({dataTransfer:null}),J$=Wd.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:rw}),Z$=ar.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),eU=qd.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),tU={eventTypes:IR,extractEvents:function(t,e,n,r){var i=bR.get(t);if(!i)return null;switch(t){case"keypress":if(zf(n)===0)return null;case"keydown":case"keyup":t=Q$;break;case"blur":case"focus":t=K$;break;case"click":if(n.button===2)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=qd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=X$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=J$;break;case cR:case dR:case hR:t=q$;break;case fR:t=Z$;break;case"scroll":t=Wd;break;case"wheel":t=eU;break;case"copy":case"cut":case"paste":t=H$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=jR;break;default:t=ar}return e=t.getPooled(i,e,n,r),Vl(e),e}};if(fp)throw Error(z(101));fp=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" "));WP();var nU=zd;DE=ew;BP=nU;zP=na;qP({SimpleEventPlugin:tU,EnterLeaveEventPlugin:U$,ChangeEventPlugin:M$,SelectEventPlugin:W$,BeforeInputEventPlugin:C$});var Yv=[],dl=-1;function lt(t){0>dl||(t.current=Yv[dl],Yv[dl]=null,dl--)}function Ct(t,e){dl++,Yv[dl]=t.current,t.current=e}var ks={},En={current:ks},Bn={current:!1},ia=ks;function Ml(t,e){var n=t.type.contextTypes;if(!n)return ks;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function zn(t){return t=t.childContextTypes,t!=null}function yp(){lt(Bn),lt(En)}function Gb(t,e,n){if(En.current!==ks)throw Error(z(168));Ct(En,e),Ct(Bn,n)}function zR(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(z(108,xi(e)||"Unknown",i));return Dn({},n,{},r)}function Wf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ks,ia=En.current,Ct(En,t),Ct(Bn,Bn.current),!0}function Yb(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=zR(t,e,ia),r.__reactInternalMemoizedMergedChildContext=t,lt(Bn),lt(En),Ct(En,t)):lt(Bn),Ct(Bn,n)}var rU=on.unstable_runWithPriority,iw=on.unstable_scheduleCallback,WR=on.unstable_cancelCallback,Qb=on.unstable_requestPaint,Qv=on.unstable_now,iU=on.unstable_getCurrentPriorityLevel,Tm=on.unstable_ImmediatePriority,qR=on.unstable_UserBlockingPriority,HR=on.unstable_NormalPriority,KR=on.unstable_LowPriority,GR=on.unstable_IdlePriority,YR={},sU=on.unstable_shouldYield,oU=Qb!==void 0?Qb:function(){},bi=null,qf=null,$_=!1,Xb=Qv(),Er=1e4>Xb?Qv:function(){return Qv()-Xb};function Im(){switch(iU()){case Tm:return 99;case qR:return 98;case HR:return 97;case KR:return 96;case GR:return 95;default:throw Error(z(332))}}function QR(t){switch(t){case 99:return Tm;case 98:return qR;case 97:return HR;case 96:return KR;case 95:return GR;default:throw Error(z(332))}}function xs(t,e){return t=QR(t),rU(t,e)}function XR(t,e,n){return t=QR(t),iw(t,e,n)}function Jb(t){return bi===null?(bi=[t],qf=iw(Tm,JR)):bi.push(t),YR}function _i(){if(qf!==null){var t=qf;qf=null,WR(t)}JR()}function JR(){if(!$_&&bi!==null){$_=!0;var t=0;try{var e=bi;xs(99,function(){for(;t<e.length;t++){var n=e[t];do n=n(!0);while(n!==null)}}),bi=null}catch(n){throw bi!==null&&(bi=bi.slice(t+1)),iw(Tm,_i),n}finally{$_=!1}}}function Hf(t,e,n){return n/=10,1073741821-(((1073741821-t+e/10)/n|0)+1)*n}function Nr(t,e){if(t&&t.defaultProps){e=Dn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n])}return e}var Ep={current:null},wp=null,hl=null,Tp=null;function sw(){Tp=hl=wp=null}function ow(t){var e=Ep.current;lt(Ep),t.type._context._currentValue=e}function ZR(t,e){for(;t!==null;){var n=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,n!==null&&n.childExpirationTime<e&&(n.childExpirationTime=e);else if(n!==null&&n.childExpirationTime<e)n.childExpirationTime=e;else break;t=t.return}}function Il(t,e){wp=t,Tp=hl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.expirationTime>=e&&(Zr=!0),t.firstContext=null)}function Ir(t,e){if(Tp!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(Tp=t,e=1073741823),e={context:t,observedBits:e,next:null},hl===null){if(wp===null)throw Error(z(308));hl=e,wp.dependencies={expirationTime:0,firstContext:e,responders:null}}else hl=hl.next=e;return t._currentValue}var ls=!1;function aw(t){t.updateQueue={baseState:t.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function lw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,baseQueue:t.baseQueue,shared:t.shared,effects:t.effects})}function Ts(t,e){return t={expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null},t.next=t}function Is(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function Zb(t,e){var n=t.alternate;n!==null&&lw(n,t),t=t.updateQueue,n=t.baseQueue,n===null?(t.baseQueue=e.next=e,e.next=e):(e.next=n.next,n.next=e)}function Gc(t,e,n,r){var i=t.updateQueue;ls=!1;var s=i.baseQueue,o=i.shared.pending;if(o!==null){if(s!==null){var a=s.next;s.next=o.next,o.next=a}s=o,i.shared.pending=null,a=t.alternate,a!==null&&(a=a.updateQueue,a!==null&&(a.baseQueue=o))}if(s!==null){a=s.next;var l=i.baseState,c=0,d=null,f=null,m=null;if(a!==null){var v=a;do{if(o=v.expirationTime,o<r){var b={expirationTime:v.expirationTime,suspenseConfig:v.suspenseConfig,tag:v.tag,payload:v.payload,callback:v.callback,next:null};m===null?(f=m=b,d=l):m=m.next=b,o>c&&(c=o)}else{m!==null&&(m=m.next={expirationTime:1073741823,suspenseConfig:v.suspenseConfig,tag:v.tag,payload:v.payload,callback:v.callback,next:null}),CC(o,v.suspenseConfig);e:{var I=t,_=v;switch(o=e,b=n,_.tag){case 1:if(I=_.payload,typeof I=="function"){l=I.call(b,l,o);break e}l=I;break e;case 3:I.effectTag=I.effectTag&-4097|64;case 0:if(I=_.payload,o=typeof I=="function"?I.call(b,l,o):I,o==null)break e;l=Dn({},l,o);break e;case 2:ls=!0}}v.callback!==null&&(t.effectTag|=32,o=i.effects,o===null?i.effects=[v]:o.push(v))}if(v=v.next,v===null||v===a){if(o=i.shared.pending,o===null)break;v=s.next=o.next,o.next=a,i.baseQueue=s=o,i.shared.pending=null}}while(!0)}m===null?d=l:m.next=f,i.baseState=d,i.baseQueue=m,Rm(c),t.expirationTime=c,t.memoizedState=l}}function eA(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=i,i=n,typeof r!="function")throw Error(z(191,r));r.call(i)}}}var Sc=Vr.ReactCurrentBatchConfig,eC=new _m.Component().refs;function Ip(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Dn({},e,n),t.memoizedState=n,t.expirationTime===0&&(t.updateQueue.baseState=n)}var bm={isMounted:function(t){return(t=t._reactInternalFiber)?Ia(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var r=ui(),i=Sc.suspense;r=Yo(r,t,i),i=Ts(r,i),i.payload=e,n!=null&&(i.callback=n),Is(t,i),As(t,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var r=ui(),i=Sc.suspense;r=Yo(r,t,i),i=Ts(r,i),i.tag=1,i.payload=e,n!=null&&(i.callback=n),Is(t,i),As(t,r)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=ui(),r=Sc.suspense;n=Yo(n,t,r),r=Ts(n,r),r.tag=2,e!=null&&(r.callback=e),Is(t,r),As(t,n)}};function tA(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Kc(n,r)||!Kc(i,s):!0}function tC(t,e,n){var r=!1,i=ks,s=e.contextType;return typeof s=="object"&&s!==null?s=Ir(s):(i=zn(e)?ia:En.current,r=e.contextTypes,s=(r=r!=null)?Ml(t,i):ks),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=bm,t.stateNode=e,e._reactInternalFiber=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function nA(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&bm.enqueueReplaceState(e,e.state,null)}function Xv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=eC,aw(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ir(s):(s=zn(e)?ia:En.current,i.context=Ml(t,s)),Gc(t,n,i,r),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ip(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&bm.enqueueReplaceState(i,i.state,null),Gc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.effectTag|=4)}var cf=Array.isArray;function Ku(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var o=r.refs;o===eC&&(o=r.refs={}),s===null?delete o[i]:o[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function df(t,e){if(t.type!=="textarea")throw Error(z(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e,""))}function nC(t){function e(_,y){if(t){var T=_.lastEffect;T!==null?(T.nextEffect=y,_.lastEffect=y):_.firstEffect=_.lastEffect=y,y.nextEffect=null,y.effectTag=8}}function n(_,y){if(!t)return null;for(;y!==null;)e(_,y),y=y.sibling;return null}function r(_,y){for(_=new Map;y!==null;)y.key!==null?_.set(y.key,y):_.set(y.index,y),y=y.sibling;return _}function i(_,y){return _=sa(_,y),_.index=0,_.sibling=null,_}function s(_,y,T){return _.index=T,t?(T=_.alternate,T!==null?(T=T.index,T<y?(_.effectTag=2,y):T):(_.effectTag=2,y)):y}function o(_){return t&&_.alternate===null&&(_.effectTag=2),_}function a(_,y,T,A){return y===null||y.tag!==6?(y=q_(T,_.mode,A),y.return=_,y):(y=i(y,T),y.return=_,y)}function l(_,y,T,A){return y!==null&&y.elementType===T.type?(A=i(y,T.props),A.ref=Ku(_,y,T),A.return=_,A):(A=Qf(T.type,T.key,T.props,null,_.mode,A),A.ref=Ku(_,y,T),A.return=_,A)}function c(_,y,T,A){return y===null||y.tag!==4||y.stateNode.containerInfo!==T.containerInfo||y.stateNode.implementation!==T.implementation?(y=H_(T,_.mode,A),y.return=_,y):(y=i(y,T.children||[]),y.return=_,y)}function d(_,y,T,A,E){return y===null||y.tag!==7?(y=ms(T,_.mode,A,E),y.return=_,y):(y=i(y,T),y.return=_,y)}function f(_,y,T){if(typeof y=="string"||typeof y=="number")return y=q_(""+y,_.mode,T),y.return=_,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case of:return T=Qf(y.type,y.key,y.props,null,_.mode,T),T.ref=Ku(_,null,y),T.return=_,T;case al:return y=H_(y,_.mode,T),y.return=_,y}if(cf(y)||ju(y))return y=ms(y,_.mode,T,null),y.return=_,y;df(_,y)}return null}function m(_,y,T,A){var E=y!==null?y.key:null;if(typeof T=="string"||typeof T=="number")return E!==null?null:a(_,y,""+T,A);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case of:return T.key===E?T.type===Po?d(_,y,T.props.children,A,E):l(_,y,T,A):null;case al:return T.key===E?c(_,y,T,A):null}if(cf(T)||ju(T))return E!==null?null:d(_,y,T,A,null);df(_,T)}return null}function v(_,y,T,A,E){if(typeof A=="string"||typeof A=="number")return _=_.get(T)||null,a(y,_,""+A,E);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case of:return _=_.get(A.key===null?T:A.key)||null,A.type===Po?d(y,_,A.props.children,E,A.key):l(y,_,A,E);case al:return _=_.get(A.key===null?T:A.key)||null,c(y,_,A,E)}if(cf(A)||ju(A))return _=_.get(T)||null,d(y,_,A,E,null);df(y,A)}return null}function b(_,y,T,A){for(var E=null,x=null,D=y,O=y=0,G=null;D!==null&&O<T.length;O++){D.index>O?(G=D,D=null):G=D.sibling;var H=m(_,D,T[O],A);if(H===null){D===null&&(D=G);break}t&&D&&H.alternate===null&&e(_,D),y=s(H,y,O),x===null?E=H:x.sibling=H,x=H,D=G}if(O===T.length)return n(_,D),E;if(D===null){for(;O<T.length;O++)D=f(_,T[O],A),D!==null&&(y=s(D,y,O),x===null?E=D:x.sibling=D,x=D);return E}for(D=r(_,D);O<T.length;O++)G=v(D,_,O,T[O],A),G!==null&&(t&&G.alternate!==null&&D.delete(G.key===null?O:G.key),y=s(G,y,O),x===null?E=G:x.sibling=G,x=G);return t&&D.forEach(function(Ce){return e(_,Ce)}),E}function I(_,y,T,A){var E=ju(T);if(typeof E!="function")throw Error(z(150));if(T=E.call(T),T==null)throw Error(z(151));for(var x=E=null,D=y,O=y=0,G=null,H=T.next();D!==null&&!H.done;O++,H=T.next()){D.index>O?(G=D,D=null):G=D.sibling;var Ce=m(_,D,H.value,A);if(Ce===null){D===null&&(D=G);break}t&&D&&Ce.alternate===null&&e(_,D),y=s(Ce,y,O),x===null?E=Ce:x.sibling=Ce,x=Ce,D=G}if(H.done)return n(_,D),E;if(D===null){for(;!H.done;O++,H=T.next())H=f(_,H.value,A),H!==null&&(y=s(H,y,O),x===null?E=H:x.sibling=H,x=H);return E}for(D=r(_,D);!H.done;O++,H=T.next())H=v(D,_,O,H.value,A),H!==null&&(t&&H.alternate!==null&&D.delete(H.key===null?O:H.key),y=s(H,y,O),x===null?E=H:x.sibling=H,x=H);return t&&D.forEach(function(De){return e(_,De)}),E}return function(_,y,T,A){var E=typeof T=="object"&&T!==null&&T.type===Po&&T.key===null;E&&(T=T.props.children);var x=typeof T=="object"&&T!==null;if(x)switch(T.$$typeof){case of:e:{for(x=T.key,E=y;E!==null;){if(E.key===x){switch(E.tag){case 7:if(T.type===Po){n(_,E.sibling),y=i(E,T.props.children),y.return=_,_=y;break e}break;default:if(E.elementType===T.type){n(_,E.sibling),y=i(E,T.props),y.ref=Ku(_,E,T),y.return=_,_=y;break e}}n(_,E);break}else e(_,E);E=E.sibling}T.type===Po?(y=ms(T.props.children,_.mode,A,T.key),y.return=_,_=y):(A=Qf(T.type,T.key,T.props,null,_.mode,A),A.ref=Ku(_,y,T),A.return=_,_=A)}return o(_);case al:e:{for(E=T.key;y!==null;){if(y.key===E)if(y.tag===4&&y.stateNode.containerInfo===T.containerInfo&&y.stateNode.implementation===T.implementation){n(_,y.sibling),y=i(y,T.children||[]),y.return=_,_=y;break e}else{n(_,y);break}else e(_,y);y=y.sibling}y=H_(T,_.mode,A),y.return=_,_=y}return o(_)}if(typeof T=="string"||typeof T=="number")return T=""+T,y!==null&&y.tag===6?(n(_,y.sibling),y=i(y,T),y.return=_,_=y):(n(_,y),y=q_(T,_.mode,A),y.return=_,_=y),o(_);if(cf(T))return b(_,y,T,A);if(ju(T))return I(_,y,T,A);if(x&&df(_,T),typeof T>"u"&&!E)switch(_.tag){case 1:case 0:throw _=_.type,Error(z(152,_.displayName||_.name||"Component"))}return n(_,y)}}var Fl=nC(!0),uw=nC(!1),Hd={},li={current:Hd},Yc={current:Hd},Qc={current:Hd};function Oo(t){if(t===Hd)throw Error(z(174));return t}function Jv(t,e){switch(Ct(Qc,e),Ct(Yc,t),Ct(li,Hd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Lv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Lv(e,t)}lt(li),Ct(li,e)}function $l(){lt(li),lt(Yc),lt(Qc)}function rA(t){Oo(Qc.current);var e=Oo(li.current),n=Lv(e,t.type);e!==n&&(Ct(Yc,t),Ct(li,n))}function cw(t){Yc.current===t&&(lt(li),lt(Yc))}var vt={current:0};function bp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data===XE||n.data===JE))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.effectTag&64)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function dw(t,e){return{responder:t,props:e}}var Kf=Vr.ReactCurrentDispatcher,Tr=Vr.ReactCurrentBatchConfig,fs=0,Lt=null,mn=null,gn=null,Ap=!1;function Zn(){throw Error(z(321))}function hw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ra(t[n],e[n]))return!1;return!0}function fw(t,e,n,r,i,s){if(fs=s,Lt=e,e.memoizedState=null,e.updateQueue=null,e.expirationTime=0,Kf.current=t===null||t.memoizedState===null?aU:lU,t=n(r,i),e.expirationTime===fs){s=0;do{if(e.expirationTime=0,!(25>s))throw Error(z(301));s+=1,gn=mn=null,e.updateQueue=null,Kf.current=uU,t=n(r,i)}while(e.expirationTime===fs)}if(Kf.current=Rp,e=mn!==null&&mn.next!==null,fs=0,gn=mn=Lt=null,Ap=!1,e)throw Error(z(300));return t}function bl(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gn===null?Lt.memoizedState=gn=t:gn=gn.next=t,gn}function iu(){if(mn===null){var t=Lt.alternate;t=t!==null?t.memoizedState:null}else t=mn.next;var e=gn===null?Lt.memoizedState:gn.next;if(e!==null)gn=e,mn=t;else{if(t===null)throw Error(z(310));mn=t,t={memoizedState:mn.memoizedState,baseState:mn.baseState,baseQueue:mn.baseQueue,queue:mn.queue,next:null},gn===null?Lt.memoizedState=gn=t:gn=gn.next=t}return gn}function Ho(t,e){return typeof e=="function"?e(t):e}function hf(t){var e=iu(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=mn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){i=i.next,r=r.baseState;var a=o=s=null,l=i;do{var c=l.expirationTime;if(c<fs){var d={expirationTime:l.expirationTime,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};a===null?(o=a=d,s=r):a=a.next=d,c>Lt.expirationTime&&(Lt.expirationTime=c,Rm(c))}else a!==null&&(a=a.next={expirationTime:1073741823,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),CC(c,l.suspenseConfig),r=l.eagerReducer===t?l.eagerState:t(r,l.action);l=l.next}while(l!==null&&l!==i);a===null?s=r:a.next=o,ra(r,e.memoizedState)||(Zr=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=a,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function ff(t){var e=iu(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ra(s,e.memoizedState)||(Zr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function U_(t){var e=bl();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:t},t=t.dispatch=lC.bind(null,Lt,t),[e.memoizedState,t]}function Zv(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Lt.updateQueue,e===null?(e={lastEffect:null},Lt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function rC(){return iu().memoizedState}function ey(t,e,n,r){var i=bl();Lt.effectTag|=t,i.memoizedState=Zv(1|e,n,void 0,r===void 0?null:r)}function pw(t,e,n,r){var i=iu();r=r===void 0?null:r;var s=void 0;if(mn!==null){var o=mn.memoizedState;if(s=o.destroy,r!==null&&hw(r,o.deps)){Zv(e,n,s,r);return}}Lt.effectTag|=t,i.memoizedState=Zv(1|e,n,s,r)}function iA(t,e){return ey(516,4,t,e)}function Sp(t,e){return pw(516,4,t,e)}function iC(t,e){return pw(4,2,t,e)}function sC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function oC(t,e,n){return n=n!=null?n.concat([t]):null,pw(4,2,sC.bind(null,e,t),n)}function mw(){}function sA(t,e){return bl().memoizedState=[t,e===void 0?null:e],t}function Pp(t,e){var n=iu();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&hw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function aC(t,e){var n=iu();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&hw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function gw(t,e,n){var r=Im();xs(98>r?98:r,function(){t(!0)}),xs(97<r?97:r,function(){var i=Tr.suspense;Tr.suspense=e===void 0?null:e;try{t(!1),n()}finally{Tr.suspense=i}})}function lC(t,e,n){var r=ui(),i=Sc.suspense;r=Yo(r,t,i),i={expirationTime:r,suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var s=e.pending;if(s===null?i.next=i:(i.next=s.next,s.next=i),e.pending=i,s=t.alternate,t===Lt||s!==null&&s===Lt)Ap=!0,i.expirationTime=fs,Lt.expirationTime=fs;else{if(t.expirationTime===0&&(s===null||s.expirationTime===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.eagerReducer=s,i.eagerState=a,ra(a,o))return}catch{}finally{}As(t,r)}}var Rp={readContext:Ir,useCallback:Zn,useContext:Zn,useEffect:Zn,useImperativeHandle:Zn,useLayoutEffect:Zn,useMemo:Zn,useReducer:Zn,useRef:Zn,useState:Zn,useDebugValue:Zn,useResponder:Zn,useDeferredValue:Zn,useTransition:Zn},aU={readContext:Ir,useCallback:sA,useContext:Ir,useEffect:iA,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ey(4,2,sC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ey(4,2,t,e)},useMemo:function(t,e){var n=bl();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=bl();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=lC.bind(null,Lt,t),[r.memoizedState,t]},useRef:function(t){var e=bl();return t={current:t},e.memoizedState=t},useState:U_,useDebugValue:mw,useResponder:dw,useDeferredValue:function(t,e){var n=U_(t),r=n[0],i=n[1];return iA(function(){var s=Tr.suspense;Tr.suspense=e===void 0?null:e;try{i(t)}finally{Tr.suspense=s}},[t,e]),r},useTransition:function(t){var e=U_(!1),n=e[0];return e=e[1],[sA(gw.bind(null,e,t),[e,t]),n]}},lU={readContext:Ir,useCallback:Pp,useContext:Ir,useEffect:Sp,useImperativeHandle:oC,useLayoutEffect:iC,useMemo:aC,useReducer:hf,useRef:rC,useState:function(){return hf(Ho)},useDebugValue:mw,useResponder:dw,useDeferredValue:function(t,e){var n=hf(Ho),r=n[0],i=n[1];return Sp(function(){var s=Tr.suspense;Tr.suspense=e===void 0?null:e;try{i(t)}finally{Tr.suspense=s}},[t,e]),r},useTransition:function(t){var e=hf(Ho),n=e[0];return e=e[1],[Pp(gw.bind(null,e,t),[e,t]),n]}},uU={readContext:Ir,useCallback:Pp,useContext:Ir,useEffect:Sp,useImperativeHandle:oC,useLayoutEffect:iC,useMemo:aC,useReducer:ff,useRef:rC,useState:function(){return ff(Ho)},useDebugValue:mw,useResponder:dw,useDeferredValue:function(t,e){var n=ff(Ho),r=n[0],i=n[1];return Sp(function(){var s=Tr.suspense;Tr.suspense=e===void 0?null:e;try{i(t)}finally{Tr.suspense=s}},[t,e]),r},useTransition:function(t){var e=ff(Ho),n=e[0];return e=e[1],[Pp(gw.bind(null,e,t),[e,t]),n]}},Si=null,ps=null,Ko=!1;function uC(t,e){var n=ei(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,t.lastEffect!==null?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function oA(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function ty(t){if(Ko){var e=ps;if(e){var n=e;if(!oA(t,e)){if(e=Tl(n.nextSibling),!e||!oA(t,e)){t.effectTag=t.effectTag&-1025|2,Ko=!1,Si=t;return}uC(Si,n)}Si=t,ps=Tl(e.firstChild)}else t.effectTag=t.effectTag&-1025|2,Ko=!1,Si=t}}function aA(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Si=t}function pf(t){if(t!==Si)return!1;if(!Ko)return aA(t),Ko=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!Wv(e,t.memoizedProps))for(e=ps;e;)uC(t,e),e=Tl(e.nextSibling);if(aA(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n===CR){if(e===0){ps=Tl(t.nextSibling);break e}e--}else n!==RR&&n!==JE&&n!==XE||e++}t=t.nextSibling}ps=null}}else ps=Si?Tl(t.stateNode.nextSibling):null;return!0}function j_(){ps=Si=null,Ko=!1}var cU=Vr.ReactCurrentOwner,Zr=!1;function er(t,e,n,r){e.child=t===null?uw(e,null,n,r):Fl(e,t.child,n,r)}function lA(t,e,n,r,i){n=n.render;var s=e.ref;return Il(e,i),r=fw(t,e,n,r,s,i),t!==null&&!Zr?(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),Pi(t,e,i)):(e.effectTag|=1,er(t,e,r,i),e.child)}function uA(t,e,n,r,i,s){if(t===null){var o=n.type;return typeof o=="function"&&!ww(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,cC(t,e,o,r,i,s)):(t=Qf(n.type,null,r,null,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}return o=t.child,i<s&&(i=o.memoizedProps,n=n.compare,n=n!==null?n:Kc,n(i,r)&&t.ref===e.ref)?Pi(t,e,s):(e.effectTag|=1,t=sa(o,r),t.ref=e.ref,t.return=e,e.child=t)}function cC(t,e,n,r,i,s){return t!==null&&Kc(t.memoizedProps,r)&&t.ref===e.ref&&(Zr=!1,i<s)?(e.expirationTime=t.expirationTime,Pi(t,e,s)):ny(t,e,n,r,s)}function dC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.effectTag|=128)}function ny(t,e,n,r,i){var s=zn(n)?ia:En.current;return s=Ml(e,s),Il(e,i),n=fw(t,e,n,r,s,i),t!==null&&!Zr?(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),Pi(t,e,i)):(e.effectTag|=1,er(t,e,n,i),e.child)}function cA(t,e,n,r,i){if(zn(n)){var s=!0;Wf(e)}else s=!1;if(Il(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.effectTag|=2),tC(e,n,r),Xv(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ir(c):(c=zn(n)?ia:En.current,c=Ml(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&nA(e,o,r,c),ls=!1;var m=e.memoizedState;o.state=m,Gc(e,r,o,i),l=e.memoizedState,a!==r||m!==l||Bn.current||ls?(typeof d=="function"&&(Ip(e,n,d,r),l=e.memoizedState),(a=ls||tA(e,n,a,r,m,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.effectTag|=4)):(typeof o.componentDidMount=="function"&&(e.effectTag|=4),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.effectTag|=4),r=!1)}else o=e.stateNode,lw(t,e),a=e.memoizedProps,o.props=e.type===e.elementType?a:Nr(e.type,a),l=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ir(c):(c=zn(n)?ia:En.current,c=Ml(e,c)),d=n.getDerivedStateFromProps,(f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&nA(e,o,r,c),ls=!1,l=e.memoizedState,o.state=l,Gc(e,r,o,i),m=e.memoizedState,a!==r||l!==m||Bn.current||ls?(typeof d=="function"&&(Ip(e,n,d,r),m=e.memoizedState),(d=ls||tA(e,n,a,r,l,m,c))?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,c)),typeof o.componentDidUpdate=="function"&&(e.effectTag|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.effectTag|=256)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=256),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=256),r=!1);return ry(t,e,n,r,s,i)}function ry(t,e,n,r,i,s){dC(t,e);var o=(e.effectTag&64)!==0;if(!r&&!o)return i&&Yb(e,n,!1),Pi(t,e,s);r=e.stateNode,cU.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.effectTag|=1,t!==null&&o?(e.child=Fl(e,t.child,null,s),e.child=Fl(e,null,a,s)):er(t,e,a,s),e.memoizedState=r.state,i&&Yb(e,n,!0),e.child}function dA(t){var e=t.stateNode;e.pendingContext?Gb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Gb(t,e.context,!1),Jv(t,e.containerInfo)}var B_={dehydrated:null,retryTime:0};function hA(t,e,n){var r=e.mode,i=e.pendingProps,s=vt.current,o=!1,a;if((a=(e.effectTag&64)!==0)||(a=(s&2)!==0&&(t===null||t.memoizedState!==null)),a?(o=!0,e.effectTag&=-65):t!==null&&t.memoizedState===null||i.fallback===void 0||i.unstable_avoidThisFallback===!0||(s|=1),Ct(vt,s&1),t===null){if(i.fallback!==void 0&&ty(e),o){if(o=i.fallback,i=ms(null,r,0,null),i.return=e,!(e.mode&2))for(t=e.memoizedState!==null?e.child.child:e.child,i.child=t;t!==null;)t.return=i,t=t.sibling;return n=ms(o,r,n,null),n.return=e,i.sibling=n,e.memoizedState=B_,e.child=i,n}return r=i.children,e.memoizedState=null,e.child=uw(e,null,r,n)}if(t.memoizedState!==null){if(t=t.child,r=t.sibling,o){if(i=i.fallback,n=sa(t,t.pendingProps),n.return=e,!(e.mode&2)&&(o=e.memoizedState!==null?e.child.child:e.child,o!==t.child))for(n.child=o;o!==null;)o.return=n,o=o.sibling;return r=sa(r,i),r.return=e,n.sibling=r,n.childExpirationTime=0,e.memoizedState=B_,e.child=n,r}return n=Fl(e,t.child,i.children,n),e.memoizedState=null,e.child=n}if(t=t.child,o){if(o=i.fallback,i=ms(null,r,0,null),i.return=e,i.child=t,t!==null&&(t.return=i),!(e.mode&2))for(t=e.memoizedState!==null?e.child.child:e.child,i.child=t;t!==null;)t.return=i,t=t.sibling;return n=ms(o,r,n,null),n.return=e,i.sibling=n,n.effectTag|=2,i.childExpirationTime=0,e.memoizedState=B_,e.child=i,n}return e.memoizedState=null,e.child=Fl(e,t,i.children,n)}function fA(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;n!==null&&n.expirationTime<e&&(n.expirationTime=e),ZR(t.return,e)}function z_(t,e,n,r,i,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailExpiration=0,o.tailMode=i,o.lastEffect=s)}function pA(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(er(t,e,r.children,n),r=vt.current,r&2)r=r&1|2,e.effectTag|=64;else{if(t!==null&&t.effectTag&64)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fA(t,n);else if(t.tag===19)fA(t,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ct(vt,r),!(e.mode&2))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&bp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),z_(e,!1,i,n,s,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&bp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}z_(e,!0,n,null,s,e.lastEffect);break;case"together":z_(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Pi(t,e,n){t!==null&&(e.dependencies=t.dependencies);var r=e.expirationTime;if(r!==0&&Rm(r),e.childExpirationTime<n)return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=sa(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=sa(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}var hC,iy,fC,pC;hC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};iy=function(){};fC=function(t,e,n,r,i){var s=t.memoizedProps;if(s!==r){var o=e.stateNode;switch(Oo(li.current),t=null,n){case"input":s=kv(o,s),r=kv(o,r),t=[];break;case"option":s=Dv(o,s),r=Dv(o,r),t=[];break;case"select":s=Dn({},s,{value:void 0}),r=Dn({},r,{value:void 0}),t=[];break;case"textarea":s=Ov(o,s),r=Ov(o,r),t=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(o.onclick=gp)}Uv(n,r);var a,l;n=null;for(a in s)if(!r.hasOwnProperty(a)&&s.hasOwnProperty(a)&&s[a]!=null)if(a==="style")for(l in o=s[a],o)o.hasOwnProperty(l)&&(n||(n={}),n[l]="");else a!=="dangerouslySetInnerHTML"&&a!=="children"&&a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ol.hasOwnProperty(a)?t||(t=[]):(t=t||[]).push(a,null));for(a in r){var c=r[a];if(o=s!=null?s[a]:void 0,r.hasOwnProperty(a)&&c!==o&&(c!=null||o!=null))if(a==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(t||(t=[]),t.push(a,n)),n=c;else a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(t=t||[]).push(a,c)):a==="children"?o===c||typeof c!="string"&&typeof c!="number"||(t=t||[]).push(a,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&(Ol.hasOwnProperty(a)?(c!=null&&Ti(i,a),t||o===c||(t=[])):(t=t||[]).push(a,c))}n&&(t=t||[]).push("style",n),i=t,(e.updateQueue=i)&&(e.effectTag|=4)}};pC=function(t,e,n,r){n!==r&&(e.effectTag|=4)};function mf(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function dU(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return zn(e.type)&&yp(),null;case 3:return $l(),lt(Bn),lt(En),n=e.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),t!==null&&t.child!==null||!pf(e)||(e.effectTag|=4),iy(e),null;case 5:cw(e),n=Oo(Qc.current);var i=e.type;if(t!==null&&e.stateNode!=null)fC(t,e,i,r,n),t.ref!==e.ref&&(e.effectTag|=128);else{if(!r){if(e.stateNode===null)throw Error(z(166));return null}if(t=Oo(li.current),pf(e)){r=e.stateNode,i=e.type;var s=e.memoizedProps;switch(r[ds]=e,r[_p]=s,i){case"iframe":case"object":case"embed":dt("load",r);break;case"video":case"audio":for(t=0;t<uc.length;t++)dt(uc[t],r);break;case"source":dt("error",r);break;case"img":case"image":case"link":dt("error",r),dt("load",r);break;case"form":dt("reset",r),dt("submit",r);break;case"details":dt("toggle",r);break;case"input":Ab(r,s),dt("invalid",r),Ti(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!s.multiple},dt("invalid",r),Ti(n,"onChange");break;case"textarea":Pb(r,s),dt("invalid",r),Ti(n,"onChange")}Uv(i,s),t=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(t=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(t=["children",""+a]):Ol.hasOwnProperty(o)&&a!=null&&Ti(n,o)}switch(i){case"input":af(r),Sb(r,s,!0);break;case"textarea":af(r),Rb(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=gp)}n=t,e.updateQueue=n,n!==null&&(e.effectTag|=4)}else{switch(o=n.nodeType===9?n:n.ownerDocument,t===Ob&&(t=aR(i)),t===Ob?i==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(i,{is:r.is}):(t=o.createElement(i),i==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,i),t[ds]=e,t[_p]=r,hC(t,e,!1,!1),e.stateNode=t,o=jv(i,r),i){case"iframe":case"object":case"embed":dt("load",t),a=r;break;case"video":case"audio":for(a=0;a<uc.length;a++)dt(uc[a],t);a=r;break;case"source":dt("error",t),a=r;break;case"img":case"image":case"link":dt("error",t),dt("load",t),a=r;break;case"form":dt("reset",t),dt("submit",t),a=r;break;case"details":dt("toggle",t),a=r;break;case"input":Ab(t,r),a=kv(t,r),dt("invalid",t),Ti(n,"onChange");break;case"option":a=Dv(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},a=Dn({},r,{value:void 0}),dt("invalid",t),Ti(n,"onChange");break;case"textarea":Pb(t,r),a=Ov(t,r),dt("invalid",t),Ti(n,"onChange");break;default:a=r}Uv(i,a);var l=a;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?SR(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&lR(t,c)):s==="children"?typeof c=="string"?(i!=="textarea"||c!=="")&&zc(t,c):typeof c=="number"&&zc(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ol.hasOwnProperty(s)?c!=null&&Ti(n,s):c!=null&&UE(t,s,c,o))}switch(i){case"input":af(t),Sb(t,r,!1);break;case"textarea":af(t),Rb(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Cs(r.value));break;case"select":t.multiple=!!r.multiple,n=r.value,n!=null?wl(t,!!r.multiple,n,!1):r.defaultValue!=null&&wl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=gp)}kR(i,r)&&(e.effectTag|=4)}e.ref!==null&&(e.effectTag|=128)}return null;case 6:if(t&&e.stateNode!=null)pC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));n=Oo(Qc.current),Oo(li.current),pf(e)?(n=e.stateNode,r=e.memoizedProps,n[ds]=e,n.nodeValue!==r&&(e.effectTag|=4)):(n=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),n[ds]=e,e.stateNode=n)}return null;case 13:return lt(vt),r=e.memoizedState,e.effectTag&64?(e.expirationTime=n,e):(n=r!==null,r=!1,t===null?e.memoizedProps.fallback!==void 0&&pf(e):(i=t.memoizedState,r=i!==null,n||i===null||(i=t.child.sibling,i!==null&&(s=e.firstEffect,s!==null?(e.firstEffect=i,i.nextEffect=s):(e.firstEffect=e.lastEffect=i,i.nextEffect=null),i.effectTag=8))),n&&!r&&e.mode&2&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||vt.current&1?Bt===Go&&(Bt=xp):((Bt===Go||Bt===xp)&&(Bt=Am),Jc!==0&&rr!==null&&(Mo(rr,Wn),OC(rr,Jc)))),(n||r)&&(e.effectTag|=4),null);case 4:return $l(),iy(e),null;case 10:return ow(e),null;case 17:return zn(e.type)&&yp(),null;case 19:if(lt(vt),r=e.memoizedState,r===null)return null;if(i=(e.effectTag&64)!==0,s=r.rendering,s===null){if(i)mf(r,!1);else if(Bt!==Go||t!==null&&t.effectTag&64)for(s=e.child;s!==null;){if(t=bp(s),t!==null){for(e.effectTag|=64,mf(r,!1),i=t.updateQueue,i!==null&&(e.updateQueue=i,e.effectTag|=4),r.lastEffect===null&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=e.child;r!==null;)i=r,s=n,i.effectTag&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,t=i.alternate,t===null?(i.childExpirationTime=0,i.expirationTime=s,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null):(i.childExpirationTime=t.childExpirationTime,i.expirationTime=t.expirationTime,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,s=t.dependencies,i.dependencies=s===null?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),r=r.sibling;return Ct(vt,vt.current&1|2),e.child}s=s.sibling}}else{if(!i)if(t=bp(s),t!==null){if(e.effectTag|=64,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.effectTag|=4),mf(r,!0),r.tail===null&&r.tailMode==="hidden"&&!s.alternate)return e=e.lastEffect=r.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*Er()-r.renderingStartTime>r.tailExpiration&&1<n&&(e.effectTag|=64,i=!0,mf(r,!1),e.expirationTime=e.childExpirationTime=n-1);r.isBackwards?(s.sibling=e.child,e.child=s):(n=r.last,n!==null?n.sibling=s:e.child=s,r.last=s)}return r.tail!==null?(r.tailExpiration===0&&(r.tailExpiration=Er()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=Er(),n.sibling=null,e=vt.current,Ct(vt,i?e&1|2:e&1),n):null}throw Error(z(156,e.tag))}function hU(t){switch(t.tag){case 1:zn(t.type)&&yp();var e=t.effectTag;return e&4096?(t.effectTag=e&-4097|64,t):null;case 3:if($l(),lt(Bn),lt(En),e=t.effectTag,e&64)throw Error(z(285));return t.effectTag=e&-4097|64,t;case 5:return cw(t),null;case 13:return lt(vt),e=t.effectTag,e&4096?(t.effectTag=e&-4097|64,t):null;case 19:return lt(vt),null;case 4:return $l(),null;case 10:return ow(t),null;default:return null}}function _w(t,e){return{value:t,source:e,stack:zE(e)}}var fU=typeof WeakSet=="function"?WeakSet:Set;function sy(t,e){var n=e.source,r=e.stack;r===null&&n!==null&&(r=zE(n)),n!==null&&xi(n.type),e=e.value,t!==null&&t.tag===1&&xi(t.type);try{console.error(e)}catch(i){setTimeout(function(){throw i})}}function pU(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(n){Qo(t,n)}}function mA(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(n){Qo(t,n)}else e.current=null}function mU(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.effectTag&256&&t!==null){var n=t.memoizedProps,r=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?n:Nr(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(z(163))}function mC(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.destroy;n.destroy=void 0,r!==void 0&&r()}n=n.next}while(n!==e)}}function gC(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function gU(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:gC(3,n);return;case 1:if(t=n.stateNode,n.effectTag&4)if(e===null)t.componentDidMount();else{var r=n.elementType===n.type?e.memoizedProps:Nr(n.type,e.memoizedProps);t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}e=n.updateQueue,e!==null&&eA(n,e,t);return;case 3:if(e=n.updateQueue,e!==null){if(t=null,n.child!==null)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}eA(n,e,t)}return;case 5:t=n.stateNode,e===null&&n.effectTag&4&&kR(n.type,n.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&TR(n))));return;case 19:case 17:case 20:case 21:return}throw Error(z(163))}function gA(t,e,n){switch(typeof fy=="function"&&fy(e),e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var r=t.next;xs(97<n?97:n,function(){var i=r;do{var s=i.destroy;if(s!==void 0){var o=e;try{s()}catch(a){Qo(o,a)}}i=i.next}while(i!==r)})}break;case 1:mA(e),n=e.stateNode,typeof n.componentWillUnmount=="function"&&pU(e,n);break;case 5:mA(e);break;case 4:vC(t,e,n)}}function _C(t){var e=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,t.stateNode=null,e!==null&&_C(e)}function _A(t){return t.tag===5||t.tag===3||t.tag===4}function vA(t){e:{for(var e=t.return;e!==null;){if(_A(e)){var n=e;break e}e=e.return}throw Error(z(160))}switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:e=e.containerInfo,r=!0;break;case 4:e=e.containerInfo,r=!0;break;default:throw Error(z(161))}n.effectTag&16&&(zc(e,""),n.effectTag&=-17);e:t:for(n=t;;){for(;n.sibling===null;){if(n.return===null||_A(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.effectTag&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.effectTag&2)){n=n.stateNode;break e}}r?oy(t,n,e):ay(t,n,e)}function oy(t,e,n){var r=t.tag,i=r===5||r===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=gp));else if(r!==4&&(t=t.child,t!==null))for(oy(t,e,n),t=t.sibling;t!==null;)oy(t,e,n),t=t.sibling}function ay(t,e,n){var r=t.tag,i=r===5||r===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ay(t,e,n),t=t.sibling;t!==null;)ay(t,e,n),t=t.sibling}function vC(t,e,n){for(var r=e,i=!1,s,o;;){if(!i){i=r.return;e:for(;;){if(i===null)throw Error(z(160));switch(s=i.stateNode,i.tag){case 5:o=!1;break e;case 3:s=s.containerInfo,o=!0;break e;case 4:s=s.containerInfo,o=!0;break e}i=i.return}i=!0}if(r.tag===5||r.tag===6){e:for(var a=t,l=r,c=n,d=l;;)if(gA(a,d,c),d.child!==null&&d.tag!==4)d.child.return=d,d=d.child;else{if(d===l)break e;for(;d.sibling===null;){if(d.return===null||d.return===l)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}o?(a=s,l=r.stateNode,a.nodeType===8?a.parentNode.removeChild(l):a.removeChild(l)):s.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){s=r.stateNode.containerInfo,o=!0,r.child.return=r,r=r.child;continue}}else if(gA(t,r,n),r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return,r.tag===4&&(i=!1)}r.sibling.return=r.return,r=r.sibling}}function W_(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:mC(3,e);return;case 1:return;case 5:var n=e.stateNode;if(n!=null){var r=e.memoizedProps,i=t!==null?t.memoizedProps:r;t=e.type;var s=e.updateQueue;if(e.updateQueue=null,s!==null){for(n[_p]=r,t==="input"&&r.type==="radio"&&r.name!=null&&iR(n,r),jv(t,i),e=jv(t,r),i=0;i<s.length;i+=2){var o=s[i],a=s[i+1];o==="style"?SR(n,a):o==="dangerouslySetInnerHTML"?lR(n,a):o==="children"?zc(n,a):UE(n,o,a,e)}switch(t){case"input":xv(n,r);break;case"textarea":sR(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,t=r.value,t!=null?wl(n,!!r.multiple,t,!1):e!==!!r.multiple&&(r.defaultValue!=null?wl(n,!!r.multiple,r.defaultValue,!0):wl(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(z(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:e=e.stateNode,e.hydrate&&(e.hydrate=!1,TR(e.containerInfo));return;case 12:return;case 13:if(n=e,e.memoizedState===null?r=!1:(r=!0,n=e.child,Ew=Er()),n!==null)e:for(t=n;;){if(t.tag===5)s=t.stateNode,r?(s=s.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(s=t.stateNode,i=t.memoizedProps.style,i=i!=null&&i.hasOwnProperty("display")?i.display:null,s.style.display=AR("display",i));else if(t.tag===6)t.stateNode.nodeValue=r?"":t.memoizedProps;else if(t.tag===13&&t.memoizedState!==null&&t.memoizedState.dehydrated===null){s=t.child.sibling,s.return=t,t=s;continue}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}yA(e);return;case 19:yA(e);return;case 17:return}throw Error(z(163))}function yA(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new fU),e.forEach(function(r){var i=SU.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}var _U=typeof WeakMap=="function"?WeakMap:Map;function yC(t,e,n){n=Ts(n,null),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Op||(Op=!0,ly=r),sy(t,e)},n}function EC(t,e,n){n=Ts(n,null),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return sy(t,e),r(i)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){typeof r!="function"&&(bs===null?bs=new Set([this]):bs.add(this),sy(t,e));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}var vU=Math.ceil,Cp=Vr.ReactCurrentDispatcher,wC=Vr.ReactCurrentOwner,zt=0,vw=8,Mr=16,hi=32,Go=0,kp=1,TC=2,xp=3,Am=4,yw=5,pe=zt,rr=null,ve=null,Wn=0,Bt=Go,Sm=null,Ai=1073741823,Xc=1073741823,Np=null,Jc=0,Dp=!1,Ew=0,IC=500,oe=null,Op=!1,ly=null,bs=null,Lp=!1,Pc=null,dc=90,Lo=null,Rc=0,uy=null,Gf=0;function ui(){return(pe&(Mr|hi))!==zt?1073741821-(Er()/10|0):Gf!==0?Gf:Gf=1073741821-(Er()/10|0)}function Yo(t,e,n){if(e=e.mode,!(e&2))return 1073741823;var r=Im();if(!(e&4))return r===99?1073741823:1073741822;if((pe&Mr)!==zt)return Wn;if(n!==null)t=Hf(t,n.timeoutMs|0||5e3,250);else switch(r){case 99:t=1073741823;break;case 98:t=Hf(t,150,100);break;case 97:case 96:t=Hf(t,5e3,250);break;case 95:t=2;break;default:throw Error(z(326))}return rr!==null&&t===Wn&&--t,t}function As(t,e){if(50<Rc)throw Rc=0,uy=null,Error(z(185));if(t=Pm(t,e),t!==null){var n=Im();e===1073741823?(pe&vw)!==zt&&(pe&(Mr|hi))===zt?cy(t):(ir(t),pe===zt&&_i()):ir(t),(pe&4)===zt||n!==98&&n!==99||(Lo===null?Lo=new Map([[t,e]]):(n=Lo.get(t),(n===void 0||n>e)&&Lo.set(t,e)))}}function Pm(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;n!==null&&n.expirationTime<e&&(n.expirationTime=e);var r=t.return,i=null;if(r===null&&t.tag===3)i=t.stateNode;else for(;r!==null;){if(n=r.alternate,r.childExpirationTime<e&&(r.childExpirationTime=e),n!==null&&n.childExpirationTime<e&&(n.childExpirationTime=e),r.return===null&&r.tag===3){i=r.stateNode;break}r=r.return}return i!==null&&(rr===i&&(Rm(e),Bt===Am&&Mo(i,Wn)),OC(i,e)),i}function Yf(t){var e=t.lastExpiredTime;if(e!==0||(e=t.firstPendingTime,!DC(t,e)))return e;var n=t.lastPingedTime;return t=t.nextKnownPendingLevel,t=n>t?n:t,2>=t&&e!==t?0:t}function ir(t){if(t.lastExpiredTime!==0)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=Jb(cy.bind(null,t));else{var e=Yf(t),n=t.callbackNode;if(e===0)n!==null&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var r=ui();if(e===1073741823?r=99:e===1||e===2?r=95:(r=10*(1073741821-e)-10*(1073741821-r),r=0>=r?99:250>=r?98:5250>=r?97:95),n!==null){var i=t.callbackPriority;if(t.callbackExpirationTime===e&&i>=r)return;n!==YR&&WR(n)}t.callbackExpirationTime=e,t.callbackPriority=r,e=e===1073741823?Jb(cy.bind(null,t)):XR(r,bC.bind(null,t),{timeout:10*(1073741821-e)-Er()}),t.callbackNode=e}}}function bC(t,e){if(Gf=0,e)return e=ui(),py(t,e),ir(t),null;var n=Yf(t);if(n!==0){if(e=t.callbackNode,(pe&(Mr|hi))!==zt)throw Error(z(327));if(su(),t===rr&&n===Wn||Vo(t,n),ve!==null){var r=pe;pe|=Mr;var i=RC();do try{wU();break}catch(a){PC(t,a)}while(!0);if(sw(),pe=r,Cp.current=i,Bt===kp)throw e=Sm,Vo(t,n),Mo(t,n),ir(t),e;if(ve===null)switch(i=t.finishedWork=t.current.alternate,t.finishedExpirationTime=n,r=Bt,rr=null,r){case Go:case kp:throw Error(z(345));case TC:py(t,2<n?2:n);break;case xp:if(Mo(t,n),r=t.lastSuspendedTime,n===r&&(t.nextKnownPendingLevel=dy(i)),Ai===1073741823&&(i=Ew+IC-Er(),10<i)){if(Dp){var s=t.lastPingedTime;if(s===0||s>=n){t.lastPingedTime=n,Vo(t,n);break}}if(s=Yf(t),s!==0&&s!==n)break;if(r!==0&&r!==n){t.lastPingedTime=r;break}t.timeoutHandle=F_(bo.bind(null,t),i);break}bo(t);break;case Am:if(Mo(t,n),r=t.lastSuspendedTime,n===r&&(t.nextKnownPendingLevel=dy(i)),Dp&&(i=t.lastPingedTime,i===0||i>=n)){t.lastPingedTime=n,Vo(t,n);break}if(i=Yf(t),i!==0&&i!==n)break;if(r!==0&&r!==n){t.lastPingedTime=r;break}if(Xc!==1073741823?r=10*(1073741821-Xc)-Er():Ai===1073741823?r=0:(r=10*(1073741821-Ai)-5e3,i=Er(),n=10*(1073741821-n)-i,r=i-r,0>r&&(r=0),r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vU(r/1960))-r,n<r&&(r=n)),10<r){t.timeoutHandle=F_(bo.bind(null,t),r);break}bo(t);break;case yw:if(Ai!==1073741823&&Np!==null){s=Ai;var o=Np;if(r=o.busyMinDurationMs|0,0>=r?r=0:(i=o.busyDelayMs|0,s=Er()-(10*(1073741821-s)-(o.timeoutMs|0||5e3)),r=s<=i?0:i+r-s),10<r){Mo(t,n),t.timeoutHandle=F_(bo.bind(null,t),r);break}}bo(t);break;default:throw Error(z(329))}if(ir(t),t.callbackNode===e)return bC.bind(null,t)}}return null}function cy(t){var e=t.lastExpiredTime;if(e=e!==0?e:1073741823,(pe&(Mr|hi))!==zt)throw Error(z(327));if(su(),t===rr&&e===Wn||Vo(t,e),ve!==null){var n=pe;pe|=Mr;var r=RC();do try{EU();break}catch(i){PC(t,i)}while(!0);if(sw(),pe=n,Cp.current=r,Bt===kp)throw n=Sm,Vo(t,e),Mo(t,e),ir(t),n;if(ve!==null)throw Error(z(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,rr=null,bo(t),ir(t)}return null}function yU(){if(Lo!==null){var t=Lo;Lo=null,t.forEach(function(e,n){py(n,e),ir(n)}),_i()}}function AC(t,e){var n=pe;pe|=1;try{return t(e)}finally{pe=n,pe===zt&&_i()}}function SC(t,e){var n=pe;pe&=-2,pe|=vw;try{return t(e)}finally{pe=n,pe===zt&&_i()}}function Vo(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,v$(n)),ve!==null)for(n=ve.return;n!==null;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&yp();break;case 3:$l(),lt(Bn),lt(En);break;case 5:cw(r);break;case 4:$l();break;case 13:lt(vt);break;case 19:lt(vt);break;case 10:ow(r)}n=n.return}rr=t,ve=sa(t.current,null),Wn=e,Bt=Go,Sm=null,Xc=Ai=1073741823,Np=null,Jc=0,Dp=!1}function PC(t,e){do{try{if(sw(),Kf.current=Rp,Ap)for(var n=Lt.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}if(fs=0,gn=mn=Lt=null,Ap=!1,ve===null||ve.return===null)return Bt=kp,Sm=e,ve=null;e:{var i=t,s=ve.return,o=ve,a=e;if(e=Wn,o.effectTag|=2048,o.firstEffect=o.lastEffect=null,a!==null&&typeof a=="object"&&typeof a.then=="function"){var l=a;if(!(o.mode&2)){var c=o.alternate;c?(o.updateQueue=c.updateQueue,o.memoizedState=c.memoizedState,o.expirationTime=c.expirationTime):(o.updateQueue=null,o.memoizedState=null)}var d=(vt.current&1)!==0,f=s;do{var m;if(m=f.tag===13){var v=f.memoizedState;if(v!==null)m=v.dehydrated!==null;else{var b=f.memoizedProps;m=b.fallback===void 0?!1:b.unstable_avoidThisFallback!==!0?!0:!d}}if(m){var I=f.updateQueue;if(I===null){var _=new Set;_.add(l),f.updateQueue=_}else I.add(l);if(!(f.mode&2)){if(f.effectTag|=64,o.effectTag&=-2981,o.tag===1)if(o.alternate===null)o.tag=17;else{var y=Ts(1073741823,null);y.tag=2,Is(o,y)}o.expirationTime=1073741823;break e}a=void 0,o=e;var T=i.pingCache;if(T===null?(T=i.pingCache=new _U,a=new Set,T.set(l,a)):(a=T.get(l),a===void 0&&(a=new Set,T.set(l,a))),!a.has(o)){a.add(o);var A=AU.bind(null,i,l,o);l.then(A,A)}f.effectTag|=4096,f.expirationTime=e;break e}f=f.return}while(f!==null);a=Error((xi(o.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`+zE(o))}Bt!==yw&&(Bt=TC),a=_w(a,o),f=s;do{switch(f.tag){case 3:l=a,f.effectTag|=4096,f.expirationTime=e;var E=yC(f,l,e);Zb(f,E);break e;case 1:l=a;var x=f.type,D=f.stateNode;if(!(f.effectTag&64)&&(typeof x.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(bs===null||!bs.has(D)))){f.effectTag|=4096,f.expirationTime=e;var O=EC(f,l,e);Zb(f,O);break e}}f=f.return}while(f!==null)}ve=xC(ve)}catch(G){e=G;continue}break}while(!0)}function RC(){var t=Cp.current;return Cp.current=Rp,t===null?Rp:t}function CC(t,e){t<Ai&&2<t&&(Ai=t),e!==null&&t<Xc&&2<t&&(Xc=t,Np=e)}function Rm(t){t>Jc&&(Jc=t)}function EU(){for(;ve!==null;)ve=kC(ve)}function wU(){for(;ve!==null&&!sU();)ve=kC(ve)}function kC(t){var e=NC(t.alternate,t,Wn);return t.memoizedProps=t.pendingProps,e===null&&(e=xC(t)),wC.current=null,e}function xC(t){ve=t;do{var e=ve.alternate;if(t=ve.return,ve.effectTag&2048){if(e=hU(ve),e!==null)return e.effectTag&=2047,e;t!==null&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}else{if(e=dU(e,ve,Wn),Wn===1||ve.childExpirationTime!==1){for(var n=0,r=ve.child;r!==null;){var i=r.expirationTime,s=r.childExpirationTime;i>n&&(n=i),s>n&&(n=s),r=r.sibling}ve.childExpirationTime=n}if(e!==null)return e;t!==null&&!(t.effectTag&2048)&&(t.firstEffect===null&&(t.firstEffect=ve.firstEffect),ve.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=ve.firstEffect),t.lastEffect=ve.lastEffect),1<ve.effectTag&&(t.lastEffect!==null?t.lastEffect.nextEffect=ve:t.firstEffect=ve,t.lastEffect=ve))}if(e=ve.sibling,e!==null)return e;ve=t}while(ve!==null);return Bt===Go&&(Bt=yw),null}function dy(t){var e=t.expirationTime;return t=t.childExpirationTime,e>t?e:t}function bo(t){var e=Im();return xs(99,TU.bind(null,t,e)),null}function TU(t,e){do su();while(Pc!==null);if((pe&(Mr|hi))!==zt)throw Error(z(327));var n=t.finishedWork,r=t.finishedExpirationTime;if(n===null)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var i=dy(n);if(t.firstPendingTime=i,r<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:r<=t.firstSuspendedTime&&(t.firstSuspendedTime=r-1),r<=t.lastPingedTime&&(t.lastPingedTime=0),r<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===rr&&(ve=rr=null,Wn=0),1<n.effectTag?n.lastEffect!==null?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,i!==null){var s=pe;pe|=hi,wC.current=null,V_=Uf;var o=Mb();if(zv(o)){if("selectionStart"in o)var a={start:o.selectionStart,end:o.selectionEnd};else e:{a=(a=o.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var f=0,m=-1,v=-1,b=0,I=0,_=o,y=null;t:for(;;){for(var T;_!==a||c!==0&&_.nodeType!==3||(m=f+c),_!==d||l!==0&&_.nodeType!==3||(v=f+l),_.nodeType===3&&(f+=_.nodeValue.length),(T=_.firstChild)!==null;)y=_,_=T;for(;;){if(_===o)break t;if(y===a&&++b===c&&(m=f),y===d&&++I===l&&(v=f),(T=_.nextSibling)!==null)break;_=y,y=_.parentNode}_=T}a=m===-1||v===-1?null:{start:m,end:v}}else a=null}a=a||{start:0,end:0}}else a=null;M_={activeElementDetached:null,focusedElem:o,selectionRange:a},Uf=!1,oe=i;do try{IU()}catch(H){if(oe===null)throw Error(z(330));Qo(oe,H),oe=oe.nextEffect}while(oe!==null);oe=i;do try{for(o=t,a=e;oe!==null;){var A=oe.effectTag;if(A&16&&zc(oe.stateNode,""),A&128){var E=oe.alternate;if(E!==null){var x=E.ref;x!==null&&(typeof x=="function"?x(null):x.current=null)}}switch(A&1038){case 2:vA(oe),oe.effectTag&=-3;break;case 6:vA(oe),oe.effectTag&=-3,W_(oe.alternate,oe);break;case 1024:oe.effectTag&=-1025;break;case 1028:oe.effectTag&=-1025,W_(oe.alternate,oe);break;case 4:W_(oe.alternate,oe);break;case 8:c=oe,vC(o,c,a),_C(c)}oe=oe.nextEffect}}catch(H){if(oe===null)throw Error(z(330));Qo(oe,H),oe=oe.nextEffect}while(oe!==null);if(x=M_,E=Mb(),A=x.focusedElem,a=x.selectionRange,E!==A&&A&&A.ownerDocument&&PR(A.ownerDocument.documentElement,A)){for(a!==null&&zv(A)&&(E=a.start,x=a.end,x===void 0&&(x=E),"selectionStart"in A?(A.selectionStart=E,A.selectionEnd=Math.min(x,A.value.length)):(x=(E=A.ownerDocument||document)&&E.defaultView||window,x.getSelection&&(x=x.getSelection(),c=A.textContent.length,o=Math.min(a.start,c),a=a.end===void 0?o:Math.min(a.end,c),!x.extend&&o>a&&(c=a,a=o,o=c),c=Vb(A,o),d=Vb(A,a),c&&d&&(x.rangeCount!==1||x.anchorNode!==c.node||x.anchorOffset!==c.offset||x.focusNode!==d.node||x.focusOffset!==d.offset)&&(E=E.createRange(),E.setStart(c.node,c.offset),x.removeAllRanges(),o>a?(x.addRange(E),x.extend(d.node,d.offset)):(E.setEnd(d.node,d.offset),x.addRange(E)))))),E=[],x=A;x=x.parentNode;)x.nodeType===1&&E.push({element:x,left:x.scrollLeft,top:x.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<E.length;A++)x=E[A],x.element.scrollLeft=x.left,x.element.scrollTop=x.top}Uf=!!V_,M_=V_=null,t.current=n,oe=i;do try{for(A=t;oe!==null;){var D=oe.effectTag;if(D&36&&gU(A,oe.alternate,oe),D&128){E=void 0;var O=oe.ref;if(O!==null){var G=oe.stateNode;switch(oe.tag){case 5:E=G;break;default:E=G}typeof O=="function"?O(E):O.current=E}}oe=oe.nextEffect}}catch(H){if(oe===null)throw Error(z(330));Qo(oe,H),oe=oe.nextEffect}while(oe!==null);oe=null,oU(),pe=s}else t.current=n;if(Lp)Lp=!1,Pc=t,dc=e;else for(oe=i;oe!==null;)e=oe.nextEffect,oe.nextEffect=null,oe=e;if(e=t.firstPendingTime,e===0&&(bs=null),e===1073741823?t===uy?Rc++:(Rc=0,uy=t):Rc=0,typeof hy=="function"&&hy(n.stateNode,r),ir(t),Op)throw Op=!1,t=ly,ly=null,t;return(pe&vw)!==zt||_i(),null}function IU(){for(;oe!==null;){var t=oe.effectTag;t&256&&mU(oe.alternate,oe),!(t&512)||Lp||(Lp=!0,XR(97,function(){return su(),null})),oe=oe.nextEffect}}function su(){if(dc!==90){var t=97<dc?97:dc;return dc=90,xs(t,bU)}}function bU(){if(Pc===null)return!1;var t=Pc;if(Pc=null,(pe&(Mr|hi))!==zt)throw Error(z(331));var e=pe;for(pe|=hi,t=t.current.firstEffect;t!==null;){try{var n=t;if(n.effectTag&512)switch(n.tag){case 0:case 11:case 15:case 22:mC(5,n),gC(5,n)}}catch(r){if(t===null)throw Error(z(330));Qo(t,r)}n=t.nextEffect,t.nextEffect=null,t=n}return pe=e,_i(),!0}function EA(t,e,n){e=_w(n,e),e=yC(t,e,1073741823),Is(t,e),t=Pm(t,1073741823),t!==null&&ir(t)}function Qo(t,e){if(t.tag===3)EA(t,t,e);else for(var n=t.return;n!==null;){if(n.tag===3){EA(n,t,e);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(bs===null||!bs.has(r))){t=_w(e,t),t=EC(n,t,1073741823),Is(n,t),n=Pm(n,1073741823),n!==null&&ir(n);break}}n=n.return}}function AU(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),rr===t&&Wn===n?Bt===Am||Bt===xp&&Ai===1073741823&&Er()-Ew<IC?Vo(t,Wn):Dp=!0:DC(t,n)&&(e=t.lastPingedTime,e!==0&&e<n||(t.lastPingedTime=n,ir(t)))}function SU(t,e){var n=t.stateNode;n!==null&&n.delete(e),e=0,e===0&&(e=ui(),e=Yo(e,t,null)),t=Pm(t,e),t!==null&&ir(t)}var NC;NC=function(t,e,n){var r=e.expirationTime;if(t!==null){var i=e.pendingProps;if(t.memoizedProps!==i||Bn.current)Zr=!0;else{if(r<n){switch(Zr=!1,e.tag){case 3:dA(e),j_();break;case 5:if(rA(e),e.mode&4&&n!==1&&i.hidden)return e.expirationTime=e.childExpirationTime=1,null;break;case 1:zn(e.type)&&Wf(e);break;case 4:Jv(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value,i=e.type._context,Ct(Ep,i._currentValue),i._currentValue=r;break;case 13:if(e.memoizedState!==null)return r=e.child.childExpirationTime,r!==0&&r>=n?hA(t,e,n):(Ct(vt,vt.current&1),e=Pi(t,e,n),e!==null?e.sibling:null);Ct(vt,vt.current&1);break;case 19:if(r=e.childExpirationTime>=n,t.effectTag&64){if(r)return pA(t,e,n);e.effectTag|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null),Ct(vt,vt.current),!r)return null}return Pi(t,e,n)}Zr=!1}}else Zr=!1;switch(e.expirationTime=0,e.tag){case 2:if(r=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,i=Ml(e,En.current),Il(e,n),i=fw(null,e,r,t,i,n),e.effectTag|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,zn(r)){var s=!0;Wf(e)}else s=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,aw(e);var o=r.getDerivedStateFromProps;typeof o=="function"&&Ip(e,r,o,t),i.updater=bm,e.stateNode=i,i._reactInternalFiber=e,Xv(e,r,t,n),e=ry(null,e,r,!0,s,n)}else e.tag=0,er(null,e,i,n),e=e.child;return e;case 16:e:{if(i=e.elementType,t!==null&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,t$(i),i._status!==1)throw i._result;switch(i=i._result,e.type=i,s=e.tag=CU(i),t=Nr(i,t),s){case 0:e=ny(null,e,i,t,n);break e;case 1:e=cA(null,e,i,t,n);break e;case 11:e=lA(null,e,i,t,n);break e;case 14:e=uA(null,e,i,Nr(i.type,t),r,n);break e}throw Error(z(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nr(r,i),ny(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nr(r,i),cA(t,e,r,i,n);case 3:if(dA(e),r=e.updateQueue,t===null||r===null)throw Error(z(282));if(r=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,lw(t,e),Gc(e,r,null,n),r=e.memoizedState.element,r===i)j_(),e=Pi(t,e,n);else{if((i=e.stateNode.hydrate)&&(ps=Tl(e.stateNode.containerInfo.firstChild),Si=e,i=Ko=!0),i)for(n=uw(e,null,r,n),e.child=n;n;)n.effectTag=n.effectTag&-3|1024,n=n.sibling;else er(t,e,r,n),j_();e=e.child}return e;case 5:return rA(e),t===null&&ty(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Wv(r,i)?o=null:s!==null&&Wv(r,s)&&(e.effectTag|=16),dC(t,e),e.mode&4&&n!==1&&i.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(er(t,e,o,n),e=e.child),e;case 6:return t===null&&ty(e),null;case 13:return hA(t,e,n);case 4:return Jv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Fl(e,null,r,n):er(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nr(r,i),lA(t,e,r,i,n);case 7:return er(t,e,e.pendingProps,n),e.child;case 8:return er(t,e,e.pendingProps.children,n),e.child;case 12:return er(t,e,e.pendingProps.children,n),e.child;case 10:e:{r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value;var a=e.type._context;if(Ct(Ep,a._currentValue),a._currentValue=s,o!==null)if(a=o.value,s=ra(a,s)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(a,s):1073741823)|0,s===0){if(o.children===i.children&&!Bn.current){e=Pi(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r&&c.observedBits&s){a.tag===1&&(c=Ts(n,null),c.tag=2,Is(a,c)),a.expirationTime<n&&(a.expirationTime=n),c=a.alternate,c!==null&&c.expirationTime<n&&(c.expirationTime=n),ZR(a.return,n),l.expirationTime<n&&(l.expirationTime=n);break}c=c.next}}else o=a.tag===10&&a.type===e.type?null:a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}er(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps,r=s.children,Il(e,n),i=Ir(i,s.unstable_observedBits),r=r(i),e.effectTag|=1,er(t,e,r,n),e.child;case 14:return i=e.type,s=Nr(i,e.pendingProps),s=Nr(i.type,s),uA(t,e,i,s,r,n);case 15:return cC(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nr(r,i),t!==null&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,zn(r)?(t=!0,Wf(e)):t=!1,Il(e,n),tC(e,r,i),Xv(e,r,i,n),ry(null,e,r,!0,t,n);case 19:return pA(t,e,n)}throw Error(z(156,e.tag))};var hy=null,fy=null;function PU(t){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);hy=function(r){try{e.onCommitFiberRoot(n,r,void 0,(r.current.effectTag&64)===64)}catch{}},fy=function(r){try{e.onCommitFiberUnmount(n,r)}catch{}}}catch{}return!0}function RU(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function ei(t,e,n,r){return new RU(t,e,n,r)}function ww(t){return t=t.prototype,!(!t||!t.isReactComponent)}function CU(t){if(typeof t=="function")return ww(t)?1:0;if(t!=null){if(t=t.$$typeof,t===jE)return 11;if(t===BE)return 14}return 2}function sa(t,e){var n=t.alternate;return n===null?(n=ei(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=t.childExpirationTime,n.expirationTime=t.expirationTime,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Qf(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")ww(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Po:return ms(n.children,i,s,e);case e$:o=8,i|=7;break;case XP:o=8,i|=1;break;case Mf:return t=ei(12,n,e,i|8),t.elementType=Mf,t.type=Mf,t.expirationTime=s,t;case Ff:return t=ei(13,n,e,i),t.type=Ff,t.elementType=Ff,t.expirationTime=s,t;case Cv:return t=ei(19,n,e,i),t.elementType=Cv,t.expirationTime=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case JP:o=10;break e;case ZP:o=9;break e;case jE:o=11;break e;case BE:o=14;break e;case eR:o=16,r=null;break e;case tR:o=22;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=ei(o,n,e,i),e.elementType=t,e.type=r,e.expirationTime=s,e}function ms(t,e,n,r){return t=ei(7,t,r,e),t.expirationTime=n,t}function q_(t,e,n){return t=ei(6,t,null,e),t.expirationTime=n,t}function H_(t,e,n){return e=ei(4,t.children!==null?t.children:[],t.key,e),e.expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function kU(t,e,n){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function DC(t,e){var n=t.firstSuspendedTime;return t=t.lastSuspendedTime,n!==0&&n>=e&&t<=e}function Mo(t,e){var n=t.firstSuspendedTime,r=t.lastSuspendedTime;n<e&&(t.firstSuspendedTime=e),(r>e||n===0)&&(t.lastSuspendedTime=e),e<=t.lastPingedTime&&(t.lastPingedTime=0),e<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function OC(t,e){e>t.firstPendingTime&&(t.firstPendingTime=e);var n=t.firstSuspendedTime;n!==0&&(e>=n?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:e>=t.lastSuspendedTime&&(t.lastSuspendedTime=e+1),e>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=e))}function py(t,e){var n=t.lastExpiredTime;(n===0||n>e)&&(t.lastExpiredTime=e)}function Vp(t,e,n,r){var i=e.current,s=ui(),o=Sc.suspense;s=Yo(s,i,o);e:if(n){n=n._reactInternalFiber;t:{if(Ia(n)!==n||n.tag!==1)throw Error(z(170));var a=n;do{switch(a.tag){case 3:a=a.stateNode.context;break t;case 1:if(zn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break t}}a=a.return}while(a!==null);throw Error(z(171))}if(n.tag===1){var l=n.type;if(zn(l)){n=zR(n,l,a);break e}}n=a}else n=ks;return e.context===null?e.context=n:e.pendingContext=n,e=Ts(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),Is(i,e),As(i,s),s}function K_(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function wA(t,e){t=t.memoizedState,t!==null&&t.dehydrated!==null&&t.retryTime<e&&(t.retryTime=e)}function Tw(t,e){wA(t,e),(t=t.alternate)&&wA(t,e)}function Iw(t,e,n){n=n!=null&&n.hydrate===!0;var r=new kU(t,e,n),i=ei(3,null,null,e===2?7:e===1?3:0);r.current=i,i.stateNode=r,aw(i),t[jd]=r.current,n&&e!==0&&a$(t,t.nodeType===9?t:t.ownerDocument),this._internalRoot=r}Iw.prototype.render=function(t){Vp(t,this._internalRoot,null,null)};Iw.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Vp(null,t,null,function(){e[jd]=null})};function Kd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function xU(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Iw(t,0,e?{hydrate:!0}:void 0)}function Cm(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s._internalRoot;if(typeof i=="function"){var a=i;i=function(){var c=K_(o);a.call(c)}}Vp(e,o,t,i)}else{if(s=n._reactRootContainer=xU(n,r),o=s._internalRoot,typeof i=="function"){var l=i;i=function(){var c=K_(o);l.call(c)}}SC(function(){Vp(e,o,t,i)})}return K_(o)}function NU(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:al,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}ER=function(t){if(t.tag===13){var e=Hf(ui(),150,100);As(t,e),Tw(t,e)}};KE=function(t){t.tag===13&&(As(t,3),Tw(t,3))};wR=function(t){if(t.tag===13){var e=ui();e=Yo(e,t,null),As(t,e),Tw(t,e)}};Rv=function(t,e,n){switch(e){case"input":if(xv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ew(r);if(!i)throw Error(z(90));rR(r),xv(r,i)}}}break;case"textarea":sR(t,n);break;case"select":e=n.value,e!=null&&wl(t,!!n.multiple,e,!1)}};LE=AC;GP=function(t,e,n,r,i){var s=pe;pe|=4;try{return xs(98,t.bind(null,e,n,r,i))}finally{pe=s,pe===zt&&_i()}};VE=function(){(pe&(1|Mr|hi))===zt&&(yU(),su())};YP=function(t,e){var n=pe;pe|=2;try{return t(e)}finally{pe=n,pe===zt&&_i()}};function LC(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kd(e))throw Error(z(200));return NU(t,e,null,n)}var DU={Events:[zd,na,ew,qP,Pv,Vl,function(t){qE(t,E$)},HP,KP,Em,ym,su,{current:!1}]};(function(t){var e=t.findFiberByHostInstance;return PU(Dn({},t,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vr.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=mR(n),n===null?null:n.stateNode},findFiberByHostInstance:function(n){return e?e(n):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))})({findFiberByHostInstance:Bd,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"});Ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DU;Ar.createPortal=LC;Ar.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternalFiber;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):Error(z(268,Object.keys(t)));return t=mR(e),t=t===null?null:t.stateNode,t};Ar.flushSync=function(t,e){if((pe&(Mr|hi))!==zt)throw Error(z(187));var n=pe;pe|=1;try{return xs(99,t.bind(null,e))}finally{pe=n,_i()}};Ar.hydrate=function(t,e,n){if(!Kd(e))throw Error(z(200));return Cm(null,t,e,!0,n)};Ar.render=function(t,e,n){if(!Kd(e))throw Error(z(200));return Cm(null,t,e,!1,n)};Ar.unmountComponentAtNode=function(t){if(!Kd(t))throw Error(z(40));return t._reactRootContainer?(SC(function(){Cm(null,null,t,!1,function(){t._reactRootContainer=null,t[jd]=null})}),!0):!1};Ar.unstable_batchedUpdates=AC;Ar.unstable_createPortal=function(t,e){return LC(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Ar.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Kd(n))throw Error(z(200));if(t==null||t._reactInternalFiber===void 0)throw Error(z(38));return Cm(t,e,n,!1,r)};Ar.version="16.14.0";function VC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(VC)}catch(t){console.error(t)}}VC(),$P.exports=Ar;var bw=$P.exports;const MC=PE(bw),OU=EP({__proto__:null,default:MC},[bw]);/**
 * @remix-run/router v1.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gt(){return gt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gt.apply(this,arguments)}var Pt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Pt||(Pt={}));const TA="popstate";function LU(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Zc("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:aa(i)}return MU(e,n,null,t)}function Re(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function oa(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function VU(){return Math.random().toString(36).substr(2,8)}function IA(t,e){return{usr:t.state,key:t.key,idx:e}}function Zc(t,e,n,r){return n===void 0&&(n=null),gt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Bi(e):e,{state:n,key:e&&e.key||r||VU()})}function aa(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Bi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function MU(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Pt.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(gt({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=Pt.Pop;let _=d(),y=_==null?null:_-c;c=_,l&&l({action:a,location:I.location,delta:y})}function m(_,y){a=Pt.Push;let T=Zc(I.location,_,y);n&&n(T,_),c=d()+1;let A=IA(T,c),E=I.createHref(T);try{o.pushState(A,"",E)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;i.location.assign(E)}s&&l&&l({action:a,location:I.location,delta:1})}function v(_,y){a=Pt.Replace;let T=Zc(I.location,_,y);n&&n(T,_),c=d();let A=IA(T,c),E=I.createHref(T);o.replaceState(A,"",E),s&&l&&l({action:a,location:I.location,delta:0})}function b(_){let y=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof _=="string"?_:aa(_);return Re(y,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,y)}let I={get action(){return a},get location(){return t(i,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(TA,f),l=_,()=>{i.removeEventListener(TA,f),l=null}},createHref(_){return e(i,_)},createURL:b,encodeLocation(_){let y=b(_);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:v,go(_){return o.go(_)}};return I}var Rt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Rt||(Rt={}));const FU=new Set(["lazy","caseSensitive","path","id","index","children"]);function $U(t){return t.index===!0}function my(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,s],a=typeof i.id=="string"?i.id:o.join("-");if(Re(i.index!==!0||!i.children,"Cannot specify children on an index route"),Re(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),$U(i)){let l=gt({},i,e(i),{id:a});return r[a]=l,l}else{let l=gt({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=my(i.children,e,o,r)),l}})}function fl(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Bi(e):e,i=ou(r.pathname||"/",n);if(i==null)return null;let s=FC(t);jU(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=QU(s[a],ZU(i));return o}function UU(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function FC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Re(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Ni([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(Re(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),FC(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:GU(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of $C(s.path))i(s,o,l)}),e}function $C(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=$C(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function jU(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:YU(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const BU=/^:\w+$/,zU=3,WU=2,qU=1,HU=10,KU=-2,bA=t=>t==="*";function GU(t,e){let n=t.split("/"),r=n.length;return n.some(bA)&&(r+=KU),e&&(r+=WU),n.filter(i=>!bA(i)).reduce((i,s)=>i+(BU.test(s)?zU:s===""?qU:HU),r)}function YU(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function QU(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",d=XU({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!d)return null;Object.assign(r,d.params);let f=a.route;s.push({params:r,pathname:Ni([i,d.pathname]),pathnameBase:r4(Ni([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=Ni([i,d.pathnameBase]))}return s}function XU(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=JU(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:m,isOptional:v}=d;if(m==="*"){let I=a[f]||"";o=s.slice(0,s.length-I.length).replace(/(.)\/+$/,"$1")}const b=a[f];return v&&!b?c[m]=void 0:c[m]=e4(b||"",m),c},{}),pathname:s,pathnameBase:o,pattern:t}}function JU(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),oa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function ZU(t){try{return decodeURI(t)}catch(e){return oa(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function e4(t,e){try{return decodeURIComponent(t)}catch(n){return oa(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function ou(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function t4(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Bi(t):t;return{pathname:n?n.startsWith("/")?n:n4(n,e):e,search:i4(r),hash:s4(i)}}function n4(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function G_(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function UC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Aw(t){return UC(t).map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function Sw(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Bi(t):(i=gt({},t),Re(!i.pathname||!i.pathname.includes("?"),G_("?","pathname","search",i)),Re(!i.pathname||!i.pathname.includes("#"),G_("#","pathname","hash",i)),Re(!i.search||!i.search.includes("#"),G_("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else if(r){let f=e[e.length-1].replace(/^\//,"").split("/");if(o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f.pop();i.pathname=m.join("/")}a="/"+f.join("/")}else{let f=e.length-1;if(o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}a=f>=0?e[f]:"/"}let l=t4(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Ni=t=>t.join("/").replace(/\/\/+/g,"/"),r4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),i4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,s4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Pw{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function jC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const BC=["post","put","patch","delete"],o4=new Set(BC),a4=["get",...BC],l4=new Set(a4),u4=new Set([301,302,303,307,308]),c4=new Set([307,308]),Y_={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},d4={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Gu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},zC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,h4=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),WC="remix-router-transitions";function f4(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Re(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let S=t.detectErrorBoundary;i=k=>({hasErrorBoundary:S(k)})}else i=h4;let s={},o=my(t.routes,i,void 0,s),a,l=t.basename||"/",c=gt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_prependBasename:!1},t.future),d=null,f=new Set,m=null,v=null,b=null,I=t.hydrationData!=null,_=fl(o,t.history.location,l),y=null;if(_==null){let S=vr(404,{pathname:t.history.location.pathname}),{matches:k,route:F}=NA(o);_=k,y={[F.id]:S}}let T=!_.some(S=>S.route.lazy)&&(!_.some(S=>S.route.loader)||t.hydrationData!=null),A,E={historyAction:t.history.action,location:t.history.location,matches:_,initialized:T,navigation:Y_,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||y,fetchers:new Map,blockers:new Map},x=Pt.Pop,D=!1,O,G=!1,H=new Map,Ce=null,De=!1,pt=!1,un=[],Ke=[],ye=new Map,cr=0,wn=-1,Tn=new Map,Qt=new Set,dr=new Map,Sr=new Map,In=new Set,hr=new Map,q=new Map,ie=!1;function Ie(){if(d=t.history.listen(S=>{let{action:k,location:F,delta:Q}=S;if(ie){ie=!1;return}oa(q.size===0||Q!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ne=Yi({currentLocation:E.location,nextLocation:F,historyAction:k});if(ne&&Q!=null){ie=!0,t.history.go(Q*-1),La(ne,{state:"blocked",location:F,proceed(){La(ne,{state:"proceeding",proceed:void 0,reset:void 0,location:F}),t.history.go(Q)},reset(){let Ee=new Map(E.blockers);Ee.set(ne,Gu),Ze({blockers:Ee})}});return}return Hn(k,F)}),n){b4(e,H);let S=()=>A4(e,H);e.addEventListener("pagehide",S),Ce=()=>e.removeEventListener("pagehide",S)}return E.initialized||Hn(Pt.Pop,E.location),A}function Ge(){d&&d(),Ce&&Ce(),f.clear(),O&&O.abort(),E.fetchers.forEach((S,k)=>Oa(k)),E.blockers.forEach((S,k)=>Pu(k))}function L(S){return f.add(S),()=>f.delete(S)}function Ze(S,k){k===void 0&&(k={}),E=gt({},E,S);let F=[],Q=[];c.v7_fetcherPersist&&E.fetchers.forEach((ne,Ee)=>{ne.state==="idle"&&(In.has(Ee)?Q.push(Ee):F.push(Ee))}),[...f].forEach(ne=>ne(E,{deletedFetchers:Q,unstable_viewTransitionOpts:k.viewTransitionOpts,unstable_flushSync:k.flushSync===!0})),c.v7_fetcherPersist&&(F.forEach(ne=>E.fetchers.delete(ne)),Q.forEach(ne=>Oa(ne)))}function cn(S,k,F){var Q,ne;let{flushSync:Ee}=F===void 0?{}:F,he=E.actionData!=null&&E.navigation.formMethod!=null&&Dr(E.navigation.formMethod)&&E.navigation.state==="loading"&&((Q=S.state)==null?void 0:Q._isRedirect)!==!0,ce;k.actionData?Object.keys(k.actionData).length>0?ce=k.actionData:ce=null:he?ce=E.actionData:ce=null;let le=k.loaderData?xA(E.loaderData,k.loaderData,k.matches||[],k.errors):E.loaderData,Ne=E.blockers;Ne.size>0&&(Ne=new Map(Ne),Ne.forEach((Be,et)=>Ne.set(et,Gu)));let Ye=D===!0||E.navigation.formMethod!=null&&Dr(E.navigation.formMethod)&&((ne=S.state)==null?void 0:ne._isRedirect)!==!0;a&&(o=a,a=void 0),De||x===Pt.Pop||(x===Pt.Push?t.history.push(S,S.state):x===Pt.Replace&&t.history.replace(S,S.state));let we;if(x===Pt.Pop){let Be=H.get(E.location.pathname);Be&&Be.has(S.pathname)?we={currentLocation:E.location,nextLocation:S}:H.has(S.pathname)&&(we={currentLocation:S,nextLocation:E.location})}else if(G){let Be=H.get(E.location.pathname);Be?Be.add(S.pathname):(Be=new Set([S.pathname]),H.set(E.location.pathname,Be)),we={currentLocation:E.location,nextLocation:S}}Ze(gt({},k,{actionData:ce,loaderData:le,historyAction:x,location:S,initialized:!0,navigation:Y_,revalidation:"idle",restoreScrollPosition:Mh(S,k.matches||E.matches),preventScrollReset:Ye,blockers:Ne}),{viewTransitionOpts:we,flushSync:Ee===!0}),x=Pt.Pop,D=!1,G=!1,De=!1,pt=!1,un=[],Ke=[]}async function fr(S,k){if(typeof S=="number"){t.history.go(S);return}let F=gy(E.location,E.matches,l,c.v7_prependBasename,S,k==null?void 0:k.fromRouteId,k==null?void 0:k.relative),{path:Q,submission:ne,error:Ee}=AA(c.v7_normalizeFormMethod,!1,F,k),he=E.location,ce=Zc(E.location,Q,k&&k.state);ce=gt({},ce,t.history.encodeLocation(ce));let le=k&&k.replace!=null?k.replace:void 0,Ne=Pt.Push;le===!0?Ne=Pt.Replace:le===!1||ne!=null&&Dr(ne.formMethod)&&ne.formAction===E.location.pathname+E.location.search&&(Ne=Pt.Replace);let Ye=k&&"preventScrollReset"in k?k.preventScrollReset===!0:void 0,we=(k&&k.unstable_flushSync)===!0,Be=Yi({currentLocation:he,nextLocation:ce,historyAction:Ne});if(Be){La(Be,{state:"blocked",location:ce,proceed(){La(Be,{state:"proceeding",proceed:void 0,reset:void 0,location:ce}),fr(S,k)},reset(){let et=new Map(E.blockers);et.set(Be,Gu),Ze({blockers:et})}});return}return await Hn(Ne,ce,{submission:ne,pendingError:Ee,preventScrollReset:Ye,replace:k&&k.replace,enableViewTransition:k&&k.unstable_viewTransition,flushSync:we})}function Ft(){if(Da(),Ze({revalidation:"loading"}),E.navigation.state!=="submitting"){if(E.navigation.state==="idle"){Hn(E.historyAction,E.location,{startUninterruptedRevalidation:!0});return}Hn(x||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation})}}async function Hn(S,k,F){O&&O.abort(),O=null,x=S,De=(F&&F.startUninterruptedRevalidation)===!0,Qg(E.location,E.matches),D=(F&&F.preventScrollReset)===!0,G=(F&&F.enableViewTransition)===!0;let Q=a||o,ne=F&&F.overrideNavigation,Ee=fl(Q,k,l),he=(F&&F.flushSync)===!0;if(!Ee){let et=vr(404,{pathname:k.pathname}),{matches:Xt,route:dn}=NA(Q);Ru(),cn(k,{matches:Xt,loaderData:{},errors:{[dn.id]:et}},{flushSync:he});return}if(E.initialized&&!pt&&v4(E.location,k)&&!(F&&F.submission&&Dr(F.submission.formMethod))){cn(k,{matches:Ee},{flushSync:he});return}O=new AbortController;let ce=Qu(t.history,k,O.signal,F&&F.submission),le,Ne;if(F&&F.pendingError)Ne={[Cc(Ee).route.id]:F.pendingError};else if(F&&F.submission&&Dr(F.submission.formMethod)){let et=await Hg(ce,k,F.submission,Ee,{replace:F.replace,flushSync:he});if(et.shortCircuited)return;le=et.pendingActionData,Ne=et.pendingActionError,ne=Q_(k,F.submission),he=!1,ce=new Request(ce.url,{signal:ce.signal})}let{shortCircuited:Ye,loaderData:we,errors:Be}=await Kn(ce,k,Ee,ne,F&&F.submission,F&&F.fetcherSubmission,F&&F.replace,he,le,Ne);Ye||(O=null,cn(k,gt({matches:Ee},le?{actionData:le}:{},{loaderData:we,errors:Be})))}async function Hg(S,k,F,Q,ne){ne===void 0&&(ne={}),Da();let Ee=T4(k,F);Ze({navigation:Ee},{flushSync:ne.flushSync===!0});let he,ce=vy(Q,k);if(!ce.route.action&&!ce.route.lazy)he={type:Rt.error,error:vr(405,{method:S.method,pathname:k.pathname,routeId:ce.route.id})};else if(he=await Yu("action",S,ce,Q,s,i,l),S.signal.aborted)return{shortCircuited:!0};if(Al(he)){let le;return ne&&ne.replace!=null?le=ne.replace:le=he.location===E.location.pathname+E.location.search,await io(E,he,{submission:F,replace:le}),{shortCircuited:!0}}if(kc(he)){let le=Cc(Q,ce.route.id);return(ne&&ne.replace)!==!0&&(x=Pt.Push),{pendingActionData:{},pendingActionError:{[le.route.id]:he.error}}}if(Fo(he))throw vr(400,{type:"defer-action"});return{pendingActionData:{[ce.route.id]:he.data}}}async function Kn(S,k,F,Q,ne,Ee,he,ce,le,Ne){let Ye=Q||Q_(k,ne),we=ne||Ee||LA(Ye),Be=a||o,[et,Xt]=SA(t.history,E,F,we,k,pt,un,Ke,In,dr,Qt,Be,l,le,Ne);if(Ru(ze=>!(F&&F.some(Vn=>Vn.route.id===ze))||et&&et.some(Vn=>Vn.route.id===ze)),wn=++cr,et.length===0&&Xt.length===0){let ze=Oh();return cn(k,gt({matches:F,loaderData:{},errors:Ne||null},le?{actionData:le}:{},ze?{fetchers:new Map(E.fetchers)}:{}),{flushSync:ce}),{shortCircuited:!0}}if(!De){Xt.forEach(Vn=>{let ct=E.fetchers.get(Vn.key),mr=Xu(void 0,ct?ct.data:void 0);E.fetchers.set(Vn.key,mr)});let ze=le||E.actionData;Ze(gt({navigation:Ye},ze?Object.keys(ze).length===0?{actionData:null}:{actionData:ze}:{},Xt.length>0?{fetchers:new Map(E.fetchers)}:{}),{flushSync:ce})}Xt.forEach(ze=>{ye.has(ze.key)&&zr(ze.key),ze.controller&&ye.set(ze.key,ze.controller)});let dn=()=>Xt.forEach(ze=>zr(ze.key));O&&O.signal.addEventListener("abort",dn);let{results:pr,loaderResults:Wr,fetcherResults:Pr}=await Kg(E.matches,F,et,Xt,S);if(S.signal.aborted)return{shortCircuited:!0};O&&O.signal.removeEventListener("abort",dn),Xt.forEach(ze=>ye.delete(ze.key));let Gn=DA(pr);if(Gn){if(Gn.idx>=et.length){let ze=Xt[Gn.idx-et.length].key;Qt.add(ze)}return await io(E,Gn.result,{replace:he}),{shortCircuited:!0}}let{loaderData:Xi,errors:Cu}=kA(E,F,et,Wr,Ne,Xt,Pr,hr);hr.forEach((ze,Vn)=>{ze.subscribe(ct=>{(ct||ze.done)&&hr.delete(Vn)})});let ku=Oh(),xu=Lh(wn),Ji=ku||xu||Xt.length>0;return gt({loaderData:Xi,errors:Cu},Ji?{fetchers:new Map(E.fetchers)}:{})}function Su(S,k,F,Q){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ye.has(S)&&zr(S);let ne=(Q&&Q.unstable_flushSync)===!0,Ee=a||o,he=gy(E.location,E.matches,l,c.v7_prependBasename,F,k,Q==null?void 0:Q.relative),ce=fl(Ee,he,l);if(!ce){so(S,k,vr(404,{pathname:he}),{flushSync:ne});return}let{path:le,submission:Ne,error:Ye}=AA(c.v7_normalizeFormMethod,!0,he,Q);if(Ye){so(S,k,Ye,{flushSync:ne});return}let we=vy(ce,le);if(D=(Q&&Q.preventScrollReset)===!0,Ne&&Dr(Ne.formMethod)){ue(S,k,le,we,ce,ne,Ne);return}dr.set(S,{routeId:k,path:le}),Na(S,k,le,we,ce,ne,Ne)}async function ue(S,k,F,Q,ne,Ee,he){if(Da(),dr.delete(S),!Q.route.action&&!Q.route.lazy){let ct=vr(405,{method:he.formMethod,pathname:F,routeId:k});so(S,k,ct,{flushSync:Ee});return}let ce=E.fetchers.get(S);Br(S,I4(he,ce),{flushSync:Ee});let le=new AbortController,Ne=Qu(t.history,F,le.signal,he);ye.set(S,le);let Ye=cr,we=await Yu("action",Ne,Q,ne,s,i,l);if(Ne.signal.aborted){ye.get(S)===le&&ye.delete(S);return}if(In.has(S)){Br(S,as(void 0));return}if(Al(we))if(ye.delete(S),wn>Ye){Br(S,as(void 0));return}else return Qt.add(S),Br(S,Xu(he)),io(E,we,{fetcherSubmission:he});if(kc(we)){so(S,k,we.error);return}if(Fo(we))throw vr(400,{type:"defer-action"});let Be=E.navigation.location||E.location,et=Qu(t.history,Be,le.signal),Xt=a||o,dn=E.navigation.state!=="idle"?fl(Xt,E.navigation.location,l):E.matches;Re(dn,"Didn't find any matches after fetcher action");let pr=++cr;Tn.set(S,pr);let Wr=Xu(he,we.data);E.fetchers.set(S,Wr);let[Pr,Gn]=SA(t.history,E,dn,he,Be,pt,un,Ke,In,dr,Qt,Xt,l,{[Q.route.id]:we.data},void 0);Gn.filter(ct=>ct.key!==S).forEach(ct=>{let mr=ct.key,Fh=E.fetchers.get(mr),Jg=Xu(void 0,Fh?Fh.data:void 0);E.fetchers.set(mr,Jg),ye.has(mr)&&zr(mr),ct.controller&&ye.set(mr,ct.controller)}),Ze({fetchers:new Map(E.fetchers)});let Xi=()=>Gn.forEach(ct=>zr(ct.key));le.signal.addEventListener("abort",Xi);let{results:Cu,loaderResults:ku,fetcherResults:xu}=await Kg(E.matches,dn,Pr,Gn,et);if(le.signal.aborted)return;le.signal.removeEventListener("abort",Xi),Tn.delete(S),ye.delete(S),Gn.forEach(ct=>ye.delete(ct.key));let Ji=DA(Cu);if(Ji){if(Ji.idx>=Pr.length){let ct=Gn[Ji.idx-Pr.length].key;Qt.add(ct)}return io(E,Ji.result)}let{loaderData:ze,errors:Vn}=kA(E,E.matches,Pr,ku,void 0,Gn,xu,hr);if(E.fetchers.has(S)){let ct=as(we.data);E.fetchers.set(S,ct)}Lh(pr),E.navigation.state==="loading"&&pr>wn?(Re(x,"Expected pending action"),O&&O.abort(),cn(E.navigation.location,{matches:dn,loaderData:ze,errors:Vn,fetchers:new Map(E.fetchers)})):(Ze({errors:Vn,loaderData:xA(E.loaderData,ze,dn,Vn),fetchers:new Map(E.fetchers)}),pt=!1)}async function Na(S,k,F,Q,ne,Ee,he){let ce=E.fetchers.get(S);Br(S,Xu(he,ce?ce.data:void 0),{flushSync:Ee});let le=new AbortController,Ne=Qu(t.history,F,le.signal);ye.set(S,le);let Ye=cr,we=await Yu("loader",Ne,Q,ne,s,i,l);if(Fo(we)&&(we=await KC(we,Ne.signal,!0)||we),ye.get(S)===le&&ye.delete(S),!Ne.signal.aborted){if(In.has(S)){Br(S,as(void 0));return}if(Al(we))if(wn>Ye){Br(S,as(void 0));return}else{Qt.add(S),await io(E,we);return}if(kc(we)){so(S,k,we.error);return}Re(!Fo(we),"Unhandled fetcher deferred data"),Br(S,as(we.data))}}async function io(S,k,F){let{submission:Q,fetcherSubmission:ne,replace:Ee}=F===void 0?{}:F;k.revalidate&&(pt=!0);let he=Zc(S.location,k.location,{_isRedirect:!0});if(Re(he,"Expected a location on the redirect navigation"),n){let Be=!1;if(k.reloadDocument)Be=!0;else if(zC.test(k.location)){const et=t.history.createURL(k.location);Be=et.origin!==e.location.origin||ou(et.pathname,l)==null}if(Be){Ee?e.location.replace(k.location):e.location.assign(k.location);return}}O=null;let ce=Ee===!0?Pt.Replace:Pt.Push,{formMethod:le,formAction:Ne,formEncType:Ye}=S.navigation;!Q&&!ne&&le&&Ne&&Ye&&(Q=LA(S.navigation));let we=Q||ne;if(c4.has(k.status)&&we&&Dr(we.formMethod))await Hn(ce,he,{submission:gt({},we,{formAction:k.location}),preventScrollReset:D});else{let Be=Q_(he,Q);await Hn(ce,he,{overrideNavigation:Be,fetcherSubmission:ne,preventScrollReset:D})}}async function Kg(S,k,F,Q,ne){let Ee=await Promise.all([...F.map(le=>Yu("loader",ne,le,k,s,i,l)),...Q.map(le=>le.matches&&le.match&&le.controller?Yu("loader",Qu(t.history,le.path,le.controller.signal),le.match,le.matches,s,i,l):{type:Rt.error,error:vr(404,{pathname:le.path})})]),he=Ee.slice(0,F.length),ce=Ee.slice(F.length);return await Promise.all([OA(S,F,he,he.map(()=>ne.signal),!1,E.loaderData),OA(S,Q.map(le=>le.match),ce,Q.map(le=>le.controller?le.controller.signal:null),!0)]),{results:Ee,loaderResults:he,fetcherResults:ce}}function Da(){pt=!0,un.push(...Ru()),dr.forEach((S,k)=>{ye.has(k)&&(Ke.push(k),zr(k))})}function Br(S,k,F){F===void 0&&(F={}),E.fetchers.set(S,k),Ze({fetchers:new Map(E.fetchers)},{flushSync:(F&&F.flushSync)===!0})}function so(S,k,F,Q){Q===void 0&&(Q={});let ne=Cc(E.matches,k);Oa(S),Ze({errors:{[ne.route.id]:F},fetchers:new Map(E.fetchers)},{flushSync:(Q&&Q.flushSync)===!0})}function Dh(S){return c.v7_fetcherPersist&&(Sr.set(S,(Sr.get(S)||0)+1),In.has(S)&&In.delete(S)),E.fetchers.get(S)||d4}function Oa(S){let k=E.fetchers.get(S);ye.has(S)&&!(k&&k.state==="loading"&&Tn.has(S))&&zr(S),dr.delete(S),Tn.delete(S),Qt.delete(S),In.delete(S),E.fetchers.delete(S)}function oo(S){if(c.v7_fetcherPersist){let k=(Sr.get(S)||0)-1;k<=0?(Sr.delete(S),In.add(S)):Sr.set(S,k)}else Oa(S);Ze({fetchers:new Map(E.fetchers)})}function zr(S){let k=ye.get(S);Re(k,"Expected fetch controller: "+S),k.abort(),ye.delete(S)}function Gg(S){for(let k of S){let F=Dh(k),Q=as(F.data);E.fetchers.set(k,Q)}}function Oh(){let S=[],k=!1;for(let F of Qt){let Q=E.fetchers.get(F);Re(Q,"Expected fetcher: "+F),Q.state==="loading"&&(Qt.delete(F),S.push(F),k=!0)}return Gg(S),k}function Lh(S){let k=[];for(let[F,Q]of Tn)if(Q<S){let ne=E.fetchers.get(F);Re(ne,"Expected fetcher: "+F),ne.state==="loading"&&(zr(F),Tn.delete(F),k.push(F))}return Gg(k),k.length>0}function Yg(S,k){let F=E.blockers.get(S)||Gu;return q.get(S)!==k&&q.set(S,k),F}function Pu(S){E.blockers.delete(S),q.delete(S)}function La(S,k){let F=E.blockers.get(S)||Gu;Re(F.state==="unblocked"&&k.state==="blocked"||F.state==="blocked"&&k.state==="blocked"||F.state==="blocked"&&k.state==="proceeding"||F.state==="blocked"&&k.state==="unblocked"||F.state==="proceeding"&&k.state==="unblocked","Invalid blocker state transition: "+F.state+" -> "+k.state);let Q=new Map(E.blockers);Q.set(S,k),Ze({blockers:Q})}function Yi(S){let{currentLocation:k,nextLocation:F,historyAction:Q}=S;if(q.size===0)return;q.size>1&&oa(!1,"A router only supports one blocker at a time");let ne=Array.from(q.entries()),[Ee,he]=ne[ne.length-1],ce=E.blockers.get(Ee);if(!(ce&&ce.state==="proceeding")&&he({currentLocation:k,nextLocation:F,historyAction:Q}))return Ee}function Ru(S){let k=[];return hr.forEach((F,Q)=>{(!S||S(Q))&&(F.cancel(),k.push(Q),hr.delete(Q))}),k}function Qi(S,k,F){if(m=S,b=k,v=F||null,!I&&E.navigation===Y_){I=!0;let Q=Mh(E.location,E.matches);Q!=null&&Ze({restoreScrollPosition:Q})}return()=>{m=null,b=null,v=null}}function Vh(S,k){return v&&v(S,k.map(Q=>UU(Q,E.loaderData)))||S.key}function Qg(S,k){if(m&&b){let F=Vh(S,k);m[F]=b()}}function Mh(S,k){if(m){let F=Vh(S,k),Q=m[F];if(typeof Q=="number")return Q}return null}function Xg(S){s={},a=my(S,i,void 0,s)}return A={get basename(){return l},get state(){return E},get routes(){return o},get window(){return e},initialize:Ie,subscribe:L,enableScrollRestoration:Qi,navigate:fr,fetch:Su,revalidate:Ft,createHref:S=>t.history.createHref(S),encodeLocation:S=>t.history.encodeLocation(S),getFetcher:Dh,deleteFetcher:oo,dispose:Ge,getBlocker:Yg,deleteBlocker:Pu,_internalFetchControllers:ye,_internalActiveDeferreds:hr,_internalSetRoutes:Xg},A}function p4(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function gy(t,e,n,r,i,s,o){let a,l;if(s){a=[];for(let d of e)if(a.push(d),d.route.id===s){l=d;break}}else a=e,l=e[e.length-1];let c=Sw(i||".",Aw(a),ou(t.pathname,n)||t.pathname,o==="path");return i==null&&(c.search=t.search,c.hash=t.hash),(i==null||i===""||i===".")&&l&&l.route.index&&!Rw(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(c.pathname=c.pathname==="/"?n:Ni([n,c.pathname])),aa(c)}function AA(t,e,n,r){if(!r||!p4(r))return{path:n};if(r.formMethod&&!w4(r.formMethod))return{path:n,error:vr(405,{method:r.formMethod})};let i=()=>({path:n,error:vr(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=HC(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Dr(o))return i();let m=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((v,b)=>{let[I,_]=b;return""+v+I+"="+_+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:m}}}else if(r.formEncType==="application/json"){if(!Dr(o))return i();try{let m=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:m,text:void 0}}}catch{return i()}}}Re(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=_y(r.formData),c=r.formData;else if(r.body instanceof FormData)l=_y(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=CA(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=CA(l)}catch{return i()}let d={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Dr(d.formMethod))return{path:n,submission:d};let f=Bi(n);return e&&f.search&&Rw(f.search)&&l.append("index",""),f.search="?"+l,{path:aa(f),submission:d}}function m4(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function SA(t,e,n,r,i,s,o,a,l,c,d,f,m,v,b){let I=b?Object.values(b)[0]:v?Object.values(v)[0]:void 0,_=t.createURL(e.location),y=t.createURL(i),T=b?Object.keys(b)[0]:void 0,E=m4(n,T).filter((D,O)=>{if(D.route.lazy)return!0;if(D.route.loader==null)return!1;if(g4(e.loaderData,e.matches[O],D)||o.some(Ce=>Ce===D.route.id))return!0;let G=e.matches[O],H=D;return PA(D,gt({currentUrl:_,currentParams:G.params,nextUrl:y,nextParams:H.params},r,{actionResult:I,defaultShouldRevalidate:s||_.pathname+_.search===y.pathname+y.search||_.search!==y.search||qC(G,H)}))}),x=[];return c.forEach((D,O)=>{if(!n.some(pt=>pt.route.id===D.routeId)||l.has(O))return;let G=fl(f,D.path,m);if(!G){x.push({key:O,routeId:D.routeId,path:D.path,matches:null,match:null,controller:null});return}let H=e.fetchers.get(O),Ce=vy(G,D.path),De=!1;d.has(O)?De=!1:a.includes(O)?De=!0:H&&H.state!=="idle"&&H.data===void 0?De=s:De=PA(Ce,gt({currentUrl:_,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:I,defaultShouldRevalidate:s})),De&&x.push({key:O,routeId:D.routeId,path:D.path,matches:G,match:Ce,controller:new AbortController})}),[E,x]}function g4(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function qC(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function PA(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function RA(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Re(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";oa(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!FU.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,gt({},e(i),{lazy:void 0}))}async function Yu(t,e,n,r,i,s,o,a){a===void 0&&(a={});let l,c,d,f=b=>{let I,_=new Promise((y,T)=>I=T);return d=()=>I(),e.signal.addEventListener("abort",d),Promise.race([b({request:e,params:n.params,context:a.requestContext}),_])};try{let b=n.route[t];if(n.route.lazy)if(b){let I,_=await Promise.all([f(b).catch(y=>{I=y}),RA(n.route,s,i)]);if(I)throw I;c=_[0]}else if(await RA(n.route,s,i),b=n.route[t],b)c=await f(b);else if(t==="action"){let I=new URL(e.url),_=I.pathname+I.search;throw vr(405,{method:e.method,pathname:_,routeId:n.route.id})}else return{type:Rt.data,data:void 0};else if(b)c=await f(b);else{let I=new URL(e.url),_=I.pathname+I.search;throw vr(404,{pathname:_})}Re(c!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(b){l=Rt.error,c=b}finally{d&&e.signal.removeEventListener("abort",d)}if(E4(c)){let b=c.status;if(u4.has(b)){let y=c.headers.get("Location");if(Re(y,"Redirects returned/thrown from loaders/actions must have a Location header"),!zC.test(y))y=gy(new URL(e.url),r.slice(0,r.indexOf(n)+1),o,!0,y);else if(!a.isStaticRequest){let T=new URL(e.url),A=y.startsWith("//")?new URL(T.protocol+y):new URL(y),E=ou(A.pathname,o)!=null;A.origin===T.origin&&E&&(y=A.pathname+A.search+A.hash)}if(a.isStaticRequest)throw c.headers.set("Location",y),c;return{type:Rt.redirect,status:b,location:y,revalidate:c.headers.get("X-Remix-Revalidate")!==null,reloadDocument:c.headers.get("X-Remix-Reload-Document")!==null}}if(a.isRouteRequest)throw{type:l===Rt.error?Rt.error:Rt.data,response:c};let I,_=c.headers.get("Content-Type");return _&&/\bapplication\/json\b/.test(_)?I=await c.json():I=await c.text(),l===Rt.error?{type:l,error:new Pw(b,c.statusText,I),headers:c.headers}:{type:Rt.data,data:I,statusCode:c.status,headers:c.headers}}if(l===Rt.error)return{type:l,error:c};if(y4(c)){var m,v;return{type:Rt.deferred,deferredData:c,statusCode:(m=c.init)==null?void 0:m.status,headers:((v=c.init)==null?void 0:v.headers)&&new Headers(c.init.headers)}}return{type:Rt.data,data:c}}function Qu(t,e,n,r){let i=t.createURL(HC(e)).toString(),s={signal:n};if(r&&Dr(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=_y(r.formData):s.body=r.formData}return new Request(i,s)}function _y(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function CA(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function _4(t,e,n,r,i){let s={},o=null,a,l=!1,c={};return n.forEach((d,f)=>{let m=e[f].route.id;if(Re(!Al(d),"Cannot handle redirect results in processLoaderData"),kc(d)){let v=Cc(t,m),b=d.error;r&&(b=Object.values(r)[0],r=void 0),o=o||{},o[v.route.id]==null&&(o[v.route.id]=b),s[m]=void 0,l||(l=!0,a=jC(d.error)?d.error.status:500),d.headers&&(c[m]=d.headers)}else Fo(d)?(i.set(m,d.deferredData),s[m]=d.deferredData.data):s[m]=d.data,d.statusCode!=null&&d.statusCode!==200&&!l&&(a=d.statusCode),d.headers&&(c[m]=d.headers)}),r&&(o=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:c}}function kA(t,e,n,r,i,s,o,a){let{loaderData:l,errors:c}=_4(e,n,r,i,a);for(let d=0;d<s.length;d++){let{key:f,match:m,controller:v}=s[d];Re(o!==void 0&&o[d]!==void 0,"Did not find corresponding fetcher result");let b=o[d];if(!(v&&v.signal.aborted))if(kc(b)){let I=Cc(t.matches,m==null?void 0:m.route.id);c&&c[I.route.id]||(c=gt({},c,{[I.route.id]:b.error})),t.fetchers.delete(f)}else if(Al(b))Re(!1,"Unhandled fetcher revalidation redirect");else if(Fo(b))Re(!1,"Unhandled fetcher deferred data");else{let I=as(b.data);t.fetchers.set(f,I)}}return{loaderData:l,errors:c}}function xA(t,e,n,r){let i=gt({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function Cc(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function NA(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function vr(t,e){let{pathname:n,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?a="defer() is not supported in actions":s==="invalid-body"&&(a="Unable to encode submission body")):t===403?(o="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",a='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new Pw(t||500,o,new Error(a),!0)}function DA(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Al(n))return{result:n,idx:e}}}function HC(t){let e=typeof t=="string"?Bi(t):t;return aa(gt({},e,{hash:""}))}function v4(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Fo(t){return t.type===Rt.deferred}function kc(t){return t.type===Rt.error}function Al(t){return(t&&t.type)===Rt.redirect}function y4(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function E4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function w4(t){return l4.has(t.toLowerCase())}function Dr(t){return o4.has(t.toLowerCase())}async function OA(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],l=e[o];if(!l)continue;let c=t.find(f=>f.route.id===l.route.id),d=c!=null&&!qC(c,l)&&(s&&s[l.route.id])!==void 0;if(Fo(a)&&(i||d)){let f=r[o];Re(f,"Expected an AbortSignal for revalidating fetcher deferred result"),await KC(a,f,i).then(m=>{m&&(n[o]=m||n[o])})}}}async function KC(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Rt.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Rt.error,error:i}}return{type:Rt.data,data:t.deferredData.data}}}function Rw(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function vy(t,e){let n=typeof e=="string"?Bi(e).search:e.search;if(t[t.length-1].route.index&&Rw(n||""))return t[t.length-1];let r=UC(t);return r[r.length-1]}function LA(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Q_(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function T4(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Xu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function I4(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function as(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function b4(t,e){try{let n=t.sessionStorage.getItem(WC);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function A4(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(WC,JSON.stringify(n))}catch(r){oa(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mp(){return Mp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mp.apply(this,arguments)}const km=U.createContext(null),GC=U.createContext(null),au=U.createContext(null),xm=U.createContext(null),Ys=U.createContext({outlet:null,matches:[],isDataRoute:!1}),YC=U.createContext(null);function S4(t,e){let{relative:n}=e===void 0?{}:e;Gd()||Re(!1);let{basename:r,navigator:i}=U.useContext(au),{hash:s,pathname:o,search:a}=XC(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ni([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Gd(){return U.useContext(xm)!=null}function Nm(){return Gd()||Re(!1),U.useContext(xm).location}function QC(t){U.useContext(au).static||U.useLayoutEffect(t)}function Dm(){let{isDataRoute:t}=U.useContext(Ys);return t?U4():P4()}function P4(){Gd()||Re(!1);let t=U.useContext(km),{basename:e,navigator:n}=U.useContext(au),{matches:r}=U.useContext(Ys),{pathname:i}=Nm(),s=JSON.stringify(Aw(r)),o=U.useRef(!1);return QC(()=>{o.current=!0}),U.useCallback(function(l,c){if(c===void 0&&(c={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=Sw(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ni([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,s,i,t])}const R4=U.createContext(null);function C4(t){let e=U.useContext(Ys).outlet;return e&&U.createElement(R4.Provider,{value:t},e)}function XC(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=U.useContext(Ys),{pathname:i}=Nm(),s=JSON.stringify(Aw(r));return U.useMemo(()=>Sw(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function k4(t,e,n){Gd()||Re(!1);let{navigator:r}=U.useContext(au),{matches:i}=U.useContext(Ys),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Nm(),c;if(e){var d;let I=typeof e=="string"?Bi(e):e;a==="/"||(d=I.pathname)!=null&&d.startsWith(a)||Re(!1),c=I}else c=l;let f=c.pathname||"/",m=a==="/"?f:f.slice(a.length)||"/",v=fl(t,{pathname:m}),b=L4(v&&v.map(I=>Object.assign({},I,{params:Object.assign({},o,I.params),pathname:Ni([a,r.encodeLocation?r.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?a:Ni([a,r.encodeLocation?r.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),i,n);return e&&b?U.createElement(xm.Provider,{value:{location:Mp({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Pt.Pop}},b):b}function x4(){let t=$4(),e=jC(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:i},n):null,s)}const N4=U.createElement(x4,null);class D4 extends U.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?U.createElement(Ys.Provider,{value:this.props.routeContext},U.createElement(YC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function O4(t){let{routeContext:e,match:n,children:r}=t,i=U.useContext(km);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),U.createElement(Ys.Provider,{value:e},r)}function L4(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||Re(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,c)=>{let d=l.route.id?o==null?void 0:o[l.route.id]:null,f=null;n&&(f=l.route.errorElement||N4);let m=e.concat(s.slice(0,c+1)),v=()=>{let b;return d?b=f:l.route.Component?b=U.createElement(l.route.Component,null):l.route.element?b=l.route.element:b=a,U.createElement(O4,{match:l,routeContext:{outlet:a,matches:m,isDataRoute:n!=null},children:b})};return n&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?U.createElement(D4,{location:n.location,revalidation:n.revalidation,component:f,error:d,children:v(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):v()},null)}var JC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(JC||{}),Fp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Fp||{});function V4(t){let e=U.useContext(km);return e||Re(!1),e}function M4(t){let e=U.useContext(GC);return e||Re(!1),e}function F4(t){let e=U.useContext(Ys);return e||Re(!1),e}function ZC(t){let e=F4(),n=e.matches[e.matches.length-1];return n.route.id||Re(!1),n.route.id}function $4(){var t;let e=U.useContext(YC),n=M4(Fp.UseRouteError),r=ZC(Fp.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function U4(){let{router:t}=V4(JC.UseNavigateStable),e=ZC(Fp.UseNavigateStable),n=U.useRef(!1);return QC(()=>{n.current=!0}),U.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Mp({fromRouteId:e},s)))},[t,e])}function j4(t){return C4(t.context)}function B4(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Pt.Pop,navigator:s,static:o=!1}=t;Gd()&&Re(!1);let a=e.replace(/^\/*/,"/"),l=U.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Bi(r));let{pathname:c="/",search:d="",hash:f="",state:m=null,key:v="default"}=r,b=U.useMemo(()=>{let I=ou(c,a);return I==null?null:{location:{pathname:I,search:d,hash:f,state:m,key:v},navigationType:i}},[a,c,d,f,m,v,i]);return b==null?null:U.createElement(au.Provider,{value:l},U.createElement(xm.Provider,{children:n,value:b}))}new Promise(()=>{});function z4(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:U.createElement(t.Component),Component:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:U.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ed(){return ed=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ed.apply(this,arguments)}function W4(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function q4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function H4(t,e){return t.button===0&&(!e||e==="_self")&&!q4(t)}const K4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];function G4(t,e){return f4({basename:e==null?void 0:e.basename,future:ed({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:LU({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||Y4(),routes:t,mapRouteProperties:z4,window:e==null?void 0:e.window}).initialize()}function Y4(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=ed({},e,{errors:Q4(e.errors)})),e}function Q4(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Pw(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const X4=U.createContext({isTransitioning:!1}),J4=U.createContext(new Map),Z4="startTransition",VA=$2[Z4],ej="flushSync",MA=OU[ej];function tj(t){VA?VA(t):t()}function Ju(t){MA?MA(t):t()}let nj=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function rj(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=U.useState(n.state),[o,a]=U.useState(),[l,c]=U.useState({isTransitioning:!1}),[d,f]=U.useState(),[m,v]=U.useState(),[b,I]=U.useState(),_=U.useRef(new Map),{v7_startTransition:y}=r||{},T=U.useCallback(O=>{y?tj(O):O()},[y]),A=U.useCallback((O,G)=>{let{deletedFetchers:H,unstable_flushSync:Ce,unstable_viewTransitionOpts:De}=G;H.forEach(un=>_.current.delete(un)),O.fetchers.forEach((un,Ke)=>{un.data!==void 0&&_.current.set(Ke,un.data)});let pt=n.window==null||typeof n.window.document.startViewTransition!="function";if(!De||pt){Ce?Ju(()=>s(O)):T(()=>s(O));return}if(Ce){Ju(()=>{m&&(d&&d.resolve(),m.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:De.currentLocation,nextLocation:De.nextLocation})});let un=n.window.document.startViewTransition(()=>{Ju(()=>s(O))});un.finished.finally(()=>{Ju(()=>{f(void 0),v(void 0),a(void 0),c({isTransitioning:!1})})}),Ju(()=>v(un));return}m?(d&&d.resolve(),m.skipTransition(),I({state:O,currentLocation:De.currentLocation,nextLocation:De.nextLocation})):(a(O),c({isTransitioning:!0,flushSync:!1,currentLocation:De.currentLocation,nextLocation:De.nextLocation}))},[n.window,m,d,_,T]);U.useLayoutEffect(()=>n.subscribe(A),[n,A]),U.useEffect(()=>{l.isTransitioning&&!l.flushSync&&f(new nj)},[l]),U.useEffect(()=>{if(d&&o&&n.window){let O=o,G=d.promise,H=n.window.document.startViewTransition(async()=>{T(()=>s(O)),await G});H.finished.finally(()=>{f(void 0),v(void 0),a(void 0),c({isTransitioning:!1})}),v(H)}},[T,o,d,n.window]),U.useEffect(()=>{d&&o&&i.location.key===o.location.key&&d.resolve()},[d,m,i.location,o]),U.useEffect(()=>{!l.isTransitioning&&b&&(a(b.state),c({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),I(void 0))},[l.isTransitioning,b]);let E=U.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:O=>n.navigate(O),push:(O,G,H)=>n.navigate(O,{state:G,preventScrollReset:H==null?void 0:H.preventScrollReset}),replace:(O,G,H)=>n.navigate(O,{replace:!0,state:G,preventScrollReset:H==null?void 0:H.preventScrollReset})}),[n]),x=n.basename||"/",D=U.useMemo(()=>({router:n,navigator:E,static:!1,basename:x}),[n,E,x]);return U.createElement(U.Fragment,null,U.createElement(km.Provider,{value:D},U.createElement(GC.Provider,{value:i},U.createElement(J4.Provider,{value:_.current},U.createElement(X4.Provider,{value:l},U.createElement(B4,{basename:x,location:i.location,navigationType:i.historyAction,navigator:E},i.initialized?U.createElement(ij,{routes:n.routes,state:i}):e))))),null)}function ij(t){let{routes:e,state:n}=t;return k4(e,void 0,n)}const sj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",oj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ti=U.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,unstable_viewTransition:f}=e,m=W4(e,K4),{basename:v}=U.useContext(au),b,I=!1;if(typeof c=="string"&&oj.test(c)&&(b=c,sj))try{let A=new URL(window.location.href),E=c.startsWith("//")?new URL(A.protocol+c):new URL(c),x=ou(E.pathname,v);E.origin===A.origin&&x!=null?c=x+E.search+E.hash:I=!0}catch{}let _=S4(c,{relative:i}),y=aj(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,unstable_viewTransition:f});function T(A){r&&r(A),A.defaultPrevented||y(A)}return U.createElement("a",ed({},m,{href:b||_,onClick:I||s?r:T,ref:n,target:l}))});var FA;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(FA||(FA={}));var $A;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})($A||($A={}));function aj(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Dm(),c=Nm(),d=XC(t,{relative:o});return U.useCallback(f=>{if(H4(f,n)){f.preventDefault();let m=r!==void 0?r:aa(c)===aa(d);l(t,{replace:m,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,l,d,r,i,n,t,s,o,a])}var ek={exports:{}},lj="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",uj=lj,cj=uj;function tk(){}function nk(){}nk.resetWarningCache=tk;var dj=function(){function t(r,i,s,o,a,l){if(l!==cj){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:nk,resetWarningCache:tk};return n.PropTypes=n,n};ek.exports=dj();var hj=ek.exports;const Se=PE(hj);var Ns=_n.createContext(null);function fj(t){t()}var rk=fj,pj=function(e){return rk=e},mj=function(){return rk};function gj(){var t=mj(),e=null,n=null;return{clear:function(){e=null,n=null},notify:function(){t(function(){for(var i=e;i;)i.callback(),i=i.next})},get:function(){for(var i=[],s=e;s;)i.push(s),s=s.next;return i},subscribe:function(i){var s=!0,o=n={callback:i,next:null,prev:n};return o.prev?o.prev.next=o:e=o,function(){!s||e===null||(s=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var UA={notify:function(){},get:function(){return[]}};function ik(t,e){var n,r=UA;function i(f){return l(),r.subscribe(f)}function s(){r.notify()}function o(){d.onStateChange&&d.onStateChange()}function a(){return!!n}function l(){n||(n=e?e.addNestedSub(o):t.subscribe(o),r=gj())}function c(){n&&(n(),n=void 0,r.clear(),r=UA)}var d={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:l,tryUnsubscribe:c,getListeners:function(){return r}};return d}var yy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?U.useLayoutEffect:U.useEffect;function _j(t){var e=t.store,n=t.context,r=t.children,i=U.useMemo(function(){var a=ik(e);return{store:e,subscription:a}},[e]),s=U.useMemo(function(){return e.getState()},[e]);yy(function(){var a=i.subscription;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),s!==e.getState()&&a.notifyNestedSubs(),function(){a.tryUnsubscribe(),a.onStateChange=null}},[i,s]);var o=n||Ns;return _n.createElement(o.Provider,{value:i},r)}var sk={exports:{}},je={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ht=typeof Symbol=="function"&&Symbol.for,Cw=Ht?Symbol.for("react.element"):60103,kw=Ht?Symbol.for("react.portal"):60106,Om=Ht?Symbol.for("react.fragment"):60107,Lm=Ht?Symbol.for("react.strict_mode"):60108,Vm=Ht?Symbol.for("react.profiler"):60114,Mm=Ht?Symbol.for("react.provider"):60109,Fm=Ht?Symbol.for("react.context"):60110,xw=Ht?Symbol.for("react.async_mode"):60111,$m=Ht?Symbol.for("react.concurrent_mode"):60111,Um=Ht?Symbol.for("react.forward_ref"):60112,jm=Ht?Symbol.for("react.suspense"):60113,vj=Ht?Symbol.for("react.suspense_list"):60120,Bm=Ht?Symbol.for("react.memo"):60115,zm=Ht?Symbol.for("react.lazy"):60116,yj=Ht?Symbol.for("react.block"):60121,Ej=Ht?Symbol.for("react.fundamental"):60117,wj=Ht?Symbol.for("react.responder"):60118,Tj=Ht?Symbol.for("react.scope"):60119;function lr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Cw:switch(t=t.type,t){case xw:case $m:case Om:case Vm:case Lm:case jm:return t;default:switch(t=t&&t.$$typeof,t){case Fm:case Um:case zm:case Bm:case Mm:return t;default:return e}}case kw:return e}}}function ok(t){return lr(t)===$m}je.AsyncMode=xw;je.ConcurrentMode=$m;je.ContextConsumer=Fm;je.ContextProvider=Mm;je.Element=Cw;je.ForwardRef=Um;je.Fragment=Om;je.Lazy=zm;je.Memo=Bm;je.Portal=kw;je.Profiler=Vm;je.StrictMode=Lm;je.Suspense=jm;je.isAsyncMode=function(t){return ok(t)||lr(t)===xw};je.isConcurrentMode=ok;je.isContextConsumer=function(t){return lr(t)===Fm};je.isContextProvider=function(t){return lr(t)===Mm};je.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Cw};je.isForwardRef=function(t){return lr(t)===Um};je.isFragment=function(t){return lr(t)===Om};je.isLazy=function(t){return lr(t)===zm};je.isMemo=function(t){return lr(t)===Bm};je.isPortal=function(t){return lr(t)===kw};je.isProfiler=function(t){return lr(t)===Vm};je.isStrictMode=function(t){return lr(t)===Lm};je.isSuspense=function(t){return lr(t)===jm};je.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Om||t===$m||t===Vm||t===Lm||t===jm||t===vj||typeof t=="object"&&t!==null&&(t.$$typeof===zm||t.$$typeof===Bm||t.$$typeof===Mm||t.$$typeof===Fm||t.$$typeof===Um||t.$$typeof===Ej||t.$$typeof===wj||t.$$typeof===Tj||t.$$typeof===yj)};je.typeOf=lr;sk.exports=je;var Ij=sk.exports,ak=Ij,bj={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Aj={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},lk={};lk[ak.ForwardRef]=bj;lk[ak.Memo]=Aj;var Je={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wm=60103,qm=60106,Yd=60107,Qd=60108,Xd=60114,Jd=60109,Zd=60110,eh=60112,th=60113,Nw=60120,nh=60115,rh=60116,uk=60121,ck=60122,dk=60117,hk=60129,fk=60131;if(typeof Symbol=="function"&&Symbol.for){var Zt=Symbol.for;Wm=Zt("react.element"),qm=Zt("react.portal"),Yd=Zt("react.fragment"),Qd=Zt("react.strict_mode"),Xd=Zt("react.profiler"),Jd=Zt("react.provider"),Zd=Zt("react.context"),eh=Zt("react.forward_ref"),th=Zt("react.suspense"),Nw=Zt("react.suspense_list"),nh=Zt("react.memo"),rh=Zt("react.lazy"),uk=Zt("react.block"),ck=Zt("react.server.block"),dk=Zt("react.fundamental"),hk=Zt("react.debug_trace_mode"),fk=Zt("react.legacy_hidden")}function jr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Wm:switch(t=t.type,t){case Yd:case Xd:case Qd:case th:case Nw:return t;default:switch(t=t&&t.$$typeof,t){case Zd:case eh:case rh:case nh:case Jd:return t;default:return e}}case qm:return e}}}var Sj=Jd,Pj=Wm,Rj=eh,Cj=Yd,kj=rh,xj=nh,Nj=qm,Dj=Xd,Oj=Qd,Lj=th;Je.ContextConsumer=Zd;Je.ContextProvider=Sj;Je.Element=Pj;Je.ForwardRef=Rj;Je.Fragment=Cj;Je.Lazy=kj;Je.Memo=xj;Je.Portal=Nj;Je.Profiler=Dj;Je.StrictMode=Oj;Je.Suspense=Lj;Je.isAsyncMode=function(){return!1};Je.isConcurrentMode=function(){return!1};Je.isContextConsumer=function(t){return jr(t)===Zd};Je.isContextProvider=function(t){return jr(t)===Jd};Je.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wm};Je.isForwardRef=function(t){return jr(t)===eh};Je.isFragment=function(t){return jr(t)===Yd};Je.isLazy=function(t){return jr(t)===rh};Je.isMemo=function(t){return jr(t)===nh};Je.isPortal=function(t){return jr(t)===qm};Je.isProfiler=function(t){return jr(t)===Xd};Je.isStrictMode=function(t){return jr(t)===Qd};Je.isSuspense=function(t){return jr(t)===th};Je.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Yd||t===Xd||t===hk||t===Qd||t===th||t===Nw||t===fk||typeof t=="object"&&t!==null&&(t.$$typeof===rh||t.$$typeof===nh||t.$$typeof===Jd||t.$$typeof===Zd||t.$$typeof===eh||t.$$typeof===dk||t.$$typeof===uk||t[0]===ck)};Je.typeOf=jr;function jA(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Vj(t,e){if(jA(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!jA(t[n[i]],e[n[i]]))return!1;return!0}function pk(){var t=U.useContext(Ns);return t}function mk(t){t===void 0&&(t=Ns);var e=t===Ns?pk:function(){return U.useContext(t)};return function(){var r=e(),i=r.store;return i}}var Mj=mk();function Fj(t){t===void 0&&(t=Ns);var e=t===Ns?Mj:mk(t);return function(){var r=e();return r.dispatch}}var lu=Fj(),$j=function(e,n){return e===n};function Uj(t,e,n,r){var i=U.useReducer(function(b){return b+1},0),s=i[1],o=U.useMemo(function(){return ik(n,r)},[n,r]),a=U.useRef(),l=U.useRef(),c=U.useRef(),d=U.useRef(),f=n.getState(),m;try{if(t!==l.current||f!==c.current||a.current){var v=t(f);d.current===void 0||!e(v,d.current)?m=v:m=d.current}else m=d.current}catch(b){throw a.current&&(b.message+=`
The error may be correlated with this previous error:
`+a.current.stack+`

`),b}return yy(function(){l.current=t,c.current=f,d.current=m,a.current=void 0}),yy(function(){function b(){try{var I=n.getState();if(I===c.current)return;var _=l.current(I);if(e(_,d.current))return;d.current=_,c.current=I}catch(y){a.current=y}s()}return o.onStateChange=b,o.trySubscribe(),b(),function(){return o.tryUnsubscribe()}},[n,o]),m}function jj(t){t===void 0&&(t=Ns);var e=t===Ns?pk:function(){return U.useContext(t)};return function(r,i){i===void 0&&(i=$j);var s=e(),o=s.store,a=s.subscription,l=Uj(r,i,o,a);return U.useDebugValue(l),l}}var Hm=jj();pj(bw.unstable_batchedUpdates);const gk="SIGN_IN",_k="SIGN_OUT";var BA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Bj=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},yk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let m=(a&15)<<2|c>>6,v=c&63;l||(v=64,o||(m=64)),r.push(n[d],n[f],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(vk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Bj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new zj;const m=s<<2|a>>4;if(r.push(m),c!==64){const v=a<<4&240|c>>2;if(r.push(v),f!==64){const b=c<<6&192|f;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class zj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Wj=function(t){const e=vk(t);return yk.encodeByteArray(e,!0)},$p=function(t){return Wj(t).replace(/\./g,"")},Ek=function(t){try{return yk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Up(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!qj(n)||(t[n]=Up(t[n],e[n]));return t}function qj(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj=()=>Hj().__FIREBASE_DEFAULTS__,Gj=()=>{if(typeof process>"u"||typeof BA>"u")return;const t=BA.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Yj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ek(t[1]);return e&&JSON.parse(e)},Dw=()=>{try{return Kj()||Gj()||Yj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},wk=()=>{var t;return(t=Dw())===null||t===void 0?void 0:t.config},Qj=t=>{var e;return(e=Dw())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jj(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[$p(JSON.stringify(n)),$p(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Zj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ft())}function Ow(){var t;const e=(t=Dw())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eB(){return typeof self=="object"&&self.self===self}function Tk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Lw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ik(){const t=ft();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function tB(){return!Ow()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function td(){try{return typeof indexedDB=="object"}catch{return!1}}function nB(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rB="FirebaseError";class kn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=rB,Object.setPrototypeOf(this,kn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ba.prototype.create)}}class ba{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?iB(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new kn(i,a,r)}}function iB(t,e){return t.replace(sB,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const sB=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function oB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ey(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(WA(s)&&WA(o)){if(!Ey(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function WA(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function pl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function hc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function bk(t,e){const n=new aB(t,e);return n.subscribe.bind(n)}class aB{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");lB(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=X_),i.error===void 0&&(i.error=X_),i.complete===void 0&&(i.complete=X_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lB(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function X_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(t){return t&&t._delegate?t._delegate:t}class fi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uB{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Xj;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dB(e))try{this.getOrInitializeService({instanceIdentifier:Ao})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ao){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ao){return this.instances.has(e)}getOptions(e=Ao){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:cB(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ao){return this.component?this.component.multipleInstances?e:Ao:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cB(t){return t===Ao?void 0:t}function dB(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uB(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw=[];var Pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Pe||(Pe={}));const Ak={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},fB=Pe.INFO,pB={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},mB=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=pB[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Km{constructor(e){this.name=e,this._logLevel=fB,this._logHandler=mB,this._userLogHandler=null,Vw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ak[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}function gB(t){Vw.forEach(e=>{e.setLogLevel(t)})}function _B(t,e){for(const n of Vw){let r=null;e&&e.level&&(r=Ak[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r??i.logLevel)&&t({level:Pe[s].toLowerCase(),message:a,args:o,type:i.name})}}}const vB=(t,e)=>e.some(n=>t instanceof n);let qA,HA;function yB(){return qA||(qA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function EB(){return HA||(HA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Sk=new WeakMap,wy=new WeakMap,Pk=new WeakMap,J_=new WeakMap,Mw=new WeakMap;function wB(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ss(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Sk.set(n,t)}).catch(()=>{}),Mw.set(e,t),e}function TB(t){if(wy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});wy.set(t,e)}let Ty={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return wy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Pk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ss(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function IB(t){Ty=t(Ty)}function bB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Z_(this),e,...n);return Pk.set(r,e.sort?e.sort():[e]),Ss(r)}:EB().includes(t)?function(...e){return t.apply(Z_(this),e),Ss(Sk.get(this))}:function(...e){return Ss(t.apply(Z_(this),e))}}function AB(t){return typeof t=="function"?bB(t):(t instanceof IDBTransaction&&TB(t),vB(t,yB())?new Proxy(t,Ty):t)}function Ss(t){if(t instanceof IDBRequest)return wB(t);if(J_.has(t))return J_.get(t);const e=AB(t);return e!==t&&(J_.set(t,e),Mw.set(e,t)),e}const Z_=t=>Mw.get(t);function SB(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ss(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ss(o.result),l.oldVersion,l.newVersion,Ss(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const PB=["get","getKey","getAll","getAllKeys","count"],RB=["put","add","delete","clear"],ev=new Map;function KA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ev.get(e))return ev.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=RB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||PB.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return ev.set(e,s),s}IB(t=>({...t,get:(e,n,r)=>KA(e,n)||t.get(e,n,r),has:(e,n)=>!!KA(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kB(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function kB(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Iy="@firebase/app",GA="0.9.24";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=new Km("@firebase/app"),xB="@firebase/app-compat",NB="@firebase/analytics-compat",DB="@firebase/analytics",OB="@firebase/app-check-compat",LB="@firebase/app-check",VB="@firebase/auth",MB="@firebase/auth-compat",FB="@firebase/database",$B="@firebase/database-compat",UB="@firebase/functions",jB="@firebase/functions-compat",BB="@firebase/installations",zB="@firebase/installations-compat",WB="@firebase/messaging",qB="@firebase/messaging-compat",HB="@firebase/performance",KB="@firebase/performance-compat",GB="@firebase/remote-config",YB="@firebase/remote-config-compat",QB="@firebase/storage",XB="@firebase/storage-compat",JB="@firebase/firestore",ZB="@firebase/firestore-compat",e6="firebase",t6="10.7.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="[DEFAULT]",n6={[Iy]:"fire-core",[xB]:"fire-core-compat",[DB]:"fire-analytics",[NB]:"fire-analytics-compat",[LB]:"fire-app-check",[OB]:"fire-app-check-compat",[VB]:"fire-auth",[MB]:"fire-auth-compat",[FB]:"fire-rtdb",[$B]:"fire-rtdb-compat",[UB]:"fire-fn",[jB]:"fire-fn-compat",[BB]:"fire-iid",[zB]:"fire-iid-compat",[WB]:"fire-fcm",[qB]:"fire-fcm-compat",[HB]:"fire-perf",[KB]:"fire-perf-compat",[GB]:"fire-rc",[YB]:"fire-rc-compat",[QB]:"fire-gcs",[XB]:"fire-gcs-compat",[JB]:"fire-fst",[ZB]:"fire-fst-compat","fire-js":"fire-js",[e6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=new Map,nd=new Map;function jp(t,e){try{t.container.addComponent(e)}catch(n){la.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Rk(t,e){t.container.addOrOverwriteComponent(e)}function Ls(t){const e=t.name;if(nd.has(e))return la.debug(`There were multiple attempts to register component ${e}.`),!1;nd.set(e,t);for(const n of Os.values())jp(n,t);return!0}function Ck(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function r6(t,e,n=Ds){Ck(t,e).clearInstance(n)}function i6(){nd.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Di=new ba("app","Firebase",s6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let o6=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Di.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs=t6;function Fw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ds,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Di.create("bad-app-name",{appName:String(i)});if(n||(n=wk()),!n)throw Di.create("no-options");const s=Os.get(i);if(s){if(Ey(n,s.options)&&Ey(r,s.config))return s;throw Di.create("duplicate-app",{appName:i})}const o=new hB(i);for(const l of nd.values())o.addComponent(l);const a=new o6(n,r,o);return Os.set(i,a),a}function a6(t=Ds){const e=Os.get(t);if(!e&&t===Ds&&wk())return Fw();if(!e)throw Di.create("no-app",{appName:t});return e}function l6(){return Array.from(Os.values())}async function kk(t){const e=t.name;Os.has(e)&&(Os.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function ci(t,e,n){var r;let i=(r=n6[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),la.warn(a.join(" "));return}Ls(new fi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function xk(t,e){if(t!==null&&typeof t!="function")throw Di.create("invalid-log-argument");_B(t,e)}function Nk(t){gB(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6="firebase-heartbeat-database",c6=1,rd="firebase-heartbeat-store";let tv=null;function Dk(){return tv||(tv=SB(u6,c6,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(rd)}}}).catch(t=>{throw Di.create("idb-open",{originalErrorMessage:t.message})})),tv}async function d6(t){try{return await(await Dk()).transaction(rd).objectStore(rd).get(Ok(t))}catch(e){if(e instanceof kn)la.warn(e.message);else{const n=Di.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});la.warn(n.message)}}}async function YA(t,e){try{const r=(await Dk()).transaction(rd,"readwrite");await r.objectStore(rd).put(e,Ok(t)),await r.done}catch(n){if(n instanceof kn)la.warn(n.message);else{const r=Di.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});la.warn(r.message)}}}function Ok(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6=1024,f6=30*24*60*60*1e3;class p6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new g6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=QA();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=f6}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=QA(),{heartbeatsToSend:r,unsentEntries:i}=m6(this._heartbeatsCache.heartbeats),s=$p(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function QA(){return new Date().toISOString().substring(0,10)}function m6(t,e=h6){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),XA(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),XA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class g6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return td()?nB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await d6(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return YA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return YA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function XA(t){return $p(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _6(t){Ls(new fi("platform-logger",e=>new CB(e),"PRIVATE")),Ls(new fi("heartbeat",e=>new p6(e),"PRIVATE")),ci(Iy,GA,t),ci(Iy,GA,"esm2017"),ci("fire-js","")}_6("");const v6=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:kn,SDK_VERSION:Qs,_DEFAULT_ENTRY_NAME:Ds,_addComponent:jp,_addOrOverwriteComponent:Rk,_apps:Os,_clearComponents:i6,_components:nd,_getProvider:Ck,_registerComponent:Ls,_removeServiceInstance:r6,deleteApp:kk,getApp:a6,getApps:l6,initializeApp:Fw,onLog:xk,registerVersion:ci,setLogLevel:Nk},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e,n){this._delegate=e,this.firebase=n,jp(e,new fi("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),kk(this._delegate)))}_getService(e,n=Ds){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=Ds){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){jp(this._delegate,e)}_addOrOverwriteComponent(e){Rk(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},JA=new ba("app-compat","Firebase",E6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w6(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:ci,setLogLevel:Nk,onLog:xk,apps:null,SDK_VERSION:Qs,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:v6}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(c){delete e[c]}function i(c){if(c=c||Ds,!zA(e,c))throw JA.create("no-app",{appName:c});return e[c]}i.App=t;function s(c,d={}){const f=Fw(c,d);if(zA(e,f.name))return e[f.name];const m=new t(f,n);return e[f.name]=m,m}function o(){return Object.keys(e).map(c=>e[c])}function a(c){const d=c.name,f=d.replace("-compat","");if(Ls(c)&&c.type==="PUBLIC"){const m=(v=i())=>{if(typeof v[f]!="function")throw JA.create("invalid-app-argument",{appName:d});return v[f]()};c.serviceProps!==void 0&&Up(m,c.serviceProps),n[f]=m,t.prototype[f]=function(...v){return this._getService.bind(this,d).apply(this,c.multipleInstances?v:[])}}return c.type==="PUBLIC"?n[f]:null}function l(c,d){return d==="serverAuth"?null:d}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lk(){const t=w6(y6);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:Lk,extendNamespace:e,createSubscribe:bk,ErrorFactory:ba,deepExtend:Up});function e(n){Up(t,n)}return t}const T6=Lk();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=new Km("@firebase/app-compat"),I6="@firebase/app-compat",b6="0.2.24";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A6(t){ci(I6,b6,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(eB()&&self.firebase!==void 0){ZA.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&ZA.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const cu=T6;A6();var S6="firebase",P6="10.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cu.registerVersion(S6,P6,"app-compat");function $w(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}const Zu={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Ya={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R6(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function Vk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const C6=R6,k6=Vk,Mk=new ba("auth","Firebase",Vk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp=new Km("@firebase/auth");function x6(t,...e){Bp.logLevel<=Pe.WARN&&Bp.warn(`Auth (${Qs}): ${t}`,...e)}function Xf(t,...e){Bp.logLevel<=Pe.ERROR&&Bp.error(`Auth (${Qs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(t,...e){throw Uw(t,...e)}function rn(t,...e){return Uw(t,...e)}function Fk(t,e,n){const r=Object.assign(Object.assign({},k6()),{[e]:n});return new ba("auth","Firebase",r).create(e,{appName:t.name})}function du(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ln(t,"argument-error"),Fk(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Uw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Mk.create(t,...e)}function W(t,e,...n){if(!t)throw Uw(e,...n)}function ni(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Xf(e),new Error(e)}function Fr(t,e){t||ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function jw(){return eS()==="http:"||eS()==="https:"}function eS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jw()||Tk()||"connection"in navigator)?navigator.onLine:!0}function D6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fr(n>e,"Short delay should be less than long delay!"),this.isMobile=Zj()||Lw()}get(){return N6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(t,e){Fr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6=new ih(3e4,6e4);function It(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function bt(t,e,n,r,i={}){return Uk(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=uu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),$k.fetch()(jk(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function Uk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},O6),e);try{const i=new M6(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw fc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw fc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw fc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw fc(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Fk(t,d,c);ln(t,d)}}catch(i){if(i instanceof kn)throw i;ln(t,"network-request-failed",{message:String(i)})}}async function zi(t,e,n,r,i={}){const s=await bt(t,e,n,r,i);return"mfaPendingCredential"in s&&ln(t,"multi-factor-auth-required",{_serverResponse:s}),s}function jk(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Bw(t.config,i):`${t.config.apiScheme}://${i}`}function V6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class M6{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(rn(this.auth,"network-request-failed")),L6.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function fc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=rn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(t){return t!==void 0&&t.getResponse!==void 0}function nS(t){return t!==void 0&&t.enterprise!==void 0}class F6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return V6(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $6(t){return(await bt(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function U6(t,e){return bt(t,"GET","/v2/recaptchaConfig",It(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j6(t,e){return bt(t,"POST","/v1/accounts:delete",e)}async function B6(t,e){return bt(t,"POST","/v1/accounts:update",e)}async function z6(t,e){return bt(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function W6(t,e=!1){const n=de(t),r=await n.getIdToken(e),i=Gm(r);W(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:xc(nv(i.auth_time)),issuedAtTime:xc(nv(i.iat)),expirationTime:xc(nv(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function nv(t){return Number(t)*1e3}function Gm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Xf("JWT malformed, contained fewer than 3 sections"),null;try{const i=Ek(n);return i?JSON.parse(i):(Xf("Failed to decode base64 JWT payload"),null)}catch(i){return Xf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function q6(t){const e=Gm(t);return W(e,"internal-error"),W(typeof e.exp<"u","internal-error"),W(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Li(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof kn&&H6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function H6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xc(this.lastLoginAt),this.creationTime=xc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Li(t,z6(n,{idToken:r}));W(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Q6(s.providerUserInfo):[],a=Y6(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Bk(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function G6(t){const e=de(t);await sd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Y6(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Q6(t){return t.map(e=>{var{providerId:n}=e,r=$w(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X6(t,e){const n=await Uk(t,{},async()=>{const r=uu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=jk(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",$k.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function J6(t,e){return bt(t,"POST","/v2/accounts:revokeToken",It(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){W(e.idToken,"internal-error"),W(typeof e.idToken<"u","internal-error"),W(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):q6(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return W(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await X6(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new od;return r&&(W(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(W(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(W(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new od,this.toJSON())}_performRefresh(){return ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(t,e){W(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Xo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=$w(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new K6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Bk(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Li(this,this.stsTokenManager.getToken(this.auth,e));return W(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return W6(this,e)}reload(){return G6(this)}_assign(e){this!==e&&(W(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Xo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await sd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Li(this,j6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,b=(o=n.photoURL)!==null&&o!==void 0?o:void 0,I=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(c=n.createdAt)!==null&&c!==void 0?c:void 0,T=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:A,emailVerified:E,isAnonymous:x,providerData:D,stsTokenManager:O}=n;W(A&&O,e,"internal-error");const G=od.fromJSON(this.name,O);W(typeof A=="string",e,"internal-error"),ns(f,e.name),ns(m,e.name),W(typeof E=="boolean",e,"internal-error"),W(typeof x=="boolean",e,"internal-error"),ns(v,e.name),ns(b,e.name),ns(I,e.name),ns(_,e.name),ns(y,e.name),ns(T,e.name);const H=new Xo({uid:A,auth:e,email:m,emailVerified:E,displayName:f,isAnonymous:x,photoURL:b,phoneNumber:v,tenantId:I,stsTokenManager:G,createdAt:y,lastLoginAt:T});return D&&Array.isArray(D)&&(H.providerData=D.map(Ce=>Object.assign({},Ce))),_&&(H._redirectEventId=_),H}static async _fromIdTokenResponse(e,n,r=!1){const i=new od;i.updateFromServerResponse(n);const s=new Xo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await sd(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS=new Map;function nr(t){Fr(t instanceof Function,"Expected a class definition");let e=rS.get(t);return e?(Fr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,rS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}zk.type="NONE";const Ul=zk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(t,e,n){return`firebase:${t}:${e}:${n}`}class Sl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Jo(this.userKey,i.apiKey,s),this.fullPersistenceKey=Jo("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Xo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Sl(nr(Ul),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||nr(Ul);const o=Jo(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const f=Xo._fromJSON(e,d);c!==s&&(a=f),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Sl(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Sl(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Hk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Wk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Kk(e))return"Blackberry";if(Gk(e))return"Webos";if(zw(e))return"Safari";if((e.includes("chrome/")||qk(e))&&!e.includes("edge/"))return"Chrome";if(sh(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Wk(t=ft()){return/firefox\//i.test(t)}function zw(t=ft()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qk(t=ft()){return/crios\//i.test(t)}function Hk(t=ft()){return/iemobile/i.test(t)}function sh(t=ft()){return/android/i.test(t)}function Kk(t=ft()){return/blackberry/i.test(t)}function Gk(t=ft()){return/webos/i.test(t)}function hu(t=ft()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Z6(t=ft()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function e5(t=ft()){var e;return hu(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function t5(){return Ik()&&document.documentMode===10}function Yk(t=ft()){return hu(t)||sh(t)||Gk(t)||Kk(t)||/windows phone/i.test(t)||Hk(t)}function n5(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(t,e=[]){let n;switch(t){case"Browser":n=iS(ft());break;case"Worker":n=`${iS(ft())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i5(t,e={}){return bt(t,"GET","/v2/passwordPolicy",It(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5=6;class o5{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:s5,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sS(this),this.idTokenSubscription=new sS(this),this.beforeStateQueue=new r5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Mk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=nr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Sl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return W(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=D6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?de(e):null;return n&&W(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&W(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(nr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await i5(this),n=new o5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ba("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await J6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&nr(e)||this._popupRedirectResolver;W(n,this,"argument-error"),this.redirectPersistenceManager=await Sl.create(this,[nr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(W(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Qk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&x6(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Et(t){return de(t)}class sS{constructor(e){this.auth=e,this.observer=null,this.addObserver=bk(n=>this.observer=n)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function Ww(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=rn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",l5().appendChild(r)})}function Xk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const u5="https://www.google.com/recaptcha/enterprise.js?render=",c5="recaptcha-enterprise",d5="NO_RECAPTCHA";class h5{constructor(e){this.type=c5,this.auth=Et(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{U6(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new F6(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;nS(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(d5)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&nS(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}Ww(u5+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function oS(t,e,n,r=!1){const i=new h5(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function ad(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await oS(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await oS(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}function f5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(nr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function p5(t,e,n){const r=Et(t);W(r._canInitEmulator,r,"emulator-config-failed"),W(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=Jk(e),{host:o,port:a}=m5(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||g5()}function Jk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function m5(t){const e=Jk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:aS(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:aS(o)}}}function aS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function g5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ni("not implemented")}_getIdTokenResponse(e){return ni("not implemented")}_linkToIdToken(e,n){return ni("not implemented")}_getReauthenticationResolver(e){return ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zk(t,e){return bt(t,"POST","/v1/accounts:resetPassword",It(t,e))}async function _5(t,e){return bt(t,"POST","/v1/accounts:update",e)}async function v5(t,e){return bt(t,"POST","/v1/accounts:signUp",e)}async function y5(t,e){return bt(t,"POST","/v1/accounts:update",It(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E5(t,e){return zi(t,"POST","/v1/accounts:signInWithPassword",It(t,e))}async function Ym(t,e){return bt(t,"POST","/v1/accounts:sendOobCode",It(t,e))}async function w5(t,e){return Ym(t,e)}async function T5(t,e){return Ym(t,e)}async function I5(t,e){return Ym(t,e)}async function b5(t,e){return Ym(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A5(t,e){return zi(t,"POST","/v1/accounts:signInWithEmailLink",It(t,e))}async function S5(t,e){return zi(t,"POST","/v1/accounts:signInWithEmailLink",It(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld extends fu{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ld(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ld(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ad(e,n,"signInWithPassword",E5);case"emailLink":return A5(e,{email:this._email,oobCode:this._password});default:ln(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ad(e,r,"signUpPassword",v5);case"emailLink":return S5(e,{idToken:n,email:this._email,oobCode:this._password});default:ln(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oi(t,e){return zi(t,"POST","/v1/accounts:signInWithIdp",It(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P5="http://localhost";class pi extends fu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new pi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ln("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=$w(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new pi(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Oi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Oi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Oi(e,n)}buildRequest(){const e={requestUri:P5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=uu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R5(t,e){return bt(t,"POST","/v1/accounts:sendVerificationCode",It(t,e))}async function C5(t,e){return zi(t,"POST","/v1/accounts:signInWithPhoneNumber",It(t,e))}async function k5(t,e){const n=await zi(t,"POST","/v1/accounts:signInWithPhoneNumber",It(t,e));if(n.temporaryProof)throw fc(t,"account-exists-with-different-credential",n);return n}const x5={USER_NOT_FOUND:"user-not-found"};async function N5(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return zi(t,"POST","/v1/accounts:signInWithPhoneNumber",It(t,n),x5)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo extends fu{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Zo({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Zo({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return C5(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return k5(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return N5(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new Zo({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function O5(t){const e=pl(hc(t)).link,n=e?pl(hc(e)).deep_link_id:null,r=pl(hc(t)).deep_link_id;return(r?pl(hc(r)).link:null)||r||n||e||t}class Qm{constructor(e){var n,r,i,s,o,a;const l=pl(hc(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=D5((i=l.mode)!==null&&i!==void 0?i:null);W(c&&d&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=O5(e);try{return new Qm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(){this.providerId=Xs.PROVIDER_ID}static credential(e,n){return ld._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Qm.parseLink(n);return W(r,"argument-error"),ld._fromEmailAndCode(e,r.code,r.tenantId)}}Xs.PROVIDER_ID="password";Xs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends Wi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Pl extends pu{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return W("providerId"in n&&"signInMethod"in n,"argument-error"),pi._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return W(e.idToken||e.accessToken,"argument-error"),pi._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Pl.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Pl.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=e;if(!r&&!i&&!n&&!s||!a)return null;try{return new Pl(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends pu{constructor(){super("facebook.com")}static credential(e){return pi._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kr.credential(e.oauthAccessToken)}catch{return null}}}Kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Kr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return pi._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Gr.credential(n,r)}catch{return null}}}Gr.GOOGLE_SIGN_IN_METHOD="google.com";Gr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends pu{constructor(){super("github.com")}static credential(e){return pi._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yr.credential(e.oauthAccessToken)}catch{return null}}}Yr.GITHUB_SIGN_IN_METHOD="github.com";Yr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5="http://localhost";class jl extends fu{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return Oi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Oi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Oi(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new jl(r,s)}static _create(e,n){return new jl(e,n)}buildRequest(){return{requestUri:L5,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V5="saml.";class zp extends Wi{constructor(e){W(e.startsWith(V5),"argument-error"),super(e)}static credentialFromResult(e){return zp.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return zp.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=jl.fromJSON(e);return W(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return jl._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends pu{constructor(){super("twitter.com")}static credential(e,n){return pi._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Qr.credential(n,r)}catch{return null}}}Qr.TWITTER_SIGN_IN_METHOD="twitter.com";Qr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ex(t,e){return zi(t,"POST","/v1/accounts:signUp",It(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Xo._fromIdTokenResponse(e,r,i),o=lS(r);return new br({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=lS(r);return new br({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function lS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M5(t){var e;const n=Et(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new br({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await ex(n,{returnSecureToken:!0}),i=await br._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp extends kn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Wp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Wp(e,n,r,i)}}function tx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Wp._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F5(t,e){const n=de(t);await Xm(!0,n,e);const{providerUserInfo:r}=await B6(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=nx(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function qw(t,e,n=!1){const r=await Li(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return br._forOperation(t,"link",r)}async function Xm(t,e,n){await sd(e);const r=nx(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";W(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rx(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Li(t,tx(r,i,e,t),n);W(s.idToken,r,"internal-error");const o=Gm(s.idToken);W(o,r,"internal-error");const{sub:a}=o;return W(t.uid===a,r,"user-mismatch"),br._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ln(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ix(t,e,n=!1){const r="signIn",i=await tx(t,r,e),s=await br._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Jm(t,e){return ix(Et(t),e)}async function sx(t,e){const n=de(t);return await Xm(!1,n,e.providerId),qw(n,e)}async function ox(t,e){return rx(de(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $5(t,e){return zi(t,"POST","/v1/accounts:signInWithCustomToken",It(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U5(t,e){const n=Et(t),r=await $5(n,{token:e,returnSecureToken:!0}),i=await br._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?Hw._fromServerResponse(e,n):"totpInfo"in n?Kw._fromServerResponse(e,n):ln(e,"internal-error")}}class Hw extends oh{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new Hw(n)}}class Kw extends oh{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new Kw(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(t,e,n){var r;W(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),W(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(W(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(W(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gw(t){const e=Et(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function j5(t,e,n){const r=Et(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&Zm(r,i,n),await ad(r,i,"getOobCode",T5)}async function B5(t,e,n){await Zk(de(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Gw(t),r})}async function z5(t,e){await y5(de(t),{oobCode:e})}async function ax(t,e){const n=de(t),r=await Zk(n,{oobCode:e}),i=r.requestType;switch(W(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":W(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":W(r.mfaInfo,n,"internal-error");default:W(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=oh._fromServerResponse(Et(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function W5(t,e){const{data:n}=await ax(de(t),e);return n.email}async function q5(t,e,n){const r=Et(t),o=await ad(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ex).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Gw(t),l}),a=await br._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function H5(t,e,n){return Jm(de(t),Xs.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Gw(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K5(t,e,n){const r=Et(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(o,a){W(a.handleCodeInApp,r,"argument-error"),a&&Zm(r,o,a)}s(i,n),await ad(r,i,"getOobCode",I5)}function G5(t,e){const n=Qm.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function Y5(t,e,n){const r=de(t),i=Xs.credentialWithLink(e,n||id());return W(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Jm(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q5(t,e){return bt(t,"POST","/v1/accounts:createAuthUri",It(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X5(t,e){const n=jw()?id():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await Q5(de(t),r);return i||[]}async function J5(t,e){const n=de(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&Zm(n.auth,i,e);const{email:s}=await w5(n.auth,i);s!==t.email&&await t.reload()}async function Z5(t,e,n){const r=de(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&Zm(r.auth,s,n);const{email:o}=await b5(r.auth,s);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e3(t,e){return bt(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t3(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=de(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Li(r,e3(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function n3(t,e){return lx(de(t),e,null)}function r3(t,e){return lx(de(t),null,e)}async function lx(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await Li(t,_5(r,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i3(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const o=(n=(e=Gm(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(o){const a=o!=="anonymous"&&o!=="custom"?o:null;return new Rl(s,a)}}if(!r)return null;switch(r){case"facebook.com":return new s3(s,i);case"github.com":return new o3(s,i);case"google.com":return new a3(s,i);case"twitter.com":return new l3(s,i,t.screenName||null);case"custom":case"anonymous":return new Rl(s,null);default:return new Rl(s,r,i)}}class Rl{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class ux extends Rl{constructor(e,n,r,i){super(e,n,r),this.username=i}}class s3 extends Rl{constructor(e,n){super(e,"facebook.com",n)}}class o3 extends ux{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class a3 extends Rl{constructor(e,n){super(e,"google.com",n)}}class l3 extends ux{constructor(e,n,r){super(e,"twitter.com",n,r)}}function u3(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:i3(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new $o("enroll",e,n)}static _fromMfaPendingCredential(e){return new $o("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return $o._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return $o._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=Et(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(a=>oh._fromServerResponse(r,a));W(i.mfaPendingCredential,r,"internal-error");const o=$o._fromMfaPendingCredential(i.mfaPendingCredential);return new Yw(o,s,async a=>{const l=await a._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const c=Object.assign(Object.assign({},i),{idToken:l.idToken,refreshToken:l.refreshToken});switch(n.operationType){case"signIn":const d=await br._fromIdTokenResponse(r,n.operationType,c);return await r._updateCurrentUser(d.user),d;case"reauthenticate":return W(n.user,r,"internal-error"),br._forOperation(n.user,n.operationType,c);default:ln(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function c3(t,e){var n;const r=de(t),i=e;return W(e.customData.operationType,r,"argument-error"),W((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),Yw._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(t,e){return bt(t,"POST","/v2/accounts/mfaEnrollment:start",It(t,e))}function h3(t,e){return bt(t,"POST","/v2/accounts/mfaEnrollment:finalize",It(t,e))}function f3(t,e){return bt(t,"POST","/v2/accounts/mfaEnrollment:withdraw",It(t,e))}class Qw{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>oh._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new Qw(e)}async getSession(){return $o._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),s=await Li(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Li(this.user,f3(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const rv=new WeakMap;function p3(t){const e=de(t);return rv.has(e)||rv.set(e,Qw._fromUser(e)),rv.get(e)}const qp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(qp,"1"),this.storage.removeItem(qp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m3(){const t=ft();return zw(t)||hu(t)}const g3=1e3,_3=10;class dx extends cx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=m3()&&n5(),this.fallbackToPolling=Yk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);t5()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,_3):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},g3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}dx.type="LOCAL";const Xw=dx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx extends cx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}hx.type="SESSION";const ua=hx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new eg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await v3(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}eg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=ah("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const m=f;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(){return window}function E3(t){Dt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(){return typeof Dt().WorkerGlobalScope<"u"&&typeof Dt().importScripts=="function"}async function w3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function T3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function I3(){return Jw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx="firebaseLocalStorageDb",b3=1,Hp="firebaseLocalStorage",px="fbase_key";class lh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function tg(t,e){return t.transaction([Hp],e?"readwrite":"readonly").objectStore(Hp)}function A3(){const t=indexedDB.deleteDatabase(fx);return new lh(t).toPromise()}function by(){const t=indexedDB.open(fx,b3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Hp,{keyPath:px})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Hp)?e(r):(r.close(),await A3(),e(await by()))})})}async function uS(t,e,n){const r=tg(t,!0).put({[px]:e,value:n});return new lh(r).toPromise()}async function S3(t,e){const n=tg(t,!1).get(e),r=await new lh(n).toPromise();return r===void 0?null:r.value}function cS(t,e){const n=tg(t,!0).delete(e);return new lh(n).toPromise()}const P3=800,R3=3;class mx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await by(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>R3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Jw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=eg._getInstance(I3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await w3(),!this.activeServiceWorker)return;this.sender=new y3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||T3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await by();return await uS(e,qp,"1"),await cS(e,qp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>uS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>S3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>cS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=tg(i,!1).getAll();return new lh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),P3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mx.type="LOCAL";const ud=mx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C3(t,e){return bt(t,"POST","/v2/accounts/mfaSignIn:start",It(t,e))}function k3(t,e){return bt(t,"POST","/v2/accounts/mfaSignIn:finalize",It(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3=500,N3=6e4,gf=1e12;class D3{constructor(e){this.auth=e,this.counter=gf,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new O3(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||gf;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||gf;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||gf;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class O3{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;W(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=L3(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},N3)},x3))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function L3(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv=Xk("rcb"),V3=new ih(3e4,6e4),M3="https://www.google.com/recaptcha/api.js?";class F3{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Dt().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return W($3(n),e,"argument-error"),this.shouldResolveImmediately(n)&&tS(Dt().grecaptcha)?Promise.resolve(Dt().grecaptcha):new Promise((r,i)=>{const s=Dt().setTimeout(()=>{i(rn(e,"network-request-failed"))},V3.get());Dt()[iv]=()=>{Dt().clearTimeout(s),delete Dt()[iv];const a=Dt().grecaptcha;if(!a||!tS(a)){i(rn(e,"internal-error"));return}const l=a.render;a.render=(c,d)=>{const f=l(c,d);return this.counter++,f},this.hostLanguage=n,r(a)};const o=`${M3}?${uu({onload:iv,render:"explicit",hl:n})}`;Ww(o).catch(()=>{clearTimeout(s),i(rn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=Dt().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function $3(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class U3{async load(e){return new D3(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx="recaptcha",j3={theme:"light",type:"image"};let B3=class{constructor(e,n,r=Object.assign({},j3)){this.parameters=r,this.type=gx,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Et(e),this.isInvisible=this.parameters.size==="invisible",W(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;W(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new U3:new F3,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){W(!this.parameters.sitekey,this.auth,"argument-error"),W(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),W(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=Dt()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){W(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){W(jw()&&!Jw(),this.auth,"internal-error"),await z3(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await $6(this.auth);W(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return W(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function z3(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Zo._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function W3(t,e,n){const r=Et(t),i=await ng(r,e,de(n));return new Zw(i,s=>Jm(r,s))}async function q3(t,e,n){const r=de(t);await Xm(!1,r,"phone");const i=await ng(r.auth,e,de(n));return new Zw(i,s=>sx(r,s))}async function H3(t,e,n){const r=de(t),i=await ng(r.auth,e,de(n));return new Zw(i,s=>ox(r,s))}async function ng(t,e,n){var r;const i=await n.verify();try{W(typeof i=="string",t,"argument-error"),W(n.type===gx,t,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s)return W(o.type==="enroll",t,"internal-error"),(await d3(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{W(o.type==="signin",t,"internal-error");const a=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;return W(a,t,"missing-multi-factor-info"),(await C3(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:o}=await R5(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return o}}finally{n._reset()}}async function K3(t,e){await qw(de(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ca=class Jf{constructor(e){this.providerId=Jf.PROVIDER_ID,this.auth=Et(e)}verifyPhoneNumber(e,n){return ng(this.auth,e,de(n))}static credential(e,n){return Zo._fromVerification(e,n)}static credentialFromResult(e){const n=e;return Jf.credentialFromTaggedObject(n)}static credentialFromError(e){return Jf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?Zo._fromTokenResponse(n,r):null}};ca.PROVIDER_ID="phone";ca.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aa(t,e){return e?nr(e):(W(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT extends fu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Oi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Oi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Oi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function G3(t){return ix(t.auth,new eT(t),t.bypassAuthState)}function Y3(t){const{auth:e,user:n}=t;return W(n,e,"internal-error"),rx(n,new eT(t),t.bypassAuthState)}async function Q3(t){const{auth:e,user:n}=t;return W(n,e,"internal-error"),qw(n,new eT(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return G3;case"linkViaPopup":case"linkViaRedirect":return Q3;case"reauthViaPopup":case"reauthViaRedirect":return Y3;default:ln(this.auth,"internal-error")}}resolve(e){Fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3=new ih(2e3,1e4);async function J3(t,e,n){const r=Et(t);du(t,e,Wi);const i=Aa(r,n);return new Ri(r,"signInViaPopup",e,i).executeNotNull()}async function Z3(t,e,n){const r=de(t);du(r.auth,e,Wi);const i=Aa(r.auth,n);return new Ri(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function e9(t,e,n){const r=de(t);du(r.auth,e,Wi);const i=Aa(r.auth,n);return new Ri(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class Ri extends _x{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ri.currentPopupAction&&Ri.currentPopupAction.cancel(),Ri.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return W(e,this.auth,"internal-error"),e}async onExecution(){Fr(this.filter.length===1,"Popup operations only handle one event");const e=ah();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(rn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(rn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ri.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,X3.get())};e()}}Ri.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t9="pendingRedirect",Nc=new Map;class n9 extends _x{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Nc.get(this.auth._key());if(!e){try{const r=await r9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Nc.set(this.auth._key(),e)}return this.bypassAuthState||Nc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function r9(t,e){const n=yx(e),r=vx(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function tT(t,e){return vx(t)._set(yx(e),"true")}function i9(){Nc.clear()}function nT(t,e){Nc.set(t._key(),e)}function vx(t){return nr(t._redirectPersistence)}function yx(t){return Jo(t9,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s9(t,e,n){return o9(t,e,n)}async function o9(t,e,n){const r=Et(t);du(t,e,Wi),await r._initializationPromise;const i=Aa(r,n);return await tT(i,r),i._openRedirect(r,e,"signInViaRedirect")}function a9(t,e,n){return l9(t,e,n)}async function l9(t,e,n){const r=de(t);du(r.auth,e,Wi),await r.auth._initializationPromise;const i=Aa(r.auth,n);await tT(i,r.auth);const s=await Ex(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function u9(t,e,n){return c9(t,e,n)}async function c9(t,e,n){const r=de(t);du(r.auth,e,Wi),await r.auth._initializationPromise;const i=Aa(r.auth,n);await Xm(!1,r,e.providerId),await tT(i,r.auth);const s=await Ex(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function d9(t,e){return await Et(t)._initializationPromise,rg(t,e,!1)}async function rg(t,e,n=!1){const r=Et(t),i=Aa(r,e),o=await new n9(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function Ex(t){const e=ah(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h9=10*60*1e3;class wx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!f9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Tx(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(rn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=h9&&this.cachedEventUids.clear(),this.cachedEventUids.has(dS(e))}saveEventToCache(e){this.cachedEventUids.add(dS(e)),this.lastProcessedEventTime=Date.now()}}function dS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Tx({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function f9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Tx(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ix(t,e={}){return bt(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,m9=/^https?/;async function g9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Ix(t);for(const n of e)try{if(_9(n))return}catch{}ln(t,"unauthorized-domain")}function _9(t){const e=id(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!m9.test(n))return!1;if(p9.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v9=new ih(3e4,6e4);function hS(){const t=Dt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function y9(t){return new Promise((e,n)=>{var r,i,s;function o(){hS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{hS(),n(rn(t,"network-request-failed"))},timeout:v9.get()})}if(!((i=(r=Dt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Dt().gapi)===null||s===void 0)&&s.load)o();else{const a=Xk("iframefcb");return Dt()[a]=()=>{gapi.load?o():n(rn(t,"network-request-failed"))},Ww(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Zf=null,e})}let Zf=null;function E9(t){return Zf=Zf||y9(t),Zf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9=new ih(5e3,15e3),T9="__/auth/iframe",I9="emulator/auth/iframe",b9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},A9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function S9(t){const e=t.config;W(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Bw(e,I9):`https://${t.config.authDomain}/${T9}`,r={apiKey:e.apiKey,appName:t.name,v:Qs},i=A9.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${uu(r).slice(1)}`}async function P9(t){const e=await E9(t),n=Dt().gapi;return W(n,t,"internal-error"),e.open({where:document.body,url:S9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:b9,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=rn(t,"network-request-failed"),a=Dt().setTimeout(()=>{s(o)},w9.get());function l(){Dt().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},C9=500,k9=600,x9="_blank",N9="http://localhost";class fS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function D9(t,e,n,r=C9,i=k9){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},R9),{width:r.toString(),height:i.toString(),top:s,left:o}),c=ft().toLowerCase();n&&(a=qk(c)?x9:n),Wk(c)&&(e=e||N9,l.scrollbars="yes");const d=Object.entries(l).reduce((m,[v,b])=>`${m}${v}=${b},`,"");if(e5(c)&&a!=="_self")return O9(e||"",a),new fS(null);const f=window.open(e||"",a,d);W(f,t,"popup-blocked");try{f.focus()}catch{}return new fS(f)}function O9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L9="__/auth/handler",V9="emulator/auth/handler",M9=encodeURIComponent("fac");async function Ay(t,e,n,r,i,s){W(t.config.authDomain,t,"auth-domain-config-required"),W(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Qs,eventId:i};if(e instanceof Wi){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",oB(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries(s||{}))o[d]=f}if(e instanceof pu){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${M9}=${encodeURIComponent(l)}`:"";return`${F9(t)}?${uu(a).slice(1)}${c}`}function F9({config:t}){return t.emulator?Bw(t,V9):`https://${t.authDomain}/${L9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="webStorageSupport";class $9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ua,this._completeRedirectFn=rg,this._overrideRedirectResult=nT}async _openPopup(e,n,r,i){var s;Fr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Ay(e,n,r,id(),i);return D9(e,o,ah())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Ay(e,n,r,id(),i);return E3(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Fr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await P9(e),r=new wx(e);return n.register("authEvent",i=>(W(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(sv,{type:sv},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[sv];o!==void 0&&n(!!o),ln(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=g9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Yk()||zw()||hu()}}const U9=$9;class j9{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return ni("unexpected MultiFactorSessionType")}}}class rT extends j9{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new rT(e)}_finalizeEnroll(e,n,r){return h3(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return k3(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class bx{constructor(){}static assertion(e){return rT._fromCredential(e)}}bx.FACTOR_ID="phone";var pS="@firebase/auth",mS="1.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function W9(t){Ls(new fi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;W(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qk(t)},c=new a5(r,i,s,l);return f5(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ls(new fi("auth-internal",e=>{const n=Et(e.getProvider("auth").getImmediate());return(r=>new B9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ci(pS,mS,z9(t)),ci(pS,mS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q9=5*60;Qj("authIdTokenMaxAge");W9("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function da(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9=2e3;async function K9(t,e,n){var r;const{BuildInfo:i}=da();Fr(e.sessionId,"AuthEvent did not contain a session ID");const s=await J9(e.sessionId),o={};return hu()?o.ibi=i.packageName:sh()?o.apn=i.packageName:ln(t,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,Ay(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,o)}async function G9(t){const{BuildInfo:e}=da(),n={};hu()?n.iosBundleId=e.packageName:sh()?n.androidPackageName=e.packageName:ln(t,"operation-not-supported-in-this-environment"),await Ix(t,n)}function Y9(t){const{cordova:e}=da();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,Z6()?"_blank":"_system","location=yes"),n(i)})})}async function Q9(t,e,n){const{cordova:r}=da();let i=()=>{};try{await new Promise((s,o)=>{let a=null;function l(){var f;s();const m=(f=r.plugins.browsertab)===null||f===void 0?void 0:f.close;typeof m=="function"&&m(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function c(){a||(a=window.setTimeout(()=>{o(rn(t,"redirect-cancelled-by-user"))},H9))}function d(){(document==null?void 0:document.visibilityState)==="visible"&&c()}e.addPassiveListener(l),document.addEventListener("resume",c,!1),sh()&&document.addEventListener("visibilitychange",d,!1),i=()=>{e.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",d,!1),a&&window.clearTimeout(a)}})}finally{i()}}function X9(t){var e,n,r,i,s,o,a,l,c,d;const f=da();W(typeof((e=f==null?void 0:f.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),W(typeof((n=f==null?void 0:f.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),W(typeof((s=(i=(r=f==null?void 0:f.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),W(typeof((l=(a=(o=f==null?void 0:f.cordova)===null||o===void 0?void 0:o.plugins)===null||a===void 0?void 0:a.browsertab)===null||l===void 0?void 0:l.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),W(typeof((d=(c=f==null?void 0:f.cordova)===null||c===void 0?void 0:c.InAppBrowser)===null||d===void 0?void 0:d.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function J9(t){const e=Z9(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function Z9(t){if(Fr(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ez=20;class tz extends wx{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function nz(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:sz(),postBody:null,tenantId:t.tenantId,error:rn(t,"no-auth-event")}}function rz(t,e){return Sy()._set(Py(t),e)}async function gS(t){const e=await Sy()._get(Py(t));return e&&await Sy()._remove(Py(t)),e}function iz(t,e){var n,r;const i=az(e);if(i.includes("/__/auth/callback")){const s=ep(i),o=s.firebaseError?oz(decodeURIComponent(s.firebaseError)):null,a=(r=(n=o==null?void 0:o.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],l=a?rn(a):null;return l?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function sz(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<ez;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function Sy(){return nr(Xw)}function Py(t){return Jo("authEvent",t.config.apiKey,t.name)}function oz(t){try{return JSON.parse(t)}catch{return null}}function az(t){const e=ep(t),n=e.link?decodeURIComponent(e.link):void 0,r=ep(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return ep(i).link||i||r||n||t}function ep(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return pl(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lz=500;class uz{constructor(){this._redirectPersistence=ua,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=rg,this._overrideRedirectResult=nT}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new tz(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){ln(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){X9(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),i9(),await this._originValidation(e);const o=nz(e,r,i);await rz(e,o);const a=await K9(e,o,n),l=await Y9(a);return Q9(e,s,l)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=G9(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=da(),o=setTimeout(async()=>{await gS(e),n.onEvent(_S())},lz),a=async d=>{clearTimeout(o);const f=await gS(e);let m=null;f&&(d!=null&&d.url)&&(m=iz(f,d.url)),n.onEvent(m||_S())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,a);const l=i,c=`${s.packageName.toLowerCase()}://`;da().handleOpenURL=async d=>{if(d.toLowerCase().startsWith(c)&&a({url:d}),typeof l=="function")try{l(d)}catch(f){console.error(f)}}}}const cz=uz;function _S(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:rn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dz(t,e){Et(t)._logFramework(e)}var hz="@firebase/auth-compat",fz="0.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pz=1e3;function Dc(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function mz(){return Dc()==="http:"||Dc()==="https:"}function Ax(t=ft()){return!!((Dc()==="file:"||Dc()==="ionic:"||Dc()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function gz(){return Lw()||Ow()}function _z(){return Ik()&&(document==null?void 0:document.documentMode)===11}function vz(t=ft()){return/Edge\/\d+/.test(t)}function yz(t=ft()){return _z()||vz(t)}function Sx(){try{const t=self.localStorage,e=ah();if(t)return t.setItem(e,"1"),t.removeItem(e),yz()?td():!0}catch{return iT()&&td()}return!1}function iT(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ov(){return(mz()||Tk()||Ax())&&!gz()&&Sx()&&!iT()}function Px(){return Ax()&&typeof document<"u"}async function Ez(){return Px()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},pz);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function wz(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr={LOCAL:"local",NONE:"none",SESSION:"session"},ec=W,Rx="persistence";function Tz(t,e){if(ec(Object.values(tr).includes(e),t,"invalid-persistence-type"),Lw()){ec(e!==tr.SESSION,t,"unsupported-persistence-type");return}if(Ow()){ec(e===tr.NONE,t,"unsupported-persistence-type");return}if(iT()){ec(e===tr.NONE||e===tr.LOCAL&&td(),t,"unsupported-persistence-type");return}ec(e===tr.NONE||Sx(),t,"unsupported-persistence-type")}async function Ry(t){await t._initializationPromise;const e=Cx(),n=Jo(Rx,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function Iz(t,e){const n=Cx();if(!n)return[];const r=Jo(Rx,t,e);switch(n.getItem(r)){case tr.NONE:return[Ul];case tr.LOCAL:return[ud,ua];case tr.SESSION:return[ua];default:return[]}}function Cx(){var t;try{return((t=wz())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bz=W;class gs{constructor(){this.browserResolver=nr(U9),this.cordovaResolver=nr(cz),this.underlyingResolver=null,this._redirectPersistence=ua,this._completeRedirectFn=rg,this._overrideRedirectResult=nT}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Px()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return bz(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await Ez();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(t){return t.unwrap()}function Az(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sz(t){return xx(t)}function Pz(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new Rz(t,c3(t,e))}else if(r){const i=xx(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function xx(t){const{_tokenResponse:e}=t instanceof kn?t.customData:t;if(!e)return null;if(!(t instanceof kn)&&"temporaryProof"in e&&"phoneNumber"in e)return ca.credentialFromResult(t);const n=e.providerId;if(!n||n===Zu.PASSWORD)return null;let r;switch(n){case Zu.GOOGLE:r=Gr;break;case Zu.FACEBOOK:r=Kr;break;case Zu.GITHUB:r=Yr;break;case Zu.TWITTER:r=Qr;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:l}=e;return!s&&!o&&!i&&!a?null:a?n.startsWith("saml.")?jl._create(n,a):pi._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:i,accessToken:s}):new Pl(n).credential({idToken:i,accessToken:s,rawNonce:l})}return t instanceof kn?r.credentialFromError(t):r.credentialFromResult(t)}function Mn(t,e){return e.catch(n=>{throw n instanceof kn&&Pz(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:Sz(n),additionalUserInfo:u3(n),user:ig.getOrCreate(i)}})}async function Cy(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>Mn(t,n.confirm(r))}}class Rz{constructor(e,n){this.resolver=n,this.auth=Az(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Mn(kx(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ig=class pc{constructor(e){this._delegate=e,this.multiFactor=p3(e)}static getOrCreate(e){return pc.USER_MAP.has(e)||pc.USER_MAP.set(e,new pc(e)),pc.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Mn(this.auth,sx(this._delegate,e))}async linkWithPhoneNumber(e,n){return Cy(this.auth,q3(this._delegate,e,n))}async linkWithPopup(e){return Mn(this.auth,e9(this._delegate,e,gs))}async linkWithRedirect(e){return await Ry(Et(this.auth)),u9(this._delegate,e,gs)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Mn(this.auth,ox(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return Cy(this.auth,H3(this._delegate,e,n))}reauthenticateWithPopup(e){return Mn(this.auth,Z3(this._delegate,e,gs))}async reauthenticateWithRedirect(e){return await Ry(Et(this.auth)),a9(this._delegate,e,gs)}sendEmailVerification(e){return J5(this._delegate,e)}async unlink(e){return await F5(this._delegate,e),this}updateEmail(e){return n3(this._delegate,e)}updatePassword(e){return r3(this._delegate,e)}updatePhoneNumber(e){return K3(this._delegate,e)}updateProfile(e){return t3(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return Z5(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};ig.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc=W;class ky{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;tc(r,"invalid-api-key",{appName:e.name}),tc(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?gs:void 0;this._delegate=n.initialize({options:{persistence:Cz(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(C6),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ig.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){p5(this._delegate,e,n)}applyActionCode(e){return z5(this._delegate,e)}checkActionCode(e){return ax(this._delegate,e)}confirmPasswordReset(e,n){return B5(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return Mn(this._delegate,q5(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return X5(this._delegate,e)}isSignInWithEmailLink(e){return G5(this._delegate,e)}async getRedirectResult(){tc(ov(),this._delegate,"operation-not-supported-in-this-environment");const e=await d9(this._delegate,gs);return e?Mn(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){dz(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:o}=vS(e,n,r);return this._delegate.onAuthStateChanged(i,s,o)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:o}=vS(e,n,r);return this._delegate.onIdTokenChanged(i,s,o)}sendSignInLinkToEmail(e,n){return K5(this._delegate,e,n)}sendPasswordResetEmail(e,n){return j5(this._delegate,e,n||void 0)}async setPersistence(e){Tz(this._delegate,e);let n;switch(e){case tr.SESSION:n=ua;break;case tr.LOCAL:n=await nr(ud)._isAvailable()?ud:Xw;break;case tr.NONE:n=Ul;break;default:return ln("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Mn(this._delegate,M5(this._delegate))}signInWithCredential(e){return Mn(this._delegate,Jm(this._delegate,e))}signInWithCustomToken(e){return Mn(this._delegate,U5(this._delegate,e))}signInWithEmailAndPassword(e,n){return Mn(this._delegate,H5(this._delegate,e,n))}signInWithEmailLink(e,n){return Mn(this._delegate,Y5(this._delegate,e,n))}signInWithPhoneNumber(e,n){return Cy(this._delegate,W3(this._delegate,e,n))}async signInWithPopup(e){return tc(ov(),this._delegate,"operation-not-supported-in-this-environment"),Mn(this._delegate,J3(this._delegate,e,gs))}async signInWithRedirect(e){return tc(ov(),this._delegate,"operation-not-supported-in-this-environment"),await Ry(this._delegate),s9(this._delegate,e,gs)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return W5(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}ky.Persistence=tr;function vS(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:o=>i(o&&ig.getOrCreate(o)),error:e,complete:n}}function Cz(t,e){const n=Iz(t,e);if(typeof self<"u"&&!n.includes(ud)&&n.push(ud),typeof window<"u")for(const r of[Xw,ua])n.includes(r)||n.push(r);return n.includes(Ul)||n.push(Ul),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(){this.providerId="phone",this._delegate=new ca(kx(cu.auth()))}static credential(e,n){return ca.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}sT.PHONE_SIGN_IN_METHOD=ca.PHONE_SIGN_IN_METHOD;sT.PROVIDER_ID=ca.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kz=W;class xz{constructor(e,n,r=cu.app()){var i;kz((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new B3(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nz="auth-compat";function Dz(t){t.INTERNAL.registerComponent(new fi(Nz,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new ky(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ya.EMAIL_SIGNIN,PASSWORD_RESET:Ya.PASSWORD_RESET,RECOVER_EMAIL:Ya.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Ya.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Ya.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Ya.VERIFY_EMAIL}},EmailAuthProvider:Xs,FacebookAuthProvider:Kr,GithubAuthProvider:Yr,GoogleAuthProvider:Gr,OAuthProvider:Pl,SAMLAuthProvider:zp,PhoneAuthProvider:sT,PhoneMultiFactorGenerator:bx,RecaptchaVerifier:xz,TwitterAuthProvider:Qr,Auth:ky,AuthCredential:fu,Error:kn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(hz,fz)}Dz(cu);var Oz=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},J,oT=oT||{},fe=Oz||self;function sg(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function uh(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Lz(t){return Object.prototype.hasOwnProperty.call(t,av)&&t[av]||(t[av]=++Vz)}var av="closure_uid_"+(1e9*Math.random()>>>0),Vz=0;function Mz(t,e,n){return t.call.apply(t.bind,arguments)}function Fz(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function vn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?vn=Mz:vn=Fz,vn.apply(null,arguments)}function _f(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Kt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Js(){this.s=this.s,this.o=this.o}var $z=0;Js.prototype.s=!1;Js.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),$z!=0)&&Lz(this)};Js.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Nx=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function aT(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function yS(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(sg(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function yn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}yn.prototype.h=function(){this.defaultPrevented=!0};var Uz=function(){if(!fe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};fe.addEventListener("test",n,e),fe.removeEventListener("test",n,e)}catch{}return t}();function cd(t){return/^[\s\xa0]*$/.test(t)}function og(){var t=fe.navigator;return t&&(t=t.userAgent)?t:""}function Xr(t){return og().indexOf(t)!=-1}function lT(t){return lT[" "](t),t}lT[" "]=function(){};function jz(t,e){var n=DW;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var Bz=Xr("Opera"),Bl=Xr("Trident")||Xr("MSIE"),Dx=Xr("Edge"),xy=Dx||Bl,Ox=Xr("Gecko")&&!(og().toLowerCase().indexOf("webkit")!=-1&&!Xr("Edge"))&&!(Xr("Trident")||Xr("MSIE"))&&!Xr("Edge"),zz=og().toLowerCase().indexOf("webkit")!=-1&&!Xr("Edge");function Lx(){var t=fe.document;return t?t.documentMode:void 0}var Ny;e:{var lv="",uv=function(){var t=og();if(Ox)return/rv:([^\);]+)(\)|;)/.exec(t);if(Dx)return/Edge\/([\d\.]+)/.exec(t);if(Bl)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(zz)return/WebKit\/(\S+)/.exec(t);if(Bz)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(uv&&(lv=uv?uv[1]:""),Bl){var cv=Lx();if(cv!=null&&cv>parseFloat(lv)){Ny=String(cv);break e}}Ny=lv}var Dy;if(fe.document&&Bl){var ES=Lx();Dy=ES||parseInt(Ny,10)||void 0}else Dy=void 0;var Wz=Dy;function dd(t,e){if(yn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Ox){e:{try{lT(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:qz[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&dd.$.h.call(this)}}Kt(dd,yn);var qz={2:"touch",3:"pen",4:"mouse"};dd.prototype.h=function(){dd.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ch="closure_listenable_"+(1e6*Math.random()|0),Hz=0;function Kz(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Hz,this.fa=this.ia=!1}function ag(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function uT(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Gz(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function Vx(t){const e={};for(const n in t)e[n]=t[n];return e}const wS="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Mx(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<wS.length;s++)n=wS[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function lg(t){this.src=t,this.g={},this.h=0}lg.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Ly(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new Kz(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Oy(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=Nx(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(ag(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Ly(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var cT="closure_lm_"+(1e6*Math.random()|0),dv={};function Fx(t,e,n,r,i){if(r&&r.once)return Ux(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Fx(t,e[s],n,r,i);return null}return n=fT(n),t&&t[ch]?t.O(e,n,uh(r)?!!r.capture:!!r,i):$x(t,e,n,!1,r,i)}function $x(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=uh(i)?!!i.capture:!!i,a=hT(t);if(a||(t[cT]=a=new lg(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=Yz(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Uz||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Bx(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Yz(){function t(n){return e.call(t.src,t.listener,n)}const e=Qz;return t}function Ux(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Ux(t,e[s],n,r,i);return null}return n=fT(n),t&&t[ch]?t.P(e,n,uh(r)?!!r.capture:!!r,i):$x(t,e,n,!0,r,i)}function jx(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)jx(t,e[s],n,r,i);else r=uh(r)?!!r.capture:!!r,n=fT(n),t&&t[ch]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Ly(s,n,r,i),-1<n&&(ag(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=hT(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Ly(e,n,r,i)),(n=-1<t?e[t]:null)&&dT(n))}function dT(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[ch])Oy(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Bx(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=hT(e))?(Oy(n,t),n.h==0&&(n.src=null,e[cT]=null)):ag(t)}}}function Bx(t){return t in dv?dv[t]:dv[t]="on"+t}function Qz(t,e){if(t.fa)t=!0;else{e=new dd(e,this);var n=t.listener,r=t.la||t.src;t.ia&&dT(t),t=n.call(r,e)}return t}function hT(t){return t=t[cT],t instanceof lg?t:null}var hv="__closure_events_fn_"+(1e9*Math.random()>>>0);function fT(t){return typeof t=="function"?t:(t[hv]||(t[hv]=function(e){return t.handleEvent(e)}),t[hv])}function qt(){Js.call(this),this.i=new lg(this),this.S=this,this.J=null}Kt(qt,Js);qt.prototype[ch]=!0;qt.prototype.removeEventListener=function(t,e,n,r){jx(this,t,e,n,r)};function sn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new yn(e,t);else if(e instanceof yn)e.target=e.target||t;else{var i=e;e=new yn(r,t),Mx(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=vf(o,r,!0,e)&&i}if(o=e.g=t,i=vf(o,r,!0,e)&&i,i=vf(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=vf(o,r,!1,e)&&i}qt.prototype.N=function(){if(qt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ag(n[r]);delete t.g[e],t.h--}}this.J=null};qt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};qt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function vf(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Oy(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var pT=fe.JSON.stringify;class Xz{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function Jz(){var t=mT;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class Zz{constructor(){this.h=this.g=null}add(e,n){const r=zx.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var zx=new Xz(()=>new eW,t=>t.reset());class eW{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function tW(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function nW(t){fe.setTimeout(()=>{throw t},0)}let hd,fd=!1,mT=new Zz,Wx=()=>{const t=fe.Promise.resolve(void 0);hd=()=>{t.then(rW)}};var rW=()=>{for(var t;t=Jz();){try{t.h.call(t.g)}catch(n){nW(n)}var e=zx;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}fd=!1};function ug(t,e){qt.call(this),this.h=t||1,this.g=e||fe,this.j=vn(this.qb,this),this.l=Date.now()}Kt(ug,qt);J=ug.prototype;J.ga=!1;J.T=null;J.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),sn(this,"tick"),this.ga&&(gT(this),this.start()))}};J.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function gT(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}J.N=function(){ug.$.N.call(this),gT(this),delete this.g};function _T(t,e,n){if(typeof t=="function")n&&(t=vn(t,n));else if(t&&typeof t.handleEvent=="function")t=vn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:fe.setTimeout(t,e||0)}function qx(t){t.g=_T(()=>{t.g=null,t.i&&(t.i=!1,qx(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class iW extends Js{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:qx(this)}N(){super.N(),this.g&&(fe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pd(t){Js.call(this),this.h=t,this.g={}}Kt(pd,Js);var TS=[];function Hx(t,e,n,r){Array.isArray(n)||(n&&(TS[0]=n.toString()),n=TS);for(var i=0;i<n.length;i++){var s=Fx(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Kx(t){uT(t.g,function(e,n){this.g.hasOwnProperty(n)&&dT(e)},t),t.g={}}pd.prototype.N=function(){pd.$.N.call(this),Kx(this)};pd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function cg(){this.g=!0}cg.prototype.Ea=function(){this.g=!1};function sW(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var d=c[0];c=c[1];var f=d.split("_");o=2<=f.length&&f[1]=="type"?o+(d+"="+c+"&"):o+(d+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function oW(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function ml(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+lW(t,n)+(r?" "+r:"")})}function aW(t,e){t.info(function(){return"TIMEOUT: "+e})}cg.prototype.info=function(){};function lW(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return pT(n)}catch{return e}}var Sa={},IS=null;function dg(){return IS=IS||new qt}Sa.Ta="serverreachability";function Gx(t){yn.call(this,Sa.Ta,t)}Kt(Gx,yn);function md(t){const e=dg();sn(e,new Gx(e))}Sa.STAT_EVENT="statevent";function Yx(t,e){yn.call(this,Sa.STAT_EVENT,t),this.stat=e}Kt(Yx,yn);function Cn(t){const e=dg();sn(e,new Yx(e,t))}Sa.Ua="timingevent";function Qx(t,e){yn.call(this,Sa.Ua,t),this.size=e}Kt(Qx,yn);function dh(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return fe.setTimeout(function(){t()},e)}var hg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Xx={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function vT(){}vT.prototype.h=null;function bS(t){return t.h||(t.h=t.i())}function Jx(){}var hh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function yT(){yn.call(this,"d")}Kt(yT,yn);function ET(){yn.call(this,"c")}Kt(ET,yn);var Vy;function fg(){}Kt(fg,vT);fg.prototype.g=function(){return new XMLHttpRequest};fg.prototype.i=function(){return{}};Vy=new fg;function fh(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new pd(this),this.P=uW,t=xy?125:void 0,this.V=new ug(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Zx}function Zx(){this.i=null,this.g="",this.h=!1}var uW=45e3,eN={},My={};J=fh.prototype;J.setTimeout=function(t){this.P=t};function Fy(t,e,n){t.L=1,t.A=mg(Vi(e)),t.u=n,t.S=!0,tN(t,null)}function tN(t,e){t.G=Date.now(),ph(t),t.B=Vi(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),uN(n.i,"t",r),t.o=0,n=t.l.J,t.h=new Zx,t.g=kN(t.l,n?e:null,!t.u),0<t.O&&(t.M=new iW(vn(t.Pa,t,t.g),t.O)),Hx(t.U,t.g,"readystatechange",t.nb),e=t.I?Vx(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),md(),sW(t.j,t.v,t.B,t.m,t.W,t.u)}J.nb=function(t){t=t.target;const e=this.M;e&&ri(t)==3?e.l():this.Pa(t)};J.Pa=function(t){try{if(t==this.g)e:{const d=ri(this.g);var e=this.g.Ia();const f=this.g.da();if(!(3>d)&&(d!=3||xy||this.g&&(this.h.h||this.g.ja()||RS(this.g)))){this.J||d!=4||e==7||(e==8||0>=f?md(3):md(2)),pg(this);var n=this.g.da();this.ca=n;t:if(nN(this)){var r=RS(this.g);t="";var i=r.length,s=ri(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Uo(this),Oc(this);var o="";break t}this.h.i=new fe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,oW(this.j,this.v,this.B,this.m,this.W,d,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!cd(a)){var c=a;break t}}c=null}if(n=c)ml(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$y(this,n);else{this.i=!1,this.s=3,Cn(12),Uo(this),Oc(this);break e}}this.S?(rN(this,d,o),xy&&this.i&&d==3&&(Hx(this.U,this.V,"tick",this.mb),this.V.start())):(ml(this.j,this.m,o,null),$y(this,o)),d==4&&Uo(this),this.i&&!this.J&&(d==4?SN(this.l,this):(this.i=!1,ph(this)))}else kW(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Cn(12)):(this.s=0,Cn(13)),Uo(this),Oc(this)}}}catch{}finally{}};function nN(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function rN(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=cW(t,n),i==My){e==4&&(t.s=4,Cn(14),r=!1),ml(t.j,t.m,null,"[Incomplete Response]");break}else if(i==eN){t.s=4,Cn(15),ml(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ml(t.j,t.m,i,null),$y(t,i);nN(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Cn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),ST(e),e.M=!0,Cn(11))):(ml(t.j,t.m,n,"[Invalid Chunked Response]"),Uo(t),Oc(t))}J.mb=function(){if(this.g){var t=ri(this.g),e=this.g.ja();this.o<e.length&&(pg(this),rN(this,t,e),this.i&&t!=4&&ph(this))}};function cW(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?My:(n=Number(e.substring(n,r)),isNaN(n)?eN:(r+=1,r+n>e.length?My:(e=e.slice(r,r+n),t.o=r+n,e)))}J.cancel=function(){this.J=!0,Uo(this)};function ph(t){t.Y=Date.now()+t.P,iN(t,t.P)}function iN(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=dh(vn(t.lb,t),e)}function pg(t){t.C&&(fe.clearTimeout(t.C),t.C=null)}J.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(aW(this.j,this.B),this.L!=2&&(md(),Cn(17)),Uo(this),this.s=2,Oc(this)):iN(this,this.Y-t)};function Oc(t){t.l.H==0||t.J||SN(t.l,t)}function Uo(t){pg(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,gT(t.V),Kx(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function $y(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Uy(n.i,t))){if(!t.K&&Uy(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Yp(n),yg(n);else break e;AT(n),Cn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=dh(vn(n.ib,n),6e3));if(1>=hN(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else jo(n,11)}else if((t.K||n.g==t)&&Yp(n),!cd(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const d=c[3];d!=null&&(n.ra=d,n.l.info("VER="+n.ra));const f=c[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));const m=c[5];m!=null&&typeof m=="number"&&0<m&&(r=1.5*m,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const v=t.g;if(v){const b=v.g?v.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(b){var s=r.i;s.g||b.indexOf("spdy")==-1&&b.indexOf("quic")==-1&&b.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(wT(s,s.h),s.h=null))}if(r.F){const I=v.g?v.g.getResponseHeader("X-HTTP-Session-Id"):null;I&&(r.Da=I,rt(r.I,r.F,I))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=CN(r,r.J?r.pa:null,r.Y),o.K){fN(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(pg(a),ph(a)),r.g=o}else bN(r);0<n.j.length&&Eg(n)}else c[0]!="stop"&&c[0]!="close"||jo(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?jo(n,7):bT(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}md(4)}catch{}}function dW(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(sg(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function hW(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(sg(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function sN(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(sg(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=hW(t),r=dW(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var oN=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fW(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ea(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ea){this.h=t.h,Kp(this,t.j),this.s=t.s,this.g=t.g,Gp(this,t.m),this.l=t.l;var e=t.i,n=new gd;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),AS(this,n),this.o=t.o}else t&&(e=String(t).match(oN))?(this.h=!1,Kp(this,e[1]||"",!0),this.s=mc(e[2]||""),this.g=mc(e[3]||"",!0),Gp(this,e[4]),this.l=mc(e[5]||"",!0),AS(this,e[6]||"",!0),this.o=mc(e[7]||"")):(this.h=!1,this.i=new gd(null,this.h))}ea.prototype.toString=function(){var t=[],e=this.j;e&&t.push(gc(e,SS,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(gc(e,SS,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(gc(n,n.charAt(0)=="/"?gW:mW,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",gc(n,vW)),t.join("")};function Vi(t){return new ea(t)}function Kp(t,e,n){t.j=n?mc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Gp(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function AS(t,e,n){e instanceof gd?(t.i=e,yW(t.i,t.h)):(n||(e=gc(e,_W)),t.i=new gd(e,t.h))}function rt(t,e,n){t.i.set(e,n)}function mg(t){return rt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function mc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function gc(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,pW),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function pW(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var SS=/[#\/\?@]/g,mW=/[#\?:]/g,gW=/[#\?]/g,_W=/[#\?@]/g,vW=/#/g;function gd(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Zs(t){t.g||(t.g=new Map,t.h=0,t.i&&fW(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}J=gd.prototype;J.add=function(t,e){Zs(this),this.i=null,t=mu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function aN(t,e){Zs(t),e=mu(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function lN(t,e){return Zs(t),e=mu(t,e),t.g.has(e)}J.forEach=function(t,e){Zs(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};J.ta=function(){Zs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};J.Z=function(t){Zs(this);let e=[];if(typeof t=="string")lN(this,t)&&(e=e.concat(this.g.get(mu(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};J.set=function(t,e){return Zs(this),this.i=null,t=mu(this,t),lN(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};J.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function uN(t,e,n){aN(t,e),0<n.length&&(t.i=null,t.g.set(mu(t,e),aT(n)),t.h+=n.length)}J.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function mu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function yW(t,e){e&&!t.j&&(Zs(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(aN(this,r),uN(this,i,n))},t)),t.j=e}var EW=class{constructor(t,e){this.g=t,this.map=e}};function cN(t){this.l=t||wW,fe.PerformanceNavigationTiming?(t=fe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(fe.g&&fe.g.Ka&&fe.g.Ka()&&fe.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var wW=10;function dN(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function hN(t){return t.h?1:t.g?t.g.size:0}function Uy(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function wT(t,e){t.g?t.g.add(e):t.h=e}function fN(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}cN.prototype.cancel=function(){if(this.i=pN(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function pN(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return aT(t.i)}var TW=class{stringify(t){return fe.JSON.stringify(t,void 0)}parse(t){return fe.JSON.parse(t,void 0)}};function IW(){this.g=new TW}function bW(t,e,n){const r=n||"";try{sN(t,function(i,s){let o=i;uh(i)&&(o=pT(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function AW(t,e){const n=new cg;if(fe.Image){const r=new Image;r.onload=_f(yf,n,r,"TestLoadImage: loaded",!0,e),r.onerror=_f(yf,n,r,"TestLoadImage: error",!1,e),r.onabort=_f(yf,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=_f(yf,n,r,"TestLoadImage: timeout",!1,e),fe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function yf(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function gg(t){this.l=t.ec||null,this.j=t.ob||!1}Kt(gg,vT);gg.prototype.g=function(){return new _g(this.l,this.j)};gg.prototype.i=function(t){return function(){return t}}({});function _g(t,e){qt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=TT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Kt(_g,qt);var TT=0;J=_g.prototype;J.open=function(t,e){if(this.readyState!=TT)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,_d(this)};J.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||fe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};J.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mh(this)),this.readyState=TT};J.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,_d(this)),this.g&&(this.readyState=3,_d(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof fe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;mN(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function mN(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}J.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?mh(this):_d(this),this.readyState==3&&mN(this)}};J.Za=function(t){this.g&&(this.response=this.responseText=t,mh(this))};J.Ya=function(t){this.g&&(this.response=t,mh(this))};J.ka=function(){this.g&&mh(this)};function mh(t){t.readyState=4,t.l=null,t.j=null,t.A=null,_d(t)}J.setRequestHeader=function(t,e){this.v.append(t,e)};J.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};J.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function _d(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(_g.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var SW=fe.JSON.parse;function wt(t){qt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=gN,this.L=this.M=!1}Kt(wt,qt);var gN="",PW=/^https?$/i,RW=["POST","PUT"];J=wt.prototype;J.Oa=function(t){this.M=t};J.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Vy.g(),this.C=this.u?bS(this.u):bS(Vy),this.g.onreadystatechange=vn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){PS(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=fe.FormData&&t instanceof fe.FormData,!(0<=Nx(RW,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{yN(this),0<this.B&&((this.L=CW(this.g))?(this.g.timeout=this.B,this.g.ontimeout=vn(this.ua,this)):this.A=_T(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){PS(this,s)}};function CW(t){return Bl&&typeof t.timeout=="number"&&t.ontimeout!==void 0}J.ua=function(){typeof oT<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,sn(this,"timeout"),this.abort(8))};function PS(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,_N(t),vg(t)}function _N(t){t.F||(t.F=!0,sn(t,"complete"),sn(t,"error"))}J.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,sn(this,"complete"),sn(this,"abort"),vg(this))};J.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),vg(this,!0)),wt.$.N.call(this)};J.La=function(){this.s||(this.G||this.v||this.l?vN(this):this.kb())};J.kb=function(){vN(this)};function vN(t){if(t.h&&typeof oT<"u"&&(!t.C[1]||ri(t)!=4||t.da()!=2)){if(t.v&&ri(t)==4)_T(t.La,0,t);else if(sn(t,"readystatechange"),ri(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(oN)[1]||null;!i&&fe.self&&fe.self.location&&(i=fe.self.location.protocol.slice(0,-1)),r=!PW.test(i?i.toLowerCase():"")}n=r}if(n)sn(t,"complete"),sn(t,"success");else{t.m=6;try{var s=2<ri(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",_N(t)}}finally{vg(t)}}}}function vg(t,e){if(t.g){yN(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||sn(t,"ready");try{n.onreadystatechange=r}catch{}}}function yN(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(fe.clearTimeout(t.A),t.A=null)}J.isActive=function(){return!!this.g};function ri(t){return t.g?t.g.readyState:0}J.da=function(){try{return 2<ri(this)?this.g.status:-1}catch{return-1}};J.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};J.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),SW(e)}};function RS(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case gN:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function kW(t){const e={};t=(t.g&&2<=ri(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(cd(t[r]))continue;var n=tW(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}Gz(e,function(r){return r.join(", ")})}J.Ia=function(){return this.m};J.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function EN(t){let e="";return uT(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function IT(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=EN(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):rt(t,e,n))}function nc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function wN(t){this.Ga=0,this.j=[],this.l=new cg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=nc("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=nc("baseRetryDelayMs",5e3,t),this.hb=nc("retryDelaySeedMs",1e4,t),this.eb=nc("forwardChannelMaxRetries",2,t),this.xa=nc("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new cN(t&&t.concurrentRequestLimit),this.Ja=new IW,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}J=wN.prototype;J.ra=8;J.H=1;function bT(t){if(TN(t),t.H==3){var e=t.W++,n=Vi(t.I);if(rt(n,"SID",t.K),rt(n,"RID",e),rt(n,"TYPE","terminate"),gh(t,n),e=new fh(t,t.l,e),e.L=2,e.A=mg(Vi(n)),n=!1,fe.navigator&&fe.navigator.sendBeacon)try{n=fe.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&fe.Image&&(new Image().src=e.A,n=!0),n||(e.g=kN(e.l,null),e.g.ha(e.A)),e.G=Date.now(),ph(e)}RN(t)}function yg(t){t.g&&(ST(t),t.g.cancel(),t.g=null)}function TN(t){yg(t),t.u&&(fe.clearTimeout(t.u),t.u=null),Yp(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&fe.clearTimeout(t.m),t.m=null)}function Eg(t){if(!dN(t.i)&&!t.m){t.m=!0;var e=t.Na;hd||Wx(),fd||(hd(),fd=!0),mT.add(e,t),t.C=0}}function xW(t,e){return hN(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=dh(vn(t.Na,t,e),PN(t,t.C)),t.C++,!0)}J.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new fh(this,this.l,t);let s=this.s;if(this.U&&(s?(s=Vx(s),Mx(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=IN(this,i,e),n=Vi(this.I),rt(n,"RID",t),rt(n,"CVER",22),this.F&&rt(n,"X-HTTP-Session-Id",this.F),gh(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(EN(s)))+"&"+e:this.o&&IT(n,this.o,s)),wT(this.i,i),this.bb&&rt(n,"TYPE","init"),this.P?(rt(n,"$req",e),rt(n,"SID","null"),i.aa=!0,Fy(i,n,null)):Fy(i,n,e),this.H=2}}else this.H==3&&(t?CS(this,t):this.j.length==0||dN(this.i)||CS(this))};function CS(t,e){var n;e?n=e.m:n=t.W++;const r=Vi(t.I);rt(r,"SID",t.K),rt(r,"RID",n),rt(r,"AID",t.V),gh(t,r),t.o&&t.s&&IT(r,t.o,t.s),n=new fh(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=IN(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),wT(t.i,n),Fy(n,r,e)}function gh(t,e){t.na&&uT(t.na,function(n,r){rt(e,r,n)}),t.h&&sN({},function(n,r){rt(e,r,n)})}function IN(t,e,n){n=Math.min(t.j.length,n);var r=t.h?vn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=i[l].g;const d=i[l].map;if(c-=s,0>c)s=Math.max(0,i[l].g-100),a=!1;else try{bW(d,o,"req"+c+"_")}catch{r&&r(d)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function bN(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;hd||Wx(),fd||(hd(),fd=!0),mT.add(e,t),t.A=0}}function AT(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=dh(vn(t.Ma,t),PN(t,t.A)),t.A++,!0)}J.Ma=function(){if(this.u=null,AN(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=dh(vn(this.jb,this),t)}};J.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Cn(10),yg(this),AN(this))};function ST(t){t.B!=null&&(fe.clearTimeout(t.B),t.B=null)}function AN(t){t.g=new fh(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Vi(t.wa);rt(e,"RID","rpc"),rt(e,"SID",t.K),rt(e,"AID",t.V),rt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&rt(e,"TO",t.qa),rt(e,"TYPE","xmlhttp"),gh(t,e),t.o&&t.s&&IT(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=mg(Vi(e)),n.u=null,n.S=!0,tN(n,t)}J.ib=function(){this.v!=null&&(this.v=null,yg(this),AT(this),Cn(19))};function Yp(t){t.v!=null&&(fe.clearTimeout(t.v),t.v=null)}function SN(t,e){var n=null;if(t.g==e){Yp(t),ST(t),t.g=null;var r=2}else if(Uy(t.i,e))n=e.F,fN(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=dg(),sn(r,new Qx(r,n)),Eg(t)}else bN(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&xW(t,e)||r==2&&AT(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:jo(t,5);break;case 4:jo(t,10);break;case 3:jo(t,6);break;default:jo(t,2)}}}function PN(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function jo(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=vn(t.pb,t);n||(n=new ea("//www.google.com/images/cleardot.gif"),fe.location&&fe.location.protocol=="http"||Kp(n,"https"),mg(n)),AW(n.toString(),r)}else Cn(2);t.H=0,t.h&&t.h.za(e),RN(t),TN(t)}J.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Cn(2)):(this.l.info("Failed to ping google.com"),Cn(1))};function RN(t){if(t.H=0,t.ma=[],t.h){const e=pN(t.i);(e.length!=0||t.j.length!=0)&&(yS(t.ma,e),yS(t.ma,t.j),t.i.i.length=0,aT(t.j),t.j.length=0),t.h.ya()}}function CN(t,e,n){var r=n instanceof ea?Vi(n):new ea(n);if(r.g!="")e&&(r.g=e+"."+r.g),Gp(r,r.m);else{var i=fe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ea(null);r&&Kp(s,r),e&&(s.g=e),i&&Gp(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&rt(r,n,e),rt(r,"VER",t.ra),gh(t,r),r}function kN(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new wt(new gg({ob:n})):new wt(t.va),e.Oa(t.J),e}J.isActive=function(){return!!this.h&&this.h.isActive(this)};function xN(){}J=xN.prototype;J.Ba=function(){};J.Aa=function(){};J.za=function(){};J.ya=function(){};J.isActive=function(){return!0};J.Va=function(){};function Qp(){if(Bl&&!(10<=Number(Wz)))throw Error("Environmental error: no available transport.")}Qp.prototype.g=function(t,e){return new sr(t,e)};function sr(t,e){qt.call(this),this.g=new wN(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!cd(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!cd(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new gu(this)}Kt(sr,qt);sr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Cn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=CN(t,null,t.Y),Eg(t)};sr.prototype.close=function(){bT(this.g)};sr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=pT(t),t=n);e.j.push(new EW(e.fb++,t)),e.H==3&&Eg(e)};sr.prototype.N=function(){this.g.h=null,delete this.j,bT(this.g),delete this.g,sr.$.N.call(this)};function NN(t){yT.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Kt(NN,yT);function DN(){ET.call(this),this.status=1}Kt(DN,ET);function gu(t){this.g=t}Kt(gu,xN);gu.prototype.Ba=function(){sn(this.g,"a")};gu.prototype.Aa=function(t){sn(this.g,new NN(t))};gu.prototype.za=function(t){sn(this.g,new DN)};gu.prototype.ya=function(){sn(this.g,"b")};function NW(){this.blockSize=-1}function $r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Kt($r,NW);$r.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function fv(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}$r.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)fv(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){fv(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){fv(this,r),i=0;break}}this.h=i,this.i+=e};$r.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ue(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var DW={};function PT(t){return-128<=t&&128>t?jz(t,function(e){return new Ue([e|0],0>e?-1:0)}):new Ue([t|0],0>t?-1:0)}function ii(t){if(isNaN(t)||!isFinite(t))return Cl;if(0>t)return tn(ii(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=jy;return new Ue(e,0)}function ON(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return tn(ON(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ii(Math.pow(e,8)),r=Cl,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=ii(Math.pow(e,s)),r=r.R(s).add(ii(o))):(r=r.R(n),r=r.add(ii(o)))}return r}var jy=4294967296,Cl=PT(0),By=PT(1),kS=PT(16777216);J=Ue.prototype;J.ea=function(){if(yr(this))return-tn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:jy+r)*e,e*=jy}return t};J.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Ci(this))return"0";if(yr(this))return"-"+tn(this).toString(t);for(var e=ii(Math.pow(t,6)),n=this,r="";;){var i=Jp(n,e).g;n=Xp(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Ci(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};J.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Ci(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function yr(t){return t.h==-1}J.X=function(t){return t=Xp(this,t),yr(t)?-1:Ci(t)?0:1};function tn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ue(n,~t.h).add(By)}J.abs=function(){return yr(this)?tn(this):this};J.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Ue(n,n[n.length-1]&-2147483648?-1:0)};function Xp(t,e){return t.add(tn(e))}J.R=function(t){if(Ci(this)||Ci(t))return Cl;if(yr(this))return yr(t)?tn(this).R(tn(t)):tn(tn(this).R(t));if(yr(t))return tn(this.R(tn(t)));if(0>this.X(kS)&&0>t.X(kS))return ii(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,Ef(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Ef(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Ef(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Ef(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ue(n,0)};function Ef(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function rc(t,e){this.g=t,this.h=e}function Jp(t,e){if(Ci(e))throw Error("division by zero");if(Ci(t))return new rc(Cl,Cl);if(yr(t))return e=Jp(tn(t),e),new rc(tn(e.g),tn(e.h));if(yr(e))return e=Jp(t,tn(e)),new rc(tn(e.g),e.h);if(30<t.g.length){if(yr(t)||yr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=By,r=e;0>=r.X(t);)n=xS(n),r=xS(r);var i=Qa(n,1),s=Qa(r,1);for(r=Qa(r,2),n=Qa(n,2);!Ci(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Qa(r,1),n=Qa(n,1)}return e=Xp(t,i.R(e)),new rc(i,e)}for(i=Cl;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=ii(n),o=s.R(e);yr(o)||0<o.X(t);)n-=r,s=ii(n),o=s.R(e);Ci(s)&&(s=By),i=i.add(s),t=Xp(t,o)}return new rc(i,t)}J.gb=function(t){return Jp(this,t).h};J.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ue(n,this.h&t.h)};J.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ue(n,this.h|t.h)};J.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ue(n,this.h^t.h)};function xS(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ue(n,t.h)}function Qa(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ue(i,t.h)}Qp.prototype.createWebChannel=Qp.prototype.g;sr.prototype.send=sr.prototype.u;sr.prototype.open=sr.prototype.m;sr.prototype.close=sr.prototype.close;hg.NO_ERROR=0;hg.TIMEOUT=8;hg.HTTP_ERROR=6;Xx.COMPLETE="complete";Jx.EventType=hh;hh.OPEN="a";hh.CLOSE="b";hh.ERROR="c";hh.MESSAGE="d";qt.prototype.listen=qt.prototype.O;wt.prototype.listenOnce=wt.prototype.P;wt.prototype.getLastError=wt.prototype.Sa;wt.prototype.getLastErrorCode=wt.prototype.Ia;wt.prototype.getStatus=wt.prototype.da;wt.prototype.getResponseJson=wt.prototype.Wa;wt.prototype.getResponseText=wt.prototype.ja;wt.prototype.send=wt.prototype.ha;wt.prototype.setWithCredentials=wt.prototype.Oa;$r.prototype.digest=$r.prototype.l;$r.prototype.reset=$r.prototype.reset;$r.prototype.update=$r.prototype.j;Ue.prototype.add=Ue.prototype.add;Ue.prototype.multiply=Ue.prototype.R;Ue.prototype.modulo=Ue.prototype.gb;Ue.prototype.compare=Ue.prototype.X;Ue.prototype.toNumber=Ue.prototype.ea;Ue.prototype.toString=Ue.prototype.toString;Ue.prototype.getBits=Ue.prototype.D;Ue.fromNumber=ii;Ue.fromString=ON;var OW=function(){return new Qp},LW=function(){return dg()},pv=hg,VW=Xx,MW=Sa,NS={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},wf=Jx,FW=wt,$W=$r,kl=Ue,UW={};const DS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jt.UNAUTHENTICATED=new jt(null),jt.GOOGLE_CREDENTIALS=new jt("google-credentials-uid"),jt.FIRST_PARTY=new jt("first-party-uid"),jt.MOCK_USER=new jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _u="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs=new Km("@firebase/firestore");function tl(){return Vs.logLevel}function jW(t){Vs.setLogLevel(t)}function j(t,...e){if(Vs.logLevel<=Pe.DEBUG){const n=e.map(RT);Vs.debug(`Firestore (${_u}): ${t}`,...n)}}function kt(t,...e){if(Vs.logLevel<=Pe.ERROR){const n=e.map(RT);Vs.error(`Firestore (${_u}): ${t}`,...n)}}function Ur(t,...e){if(Vs.logLevel<=Pe.WARN){const n=e.map(RT);Vs.warn(`Firestore (${_u}): ${t}`,...n)}}function RT(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(t="Unexpected state"){const e=`FIRESTORE (${_u}) INTERNAL ASSERTION FAILED: `+t;throw kt(e),new Error(e)}function se(t,e){t||Z()}function BW(t,e){t||Z()}function X(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $ extends kn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zW{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(jt.UNAUTHENTICATED))}shutdown(){}}class WW{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class qW{constructor(e){this.t=e,this.currentUser=jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Wt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Wt,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Wt)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(se(typeof r.accessToken=="string"),new LN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return se(e===null||typeof e=="string"),new jt(e)}}class HW{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=jt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class KW{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new HW(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class GW{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YW{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,j("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(se(typeof n.token=="string"),this.R=n.token,new GW(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QW(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=QW(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ge(t,e){return t<e?-1:t>e?1:0}function zl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function MN(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new $(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ut(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ae(e)}static min(){return new ae(new ut(0,0))}static max(){return new ae(new ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,n,r){n===void 0?n=0:n>e.length&&Z(),r===void 0?r=e.length-n:r>e.length-n&&Z(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return vd.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof vd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Le extends vd{construct(e,n,r){return new Le(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new $(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Le(n)}static emptyPath(){return new Le([])}}const XW=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ot extends vd{construct(e,n,r){return new ot(e,n,r)}static isValidIdentifier(e){return XW.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ot(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new $(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new $(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new $(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new $(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ot(n)}static emptyPath(){return new ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.path=e}static fromPath(e){return new Y(Le.fromString(e))}static fromName(e){return new Y(Le.fromString(e).popFirst(5))}static empty(){return new Y(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Y(new Le(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function zy(t){return t.fields.find(e=>e.kind===2)}function So(t){return t.fields.filter(e=>e.kind!==2)}Zp.UNKNOWN_ID=-1;class tp{constructor(e,n){this.fieldPath=e,this.kind=n}}class yd{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new yd(0,or.min())}}function FN(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(r===1e9?new ut(n+1,0):new ut(n,r));return new or(i,Y.empty(),e)}function $N(t){return new or(t.readTime,t.key,-1)}class or{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new or(ae.min(),Y.empty(),-1)}static max(){return new or(ae.max(),Y.empty(),-1)}}function CT(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Y.comparator(t.documentKey,e.documentKey),n!==0?n:ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eo(t){if(t.code!==N.FAILED_PRECONDITION||t.message!==UN)throw t;j("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new R((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof R?n:R.resolve(n)}catch(n){return R.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):R.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):R.reject(n)}static resolve(e){return new R((n,r)=>{n(e)})}static reject(e){return new R((n,r)=>{r(e)})}static waitFor(e){return new R((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=R.resolve(!1);for(const r of e)n=n.next(i=>i?R.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new R((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new R((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Wt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Lc(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=kT(r.target.error);this.V.reject(new Lc(e,i))}}static open(e,n,r,i){try{return new wg(n,e.transaction(i,r))}catch(s){throw new Lc(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(j("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new ZW(n)}}class Or{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Or.S(ft())===12.2&&kt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return j("SimpleDb","Removing database:",e),Ro(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!td())return!1;if(Or.C())return!0;const e=ft(),n=Or.S(e),r=0<n&&n<10,i=Or.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=UW)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(j("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new Lc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new $(N.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new $(N.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Lc(e,o))},i.onupgradeneeded=s=>{j("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{j("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=wg.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),R.reject(c))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&o<3;if(j("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class JW{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Ro(this.k.delete())}}class Lc extends ${constructor(e,n){super(N.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function to(t){return t.name==="IndexedDbTransactionError"}class ZW{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(j("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(j("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ro(r)}add(e){return j("SimpleDb","ADD",this.store.name,e,e),Ro(this.store.add(e))}get(e){return Ro(this.store.get(e)).next(n=>(n===void 0&&(n=null),j("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return j("SimpleDb","DELETE",this.store.name,e),Ro(this.store.delete(e))}count(){return j("SimpleDb","COUNT",this.store.name),Ro(this.store.count())}W(e,n){const r=this.options(e,n);if(r.index||typeof this.store.getAll!="function"){const i=this.cursor(r),s=[];return this.G(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new R((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new R((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){j("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new R((r,i)=>{n.onerror=s=>{const o=kT(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new R((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new JW(a),c=n(a.primaryKey,a.value,l);if(c instanceof R){const d=c.catch(f=>(l.done(),R.reject(f)));r.push(d)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>R.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Ro(t){return new R((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=kT(r.target.error);n(i)}})}let OS=!1;function kT(t){const e=Or.S(ft());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new $("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return OS||(OS=!0,setTimeout(()=>{throw r},0)),r}}return t}class eq{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ee(e){j("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{j("IndexBackiller",`Documents written: ${await this.X.te()}`)}catch(n){to(n)?j("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await eo(n)}await this.ee(6e4)})}}class tq{constructor(e,n){this.localStore=e,this.persistence=n}async te(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.ne(n,e))}ne(e,n){const r=new Set;let i=n,s=!0;return R.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return j("IndexBackiller",`Processing collection: ${o}`),this.re(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}re(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ie(i,s)).next(a=>(j("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}ie(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=$N(s);CT(o,r)>0&&(r=o)}),new or(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}$n._e=-1;function _h(t){return t==null}function Ed(t){return t===0&&1/t==-1/0}function BN(t){return typeof t=="number"&&Number.isInteger(t)&&!Ed(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=LS(e)),e=nq(t.get(n),e);return LS(e)}function nq(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function LS(t){return t+""}function si(t){const e=t.length;if(se(e>=2),e===2)return se(t.charAt(0)===""&&t.charAt(1)===""),Le.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&Z(),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:Z()}s=o+2}return new Le(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(t,e){return[t,xn(e)]}function zN(t,e,n){return[t,xn(e),n]}const rq={},iq=["prefixPath","collectionGroup","readTime","documentId"],sq=["prefixPath","collectionGroup","documentId"],oq=["collectionGroup","readTime","prefixPath","documentId"],aq=["canonicalId","targetId"],lq=["targetId","path"],uq=["path","targetId"],cq=["collectionId","parent"],dq=["indexId","uid"],hq=["uid","sequenceNumber"],fq=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],pq=["indexId","uid","orderedDocumentKey"],mq=["userId","collectionPath","documentId"],gq=["userId","collectionPath","largestBatchId"],_q=["userId","collectionGroup","largestBatchId"],WN=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],vq=[...WN,"documentOverlays"],qN=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],HN=qN,yq=[...HN,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy extends jN{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function Gt(t,e){const n=X(t);return Or.M(n.ae,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Pa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function KN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,n){this.comparator=e,this.root=n||en.EMPTY}insert(e,n){return new Xe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new Xe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tf(this.root,e,this.comparator,!0)}}class Tf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??en.RED,this.left=i??en.EMPTY,this.right=s??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new en(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return en.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Z();const e=this.left.check();if(e!==this.right.check())throw Z();return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Z()}get value(){throw Z()}get color(){throw Z()}get left(){throw Z()}get right(){throw Z()}copy(e,n,r,i,s){return this}insert(e,n,r){return new en(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.comparator=e,this.data=new Xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new FS(this.data.getIterator())}getIteratorFrom(e){return new FS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof He)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new He(this.comparator);return n.data=e,n}}class FS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Xa(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.fields=e,e.sort(ot.comparator)}static empty(){return new Un([])}unionWith(e){let n=new He(ot.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eq(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new GN("Invalid base64 string: "+s):s}}(e);return new Vt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Vt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const wq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ms(t){if(se(!!t),typeof t=="string"){let e=0;const n=wq.exec(t);if(se(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_t(t.seconds),nanos:_t(t.nanos)}}function _t(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Fs(t){return typeof t=="string"?Vt.fromBase64String(t):Vt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function xT(t){const e=t.mapValue.fields.__previous_value__;return Tg(e)?xT(e):e}function wd(t){const e=Ms(t.mapValue.fields.__local_write_time__.timestampValue);return new ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tq{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class $s{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new $s("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof $s&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},rp={nullValue:"NULL_VALUE"};function ha(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Tg(t)?4:YN(t)?9007199254740991:10:Z()}function mi(t,e){if(t===e)return!0;const n=ha(t);if(n!==ha(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wd(t).isEqual(wd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ms(i.timestampValue),a=Ms(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Fs(i.bytesValue).isEqual(Fs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return _t(i.geoPointValue.latitude)===_t(s.geoPointValue.latitude)&&_t(i.geoPointValue.longitude)===_t(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return _t(i.integerValue)===_t(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=_t(i.doubleValue),a=_t(s.doubleValue);return o===a?Ed(o)===Ed(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return zl(t.arrayValue.values||[],e.arrayValue.values||[],mi);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(MS(o)!==MS(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!mi(o[l],a[l])))return!1;return!0}(t,e);default:return Z()}}function Td(t,e){return(t.values||[]).find(n=>mi(n,e))!==void 0}function Us(t,e){if(t===e)return 0;const n=ha(t),r=ha(e);if(n!==r)return ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ge(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=_t(s.integerValue||s.doubleValue),l=_t(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return $S(t.timestampValue,e.timestampValue);case 4:return $S(wd(t),wd(e));case 5:return ge(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Fs(s),l=Fs(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=ge(a[c],l[c]);if(d!==0)return d}return ge(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ge(_t(s.latitude),_t(o.latitude));return a!==0?a:ge(_t(s.longitude),_t(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const d=Us(a[c],l[c]);if(d)return d}return ge(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===_s.mapValue&&o===_s.mapValue)return 0;if(s===_s.mapValue)return 1;if(o===_s.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const m=ge(l[f],d[f]);if(m!==0)return m;const v=Us(a[l[f]],c[d[f]]);if(v!==0)return v}return ge(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Z()}}function $S(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ge(t,e);const n=Ms(t),r=Ms(e),i=ge(n.seconds,r.seconds);return i!==0?i:ge(n.nanos,r.nanos)}function Wl(t){return qy(t)}function qy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ms(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Fs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Y.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=qy(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${qy(n.fields[o])}`;return i+"}"}(t.mapValue):Z()}function fa(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Hy(t){return!!t&&"integerValue"in t}function Id(t){return!!t&&"arrayValue"in t}function US(t){return!!t&&"nullValue"in t}function jS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ip(t){return!!t&&"mapValue"in t}function Vc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Pa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Vc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function YN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function Iq(t){return"nullValue"in t?rp:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?fa($s.empty(),Y.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:Z()}function bq(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?fa($s.empty(),Y.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?_s:Z()}function BS(t,e){const n=Us(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function zS(t,e){const n=Us(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ip(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vc(n)}setAll(e){let n=ot.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Vc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ip(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ip(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Pa(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new nn(Vc(this.value))}}function QN(t){const e=[];return Pa(t.fields,(n,r)=>{const i=new ot([n]);if(ip(r)){const s=QN(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new it(e,0,ae.min(),ae.min(),ae.min(),nn.empty(),0)}static newFoundDocument(e,n,r,i){return new it(e,1,n,ae.min(),r,i,0)}static newNoDocument(e,n){return new it(e,2,n,ae.min(),ae.min(),nn.empty(),0)}static newUnknownDocument(e,n){return new it(e,3,n,ae.min(),ae.min(),nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof it&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new it(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n){this.position=e,this.inclusive=n}}function WS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Y.comparator(Y.fromName(o.referenceValue),n.key):r=Us(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function qS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!mi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n="asc"){this.field=e,this.dir=n}}function Aq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{}class xe extends XN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Sq(e,n,r):n==="array-contains"?new Cq(e,r):n==="in"?new rD(e,r):n==="not-in"?new kq(e,r):n==="array-contains-any"?new xq(e,r):new xe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Pq(e,r):new Rq(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Us(n,this.value)):n!==null&&ha(this.value)===ha(n)&&this.matchesComparison(Us(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $e extends XN{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new $e(e,n)}matches(e){return ql(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function ql(t){return t.op==="and"}function Ky(t){return t.op==="or"}function NT(t){return JN(t)&&ql(t)}function JN(t){for(const e of t.filters)if(e instanceof $e)return!1;return!0}function Gy(t){if(t instanceof xe)return t.field.canonicalString()+t.op.toString()+Wl(t.value);if(NT(t))return t.filters.map(e=>Gy(e)).join(",");{const e=t.filters.map(n=>Gy(n)).join(",");return`${t.op}(${e})`}}function ZN(t,e){return t instanceof xe?function(r,i){return i instanceof xe&&r.op===i.op&&r.field.isEqual(i.field)&&mi(r.value,i.value)}(t,e):t instanceof $e?function(r,i){return i instanceof $e&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&ZN(o,i.filters[a]),!0):!1}(t,e):void Z()}function eD(t,e){const n=t.filters.concat(e);return $e.create(n,t.op)}function tD(t){return t instanceof xe?function(n){return`${n.field.canonicalString()} ${n.op} ${Wl(n.value)}`}(t):t instanceof $e?function(n){return n.op.toString()+" {"+n.getFilters().map(tD).join(" ,")+"}"}(t):"Filter"}class Sq extends xe{constructor(e,n,r){super(e,n,r),this.key=Y.fromName(r.referenceValue)}matches(e){const n=Y.comparator(e.key,this.key);return this.matchesComparison(n)}}class Pq extends xe{constructor(e,n){super(e,"in",n),this.keys=nD("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Rq extends xe{constructor(e,n){super(e,"not-in",n),this.keys=nD("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function nD(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Y.fromName(r.referenceValue))}class Cq extends xe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Id(n)&&Td(n.arrayValue,this.value)}}class rD extends xe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Td(this.value.arrayValue,n)}}class kq extends xe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Td(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Td(this.value.arrayValue,n)}}class xq extends xe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Id(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Td(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nq{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function Yy(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Nq(t,e,n,r,i,s,o)}function pa(t){const e=X(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Gy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),_h(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Wl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Wl(r)).join(",")),e.ce=n}return e.ce}function vh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Aq(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ZN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!qS(t.startAt,e.startAt)&&qS(t.endAt,e.endAt)}function em(t){return Y.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function tm(t,e){return t.filters.filter(n=>n instanceof xe&&n.field.isEqual(e))}function HS(t,e,n){let r=rp,i=!0;for(const s of tm(t,e)){let o=rp,a=!0;switch(s.op){case"<":case"<=":o=Iq(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=rp}BS({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];BS({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function KS(t,e,n){let r=_s,i=!0;for(const s of tm(t,e)){let o=_s,a=!0;switch(s.op){case">=":case">":o=bq(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=_s}zS({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];zS({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function iD(t,e,n,r,i,s,o,a){return new qi(t,e,n,r,i,s,o,a)}function vu(t){return new qi(t)}function GS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function DT(t){return t.collectionGroup!==null}function xl(t){const e=X(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new He(ot.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new bd(s,r))}),n.has(ot.keyField().canonicalString())||e.le.push(new bd(ot.keyField(),r))}return e.le}function Nn(t){const e=X(t);return e.he||(e.he=Dq(e,xl(t))),e.he}function Dq(t,e){if(t.limitType==="F")return Yy(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new bd(i.field,s)});const n=t.endAt?new js(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new js(t.startAt.position,t.startAt.inclusive):null;return Yy(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Qy(t,e){const n=t.filters.concat([e]);return new qi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function nm(t,e,n){return new qi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function yh(t,e){return vh(Nn(t),Nn(e))&&t.limitType===e.limitType}function sD(t){return`${pa(Nn(t))}|lt:${t.limitType}`}function nl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>tD(i)).join(", ")}]`),_h(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Wl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Wl(i)).join(",")),`Target(${r})`}(Nn(t))}; limitType=${t.limitType})`}function Eh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Y.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of xl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=WS(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,xl(r),i)||r.endAt&&!function(o,a,l){const c=WS(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,xl(r),i))}(t,e)}function oD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function aD(t){return(e,n)=>{let r=!1;for(const i of xl(t)){const s=Oq(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Oq(t,e,n){const r=t.field.isKeyField()?Y.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Us(l,c):Z()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Z()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Pa(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return KN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lq=new Xe(Y.comparator);function jn(){return Lq}const lD=new Xe(Y.comparator);function _c(...t){let e=lD;for(const n of t)e=e.insert(n.key,n);return e}function uD(t){let e=lD;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function oi(){return Mc()}function cD(){return Mc()}function Mc(){return new no(t=>t.toString(),(t,e)=>t.isEqual(e))}const Vq=new Xe(Y.comparator),Mq=new He(Y.comparator);function _e(...t){let e=Mq;for(const n of t)e=e.add(n);return e}const Fq=new He(ge);function OT(){return Fq}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ed(e)?"-0":e}}function hD(t){return{integerValue:""+t}}function fD(t,e){return BN(e)?hD(e):dD(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(){this._=void 0}}function $q(t,e,n){return t instanceof Hl?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Tg(s)&&(s=xT(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof ma?mD(t,e):t instanceof ga?gD(t,e):function(i,s){const o=pD(i,s),a=YS(o)+YS(i.Ie);return Hy(o)&&Hy(i.Ie)?hD(a):dD(i.serializer,a)}(t,e)}function Uq(t,e,n){return t instanceof ma?mD(t,e):t instanceof ga?gD(t,e):n}function pD(t,e){return t instanceof Kl?function(r){return Hy(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Hl extends Ig{}class ma extends Ig{constructor(e){super(),this.elements=e}}function mD(t,e){const n=_D(e);for(const r of t.elements)n.some(i=>mi(i,r))||n.push(r);return{arrayValue:{values:n}}}class ga extends Ig{constructor(e){super(),this.elements=e}}function gD(t,e){let n=_D(e);for(const r of t.elements)n=n.filter(i=>!mi(i,r));return{arrayValue:{values:n}}}class Kl extends Ig{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function YS(t){return _t(t.integerValue||t.doubleValue)}function _D(t){return Id(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n){this.field=e,this.transform=n}}function jq(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ma&&i instanceof ma||r instanceof ga&&i instanceof ga?zl(r.elements,i.elements,mi):r instanceof Kl&&i instanceof Kl?mi(r.Ie,i.Ie):r instanceof Hl&&i instanceof Hl}(t.transform,e.transform)}class Bq{constructor(e,n){this.version=e,this.transformResults=n}}class at{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new at}static exists(e){return new at(void 0,e)}static updateTime(e){return new at(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class bg{}function vD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Eu(t.key,at.none()):new yu(t.key,t.data,at.none());{const n=t.data,r=nn.empty();let i=new He(ot.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Hi(t.key,r,new Un(i.toArray()),at.none())}}function zq(t,e,n){t instanceof yu?function(i,s,o){const a=i.value.clone(),l=XS(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Hi?function(i,s,o){if(!sp(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=XS(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(yD(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Fc(t,e,n,r){return t instanceof yu?function(s,o,a,l){if(!sp(s.precondition,o))return a;const c=s.value.clone(),d=JS(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Hi?function(s,o,a,l){if(!sp(s.precondition,o))return a;const c=JS(s.fieldTransforms,l,o),d=o.data;return d.setAll(yD(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return sp(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Wq(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=pD(r.transform,i||null);s!=null&&(n===null&&(n=nn.empty()),n.set(r.field,s))}return n||null}function QS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&zl(r,i,(s,o)=>jq(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class yu extends bg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Hi extends bg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function yD(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function XS(t,e,n){const r=new Map;se(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Uq(o,a,n[i]))}return r}function JS(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,$q(s,o,e))}return r}class Eu extends bg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LT extends bg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&zq(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Fc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Fc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=cD();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=vD(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&zl(this.mutations,e.mutations,(n,r)=>QS(n,r))&&zl(this.baseMutations,e.baseMutations,(n,r)=>QS(n,r))}}class MT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){se(e.mutations.length===r.length);let i=function(){return Vq}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new MT(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qq{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt,Oe;function ED(t){switch(t){default:return Z();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function wD(t){if(t===void 0)return kt("GRPC error has no .code"),N.UNKNOWN;switch(t){case Nt.OK:return N.OK;case Nt.CANCELLED:return N.CANCELLED;case Nt.UNKNOWN:return N.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return N.INTERNAL;case Nt.UNAVAILABLE:return N.UNAVAILABLE;case Nt.UNAUTHENTICATED:return N.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case Nt.NOT_FOUND:return N.NOT_FOUND;case Nt.ALREADY_EXISTS:return N.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return N.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case Nt.ABORTED:return N.ABORTED;case Nt.OUT_OF_RANGE:return N.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return N.UNIMPLEMENTED;case Nt.DATA_LOSS:return N.DATA_LOSS;default:return Z()}}(Oe=Nt||(Nt={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hq=new kl([4294967295,4294967295],0);function ZS(t){const e=TD().encode(t),n=new $W;return n.update(e),new Uint8Array(n.digest())}function e1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new kl([n,r],0),new kl([i,s],0)]}class $T{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new vc(`Invalid padding: ${n}`);if(r<0)throw new vc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new vc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new vc(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=kl.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(kl.fromNumber(r)));return i.compare(Hq)===1&&(i=new kl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=ZS(e),[r,i]=e1(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new $T(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=ZS(e),[r,i]=e1(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class vc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ih.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Th(ae.min(),i,new Xe(ge),jn(),_e())}}class Ih{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ih(r,n,_e(),_e(),_e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class ID{constructor(e,n){this.targetId=e,this.fe=n}}class bD{constructor(e,n,r=Vt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class t1{constructor(){this.ge=0,this.pe=r1(),this.ye=Vt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=_e(),n=_e(),r=_e();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Z()}}),new Ih(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=r1()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,se(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class Kq{constructor(e){this.Le=e,this.ke=new Map,this.qe=jn(),this.Qe=n1(),this.Ke=new Xe(ge)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:Z()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(em(s))if(r===0){const o=new Y(s.path);this.We(n,o,it.newNoDocument(o,ae.min()))}else se(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Fs(r).toUint8Array()}catch(l){if(l instanceof GN)return Ur("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new $T(o,i,s)}catch(l){return Ur(l instanceof vc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&em(a.target)){const l=new Y(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,it.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=_e();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Th(e,n,this.Ke,this.qe,r);return this.qe=jn(),this.Qe=n1(),this.Ke=new Xe(ge),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new t1,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new He(ge),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||j("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new t1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function n1(){return new Xe(Y.comparator)}function r1(){return new Xe(Y.comparator)}const Gq={asc:"ASCENDING",desc:"DESCENDING"},Yq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Qq={and:"AND",or:"OR"};class Xq{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Xy(t,e){return t.useProto3Json||_h(e)?e:{value:e}}function Gl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Jq(t,e){return Gl(t,e.toTimestamp())}function xt(t){return se(!!t),ae.fromTimestamp(function(n){const r=Ms(n);return new ut(r.seconds,r.nanos)}(t))}function UT(t,e){return function(r){return new Le(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function SD(t){const e=Le.fromString(t);return se(LD(e)),e}function Ad(t,e){return UT(t.databaseId,e.path)}function di(t,e){const n=SD(e);if(n.get(1)!==t.databaseId.projectId)throw new $(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new $(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Y(RD(n))}function Jy(t,e){return UT(t.databaseId,e)}function PD(t){const e=SD(t);return e.length===4?Le.emptyPath():RD(e)}function Sd(t){return new Le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function RD(t){return se(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function i1(t,e,n){return{name:Ad(t,e),fields:n.value.mapValue.fields}}function CD(t,e,n){const r=di(t,e.name),i=xt(e.updateTime),s=e.createTime?xt(e.createTime):ae.min(),o=new nn({mapValue:{fields:e.fields}}),a=it.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Zq(t,e){return"found"in e?function(r,i){se(!!i.found),i.found.name,i.found.updateTime;const s=di(r,i.found.name),o=xt(i.found.updateTime),a=i.found.createTime?xt(i.found.createTime):ae.min(),l=new nn({mapValue:{fields:i.found.fields}});return it.newFoundDocument(s,o,a,l)}(t,e):"missing"in e?function(r,i){se(!!i.missing),se(!!i.readTime);const s=di(r,i.missing),o=xt(i.readTime);return it.newNoDocument(s,o)}(t,e):Z()}function eH(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Z()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(se(d===void 0||typeof d=="string"),Vt.fromBase64String(d||"")):(se(d===void 0||d instanceof Uint8Array),Vt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?N.UNKNOWN:wD(c.code);return new $(d,c.message||"")}(o);n=new bD(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=di(t,r.document.name),s=xt(r.document.updateTime),o=r.document.createTime?xt(r.document.createTime):ae.min(),a=new nn({mapValue:{fields:r.document.fields}}),l=it.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new op(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=di(t,r.document),s=r.readTime?xt(r.readTime):ae.min(),o=it.newNoDocument(i,s),a=r.removedTargetIds||[];n=new op([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=di(t,r.document),s=r.removedTargetIds||[];n=new op([],s,i,null)}else{if(!("filter"in e))return Z();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new qq(i,s),a=r.targetId;n=new ID(a,o)}}return n}function Pd(t,e){let n;if(e instanceof yu)n={update:i1(t,e.key,e.value)};else if(e instanceof Eu)n={delete:Ad(t,e.key)};else if(e instanceof Hi)n={update:i1(t,e.key,e.data),updateMask:oH(e.fieldMask)};else{if(!(e instanceof LT))return Z();n={verify:Ad(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Hl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ma)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ga)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Kl)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Z()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Jq(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Z()}(t,e.precondition)),n}function Zy(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?at.updateTime(xt(s.updateTime)):s.exists!==void 0?at.exists(s.exists):at.none()}(e.currentDocument):at.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let l=null;if("setToServerValue"in a)se(a.setToServerValue==="REQUEST_TIME"),l=new Hl;else if("appendMissingElements"in a){const d=a.appendMissingElements.values||[];l=new ma(d)}else if("removeAllFromArray"in a){const d=a.removeAllFromArray.values||[];l=new ga(d)}else"increment"in a?l=new Kl(o,a.increment):Z();const c=ot.fromServerFormat(a.fieldPath);return new wh(c,l)}(t,i)):[];if(e.update){e.update.name;const i=di(t,e.update.name),s=new nn({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const c=l.fieldPaths||[];return new Un(c.map(d=>ot.fromServerFormat(d)))}(e.updateMask);return new Hi(i,s,o,n,r)}return new yu(i,s,n,r)}if(e.delete){const i=di(t,e.delete);return new Eu(i,n)}if(e.verify){const i=di(t,e.verify);return new LT(i,n)}return Z()}function tH(t,e){return t&&t.length>0?(se(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?xt(i.updateTime):xt(s);return o.isEqual(ae.min())&&(o=xt(s)),new Bq(o,i.transformResults||[])}(n,e))):[]}function kD(t,e){return{documents:[Jy(t,e.path)]}}function xD(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Jy(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Jy(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return OD($e.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(c=>function(f){return{field:rl(f.field),direction:rH(f.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Xy(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function ND(t){let e=PD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){se(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const m=DD(f);return m instanceof $e&&NT(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(b){return new bd(il(b.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,_h(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(f){const m=!!f.before,v=f.values||[];return new js(v,m)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const m=!f.before,v=f.values||[];return new js(v,m)}(n.endAt)),iD(e,i,o,s,a,"F",l,c)}function nH(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function DD(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=il(n.unaryFilter.field);return xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=il(n.unaryFilter.field);return xe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=il(n.unaryFilter.field);return xe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=il(n.unaryFilter.field);return xe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Z()}}(t):t.fieldFilter!==void 0?function(n){return xe.create(il(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Z()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return $e.create(n.compositeFilter.filters.map(r=>DD(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Z()}}(n.compositeFilter.op))}(t):Z()}function rH(t){return Gq[t]}function iH(t){return Yq[t]}function sH(t){return Qq[t]}function rl(t){return{fieldPath:t.canonicalString()}}function il(t){return ot.fromServerFormat(t.fieldPath)}function OD(t){return t instanceof xe?function(n){if(n.op==="=="){if(jS(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NAN"}};if(US(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(jS(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NOT_NAN"}};if(US(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rl(n.field),op:iH(n.op),value:n.value}}}(t):t instanceof $e?function(n){const r=n.getFilters().map(i=>OD(i));return r.length===1?r[0]:{compositeFilter:{op:sH(n.op),filters:r}}}(t):Z()}function oH(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function LD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,n,r,i,s=ae.min(),o=ae.min(),a=Vt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ki(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e){this.ut=e}}function aH(t,e){let n;if(e.document)n=CD(t.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Y.fromSegments(e.noDocument.path),i=va(e.noDocument.readTime);n=it.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Z();{const r=Y.fromSegments(e.unknownDocument.path),i=va(e.unknownDocument.version);n=it.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new ut(i[0],i[1]);return ae.fromTimestamp(s)}(e.readTime)),n}function s1(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:rm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:Ad(s,o.key),fields:o.data.value.mapValue.fields,updateTime:Gl(s,o.version.toTimestamp()),createTime:Gl(s,o.createTime.toTimestamp())}}(t.ut,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:_a(e.version)};else{if(!e.isUnknownDocument())return Z();r.unknownDocument={path:n.path.toArray(),version:_a(e.version)}}return r}function rm(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function _a(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function va(t){const e=new ut(t.seconds,t.nanoseconds);return ae.fromTimestamp(e)}function Co(t,e){const n=(e.baseMutations||[]).map(s=>Zy(t.ut,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>Zy(t.ut,s)),i=ut.fromMillis(e.localWriteTimeMs);return new VT(e.batchId,i,n,r)}function yc(t){const e=va(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?va(t.lastLimboFreeSnapshotVersion):ae.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return se(s.documents.length===1),Nn(vu(PD(s.documents[0])))}(t.query):function(s){return Nn(ND(s))}(t.query),new ki(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Vt.fromBase64String(t.resumeToken))}function MD(t,e){const n=_a(e.snapshotVersion),r=_a(e.lastLimboFreeSnapshotVersion);let i;i=em(e.target)?kD(t.ut,e.target):xD(t.ut,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:pa(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function jT(t){const e=ND({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?nm(e,e.limit,"L"):e}function mv(t,e){return new FT(e.largestBatchId,Zy(t.ut,e.overlayMutation))}function o1(t,e){const n=e.path.lastSegment();return[t,xn(e.path.popLast()),n]}function a1(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:_a(r.readTime),documentKey:xn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lH{getBundleMetadata(e,n){return l1(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:va(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return l1(e).put(function(i){return{bundleId:i.id,createTime:_a(xt(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return u1(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:jT(s.bundledQuery),readTime:va(s.readTime)}}(r)})}saveNamedQuery(e,n){return u1(e).put(function(i){return{name:i.name,readTime:_a(xt(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function l1(t){return Gt(t,"bundles")}function u1(t){return Gt(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,n){this.serializer=e,this.userId=n}static ct(e,n){const r=n.uid||"";return new Ag(e,r)}getOverlay(e,n){return ic(e).get(o1(this.userId,n)).next(r=>r?mv(this.serializer,r):null)}getOverlays(e,n){const r=oi();return R.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new FT(n,o);i.push(this.lt(e,a))}),R.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(xn(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(ic(e).H("collectionPathOverlayIndex",a))}),R.waitFor(s)}getOverlaysForCollection(e,n,r){const i=oi(),s=xn(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return ic(e).W("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const c=mv(this.serializer,l);i.set(c.getKey(),c)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=oi();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return ic(e).Y({index:"collectionGroupOverlayIndex",range:a},(l,c,d)=>{const f=mv(this.serializer,c);s.size()<i||f.largestBatchId===o?(s.set(f.getKey(),f),o=f.largestBatchId):d.done()}).next(()=>s)}lt(e,n){return ic(e).put(function(i,s,o){const[a,l,c]=o1(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Pd(i.ut,o.mutation)}}(this.serializer,this.userId,n))}}function ic(t){return Gt(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(_t(e.integerValue));else if("doubleValue"in e){const r=_t(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),Ed(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(n,20),typeof r=="string"?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(Fs(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?YN(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):Z()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const r=e.fields||{};this.Tt(n,55);for(const i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){const r=e.values||[];this.Tt(n,50);for(const i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),Y.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}ko.St=new ko;function uH(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function c1(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=uH(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class cH{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Dt(r.value),r=n.next();this.Ct()}vt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Dt(r);else if(r<2048)this.Dt(960|r>>>6),this.Dt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Dt(480|r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r);else{const i=n.codePointAt(0);this.Dt(240|i>>>18),this.Dt(128|63&i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i)}}this.Ct()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Nt(e){const n=this.Bt(e),r=c1(n);this.Lt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}kt(e){const n=this.Bt(e),r=c1(n);this.Lt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Dt(e){const n=255&e;n===0?(this.Qt(0),this.Qt(255)):n===255?(this.Qt(255),this.Qt(0)):this.Qt(n)}Ft(e){const n=255&e;n===0?(this.$t(0),this.$t(255)):n===255?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class dH{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class hH{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class sc{constructor(){this.Wt=new cH,this.Gt=new dH(this.Wt),this.zt=new hH(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return e===0?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Ht(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new xo(this.indexId,this.documentKey,this.arrayValue,r)}}function rs(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=d1(t.arrayValue,e.arrayValue),n!==0?n:(n=d1(t.directionalValue,e.directionalValue),n!==0?n:Y.comparator(t.documentKey,e.documentKey)))}function d1(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e){this.Jt=new He((n,r)=>ot.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Jt=this.Jt.add(r):this.Zt.push(r)}}get Xt(){return this.Jt.size>1}en(e){if(se(e.collectionGroup===this.collectionId),this.Xt)return!1;const n=zy(e);if(n!==void 0&&!this.tn(n))return!1;const r=So(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.tn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[s];if(!this.nn(a,l)||!this.rn(this.Yt[o++],l))return!1}++s}for(;s<r.length;++s){const a=r[s];if(o>=this.Yt.length||!this.rn(this.Yt[o++],a))return!1}return!0}sn(){if(this.Xt)return null;let e=new He(ot.comparator);const n=[];for(const r of this.Zt)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new tp(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new tp(r.field,0))}for(const r of this.Yt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new tp(r.field,r.dir==="asc"?0:1)));return new Zp(Zp.UNKNOWN_ID,this.collectionId,n,yd.empty())}tn(e){for(const n of this.Zt)if(this.nn(n,e))return!0;return!1}nn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}rn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(t){var e,n;if(se(t instanceof xe||t instanceof $e),t instanceof xe){if(t instanceof rD){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>xe.create(t.field,"==",s)))||[];return $e.create(i,"or")}return t}const r=t.filters.map(i=>FD(i));return $e.create(r,t.op)}function fH(t){if(t.getFilters().length===0)return[];const e=nE(FD(t));return se($D(e)),eE(e)||tE(e)?[e]:e.getFilters()}function eE(t){return t instanceof xe}function tE(t){return t instanceof $e&&NT(t)}function $D(t){return eE(t)||tE(t)||function(n){if(n instanceof $e&&Ky(n)){for(const r of n.getFilters())if(!eE(r)&&!tE(r))return!1;return!0}return!1}(t)}function nE(t){if(se(t instanceof xe||t instanceof $e),t instanceof xe)return t;if(t.filters.length===1)return nE(t.filters[0]);const e=t.filters.map(r=>nE(r));let n=$e.create(e,t.op);return n=im(n),$D(n)?n:(se(n instanceof $e),se(ql(n)),se(n.filters.length>1),n.filters.reduce((r,i)=>BT(r,i)))}function BT(t,e){let n;return se(t instanceof xe||t instanceof $e),se(e instanceof xe||e instanceof $e),n=t instanceof xe?e instanceof xe?function(i,s){return $e.create([i,s],"and")}(t,e):f1(t,e):e instanceof xe?f1(e,t):function(i,s){if(se(i.filters.length>0&&s.filters.length>0),ql(i)&&ql(s))return eD(i,s.getFilters());const o=Ky(i)?i:s,a=Ky(i)?s:i,l=o.filters.map(c=>BT(c,a));return $e.create(l,"or")}(t,e),im(n)}function f1(t,e){if(ql(e))return eD(e,t.getFilters());{const n=e.filters.map(r=>BT(t,r));return $e.create(n,"or")}}function im(t){if(se(t instanceof xe||t instanceof $e),t instanceof xe)return t;const e=t.getFilters();if(e.length===1)return im(e[0]);if(JN(t))return t;const n=e.map(i=>im(i)),r=[];return n.forEach(i=>{i instanceof xe?r.push(i):i instanceof $e&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:$e.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pH{constructor(){this.on=new zT}addToCollectionParentIndex(e,n){return this.on.add(n),R.resolve()}getCollectionParents(e,n){return R.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return R.resolve()}deleteFieldIndex(e,n){return R.resolve()}deleteAllFieldIndexes(e){return R.resolve()}createTargetIndexes(e,n){return R.resolve()}getDocumentsMatchingTarget(e,n){return R.resolve(null)}getIndexType(e,n){return R.resolve(0)}getFieldIndexes(e,n){return R.resolve([])}getNextCollectionGroupToUpdate(e){return R.resolve(null)}getMinOffset(e,n){return R.resolve(or.min())}getMinOffsetFromCollectionGroup(e,n){return R.resolve(or.min())}updateCollectionGroup(e,n,r){return R.resolve()}updateIndexEntries(e,n){return R.resolve()}}class zT{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new He(Le.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new He(Le.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If=new Uint8Array(0);class mH{constructor(e,n){this.user=e,this.databaseId=n,this._n=new zT,this.an=new no(r=>pa(r),(r,i)=>vh(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this._n.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this._n.add(n)});const s={collectionId:r,parent:xn(i)};return p1(e).put(s)}return R.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[MN(n),""],!1,!0);return p1(e).W(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(si(o.parent))}return r})}addFieldIndex(e,n){const r=oc(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=Za(e);return s.next(a=>{o.put(a1(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=oc(e),i=Za(e),s=Ja(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=oc(e),r=Ja(e),i=Za(e);return n.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,n){return R.forEach(this.un(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new h1(r).sn();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=Ja(e);let i=!0;const s=new Map;return R.forEach(this.un(n),o=>this.cn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=_e();const a=[];return R.forEach(s,(l,c)=>{j("IndexedDbIndexManager",`Using index ${function(A){return`id=${A.indexId}|cg=${A.collectionGroup}|f=${A.fields.map(E=>`${E.fieldPath}:${E.kind}`).join(",")}`}(l)} to execute ${pa(n)}`);const d=function(A,E){const x=zy(E);if(x===void 0)return null;for(const D of tm(A,x.fieldPath))switch(D.op){case"array-contains-any":return D.value.arrayValue.values||[];case"array-contains":return[D.value]}return null}(c,l),f=function(A,E){const x=new Map;for(const D of So(E))for(const O of tm(A,D.fieldPath))switch(O.op){case"==":case"in":x.set(D.fieldPath.canonicalString(),O.value);break;case"not-in":case"!=":return x.set(D.fieldPath.canonicalString(),O.value),Array.from(x.values())}return null}(c,l),m=function(A,E){const x=[];let D=!0;for(const O of So(E)){const G=O.kind===0?HS(A,O.fieldPath,A.startAt):KS(A,O.fieldPath,A.startAt);x.push(G.value),D&&(D=G.inclusive)}return new js(x,D)}(c,l),v=function(A,E){const x=[];let D=!0;for(const O of So(E)){const G=O.kind===0?KS(A,O.fieldPath,A.endAt):HS(A,O.fieldPath,A.endAt);x.push(G.value),D&&(D=G.inclusive)}return new js(x,D)}(c,l),b=this.ln(l,c,m),I=this.ln(l,c,v),_=this.hn(l,c,f),y=this.Pn(l.indexId,d,b,m.inclusive,I,v.inclusive,_);return R.forEach(y,T=>r.j(T,n.limit).next(A=>{A.forEach(E=>{const x=Y.fromSegments(E.documentKey);o.has(x)||(o=o.add(x),a.push(x))})}))}).next(()=>a)}return R.resolve(null)})}un(e){let n=this.an.get(e);return n||(e.filters.length===0?n=[e]:n=fH($e.create(e.filters,"and")).map(r=>Yy(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,n),n)}Pn(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),c=l/(n!=null?n.length:1),d=[];for(let f=0;f<l;++f){const m=n?this.In(n[f/c]):If,v=this.Tn(e,m,r[f%c],i),b=this.En(e,m,s[f%c],o),I=a.map(_=>this.Tn(e,m,_,!0));d.push(...this.createRange(v,b,I))}return d}Tn(e,n,r,i){const s=new xo(e,Y.empty(),n,r);return i?s:s.Ht()}En(e,n,r,i){const s=new xo(e,Y.empty(),n,r);return i?s.Ht():s}cn(e,n){const r=new h1(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.en(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.un(n);return R.forEach(i,s=>this.cn(e,s).next(o=>{o?r!==0&&o.fields.length<function(l){let c=new He(ot.comparator),d=!1;for(const f of l.filters)for(const m of f.getFlattenedFilters())m.field.isKeyField()||(m.op==="array-contains"||m.op==="array-contains-any"?d=!0:c=c.add(m.field));for(const f of l.orderBy)f.field.isKeyField()||(c=c.add(f.field));return c.size+(d?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}dn(e,n){const r=new sc;for(const i of So(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.jt(i.kind);ko.St.ht(s,o)}return r.Ut()}In(e){const n=new sc;return ko.St.ht(e,n.jt(0)),n.Ut()}An(e,n){const r=new sc;return ko.St.ht(fa(this.databaseId,n),r.jt(function(s){const o=So(s);return o.length===0?0:o[o.length-1].kind}(e))),r.Ut()}hn(e,n,r){if(r===null)return[];let i=[];i.push(new sc);let s=0;for(const o of So(e)){const a=r[s++];for(const l of i)if(this.Rn(n,o.fieldPath)&&Id(a))i=this.Vn(i,o,a);else{const c=l.jt(o.kind);ko.St.ht(a,c)}}return this.mn(i)}ln(e,n,r){return this.hn(e,n,r.position)}mn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Ut();return n}Vn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new sc;l.seed(a.Ut()),ko.St.ht(o,l.jt(n.kind)),s.push(l)}return s}Rn(e,n){return!!e.filters.find(r=>r instanceof xe&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=oc(e),i=Za(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(s=>{const o=[];return R.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(d,f){const m=f?new yd(f.sequenceNumber,new or(va(f.readTime),new Y(si(f.documentKey)),f.largestBatchId)):yd.empty(),v=d.fields.map(([b,I])=>new tp(ot.fromServerFormat(b),I));return new Zp(d.indexId,d.collectionGroup,v,m)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:ge(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=oc(e),s=Za(e);return this.fn(e).next(o=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>R.forEach(a,l=>s.put(a1(l.indexId,this.user,o,r)))))}updateIndexEntries(e,n){const r=new Map;return R.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?R.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),R.forEach(a,l=>this.gn(e,i,l).next(c=>{const d=this.pn(s,l);return c.isEqual(d)?R.resolve():this.yn(e,s,l,c,d)}))))})}wn(e,n,r,i){return Ja(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.An(r,n.key),documentKey:n.key.path.toArray()})}Sn(e,n,r,i){return Ja(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.An(r,n.key),n.key.path.toArray()])}gn(e,n,r){const i=Ja(e);let s=new He(rs);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.An(r,n)])},(o,a)=>{s=s.add(new xo(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}pn(e,n){let r=new He(rs);const i=this.dn(n,e);if(i==null)return r;const s=zy(n);if(s!=null){const o=e.data.field(s.fieldPath);if(Id(o))for(const a of o.arrayValue.values||[])r=r.add(new xo(n.indexId,e.key,this.In(a),i))}else r=r.add(new xo(n.indexId,e.key,If,i));return r}yn(e,n,r,i,s){j("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(l,c,d,f,m){const v=l.getIterator(),b=c.getIterator();let I=Xa(v),_=Xa(b);for(;I||_;){let y=!1,T=!1;if(I&&_){const A=d(I,_);A<0?T=!0:A>0&&(y=!0)}else I!=null?T=!0:y=!0;y?(f(_),_=Xa(b)):T?(m(I),I=Xa(v)):(I=Xa(v),_=Xa(b))}}(i,s,rs,a=>{o.push(this.wn(e,n,r,a))},a=>{o.push(this.Sn(e,n,r,a))}),R.waitFor(o)}fn(e){let n=1;return Za(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>rs(o,a)).filter((o,a,l)=>!a||rs(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=rs(o,e),l=rs(o,n);if(a===0)i[0]=e.Ht();else if(a>0&&l<0)i.push(o),i.push(o.Ht());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.bn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,If,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,If,[]];s.push(IDBKeyRange.bound(a,l))}return s}bn(e,n){return rs(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(m1)}getMinOffset(e,n){return R.mapArray(this.un(n),r=>this.cn(e,r).next(i=>i||Z())).next(m1)}}function p1(t){return Gt(t,"collectionParents")}function Ja(t){return Gt(t,"indexEntries")}function oc(t){return Gt(t,"indexConfiguration")}function Za(t){return Gt(t,"indexState")}function m1(t){se(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;CT(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new or(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Fn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Fn(e,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Y({range:o},(d,f,m)=>(a++,m.delete()));s.push(l.next(()=>{se(a===1)}));const c=[];for(const d of n.mutations){const f=zN(e,d.key.path,n.batchId);s.push(i.delete(f)),c.push(d.key)}return R.waitFor(s).next(()=>c)}function sm(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Z();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fn.DEFAULT_COLLECTION_PERCENTILE=10,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fn.DEFAULT=new Fn(41943040,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fn.DISABLED=new Fn(-1,0,0);class Sg{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Dn={}}static ct(e,n,r,i){se(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new Sg(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return is(e).Y({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=sl(e),o=is(e);return o.add({}).next(a=>{se(typeof a=="number");const l=new VT(a,n,r,i),c=function(v,b,I){const _=I.baseMutations.map(T=>Pd(v.ut,T)),y=I.mutations.map(T=>Pd(v.ut,T));return{userId:b,batchId:I.batchId,localWriteTimeMs:I.localWriteTime.toMillis(),baseMutations:_,mutations:y}}(this.serializer,this.userId,l),d=[];let f=new He((m,v)=>ge(m.canonicalString(),v.canonicalString()));for(const m of i){const v=zN(this.userId,m.key.path,a);f=f.add(m.key.path.popLast()),d.push(o.put(c)),d.push(s.put(v,rq))}return f.forEach(m=>{d.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.Dn[a]=l.keys()}),R.waitFor(d).next(()=>l)})}lookupMutationBatch(e,n){return is(e).get(n).next(r=>r?(se(r.userId===this.userId),Co(this.serializer,r)):null)}Cn(e,n){return this.Dn[n]?R.resolve(this.Dn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Dn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return is(e).Y({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(se(a.batchId>=r),s=Co(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return is(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return is(e).W("userMutationsIndex",n).next(r=>r.map(i=>Co(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=np(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return sl(e).Y({range:i},(o,a,l)=>{const[c,d,f]=o,m=si(d);if(c===this.userId&&n.path.isEqual(m))return is(e).get(f).next(v=>{if(!v)throw Z();se(v.userId===this.userId),s.push(Co(this.serializer,v))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new He(ge);const i=[];return n.forEach(s=>{const o=np(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=sl(e).Y({range:a},(c,d,f)=>{const[m,v,b]=c,I=si(v);m===this.userId&&s.path.isEqual(I)?r=r.add(b):f.done()});i.push(l)}),R.waitFor(i).next(()=>this.vn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=np(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new He(ge);return sl(e).Y({range:o},(l,c,d)=>{const[f,m,v]=l,b=si(m);f===this.userId&&r.isPrefixOf(b)?b.length===i&&(a=a.add(v)):d.done()}).next(()=>this.vn(e,a))}vn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(is(e).get(s).next(o=>{if(o===null)throw Z();se(o.userId===this.userId),r.push(Co(this.serializer,o))}))}),R.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return UD(e.ae,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Fn(n.batchId)}),R.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return R.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return sl(e).Y({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=si(s[1]);i.push(l)}else a.done()}).next(()=>{se(i.length===0)})})}containsKey(e,n){return jD(e,this.userId,n)}Mn(e){return BD(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function jD(t,e,n){const r=np(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return sl(t).Y({range:s,J:!0},(a,l,c)=>{const[d,f,m]=a;d===e&&f===i&&(o=!0),c.done()}).next(()=>o)}function is(t){return Gt(t,"mutations")}function sl(t){return Gt(t,"documentMutations")}function BD(t){return Gt(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new ya(0)}static Nn(){return new ya(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gH{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const r=new ya(n.highestTargetId);return n.highestTargetId=r.next(),this.Ln(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>ae.fromTimestamp(new ut(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Ln(e,i)))}addTargetData(e,n){return this.kn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.qn(n,r),this.Ln(e,r))))}updateTargetData(e,n){return this.kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>el(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(se(r.targetCount>0),r.targetCount-=1,this.Ln(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return el(e).Y((o,a)=>{const l=yc(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>R.waitFor(s)).next(()=>i)}forEachTarget(e,n){return el(e).Y((r,i)=>{const s=yc(i);n(s)})}Bn(e){return _1(e).get("targetGlobalKey").next(n=>(se(n!==null),n))}Ln(e,n){return _1(e).put("targetGlobalKey",n)}kn(e,n){return el(e).put(MD(this.serializer,n))}qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=pa(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return el(e).Y({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const c=yc(a);vh(n,c.target)&&(s=c,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=us(e);return n.forEach(o=>{const a=xn(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),R.waitFor(i)}removeMatchingKeys(e,n,r){const i=us(e);return R.forEach(n,s=>{const o=xn(s.path);return R.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=us(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=us(e);let s=_e();return i.Y({range:r,J:!0},(o,a,l)=>{const c=si(o[1]),d=new Y(c);s=s.add(d)}).next(()=>s)}containsKey(e,n){const r=xn(n.path),i=IDBKeyRange.bound([r],[MN(r)],!1,!0);let s=0;return us(e).Y({index:"documentTargetsIndex",J:!0,range:i},([o,a],l,c)=>{o!==0&&(s++,c.done())}).next(()=>s>0)}_t(e,n){return el(e).get(n).next(r=>r?yc(r):null)}}function el(t){return Gt(t,"targets")}function _1(t){return Gt(t,"targetGlobal")}function us(t){return Gt(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1([t,e],[n,r]){const i=ge(t,n);return i===0?ge(e,r):i}class _H{constructor(e){this.Qn=e,this.buffer=new He(v1),this.Kn=0}$n(){return++this.Kn}Un(e){const n=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();v1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class vH{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Wn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return this.Wn!==null}Gn(e){j("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Wn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){to(n)?j("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await eo(n)}await this.Gn(3e5)})}}class yH{constructor(e,n){this.zn=e,this.params=n}calculateTargetCount(e,n){return this.zn.jn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return R.resolve($n._e);const r=new _H(n);return this.zn.forEachTarget(e,i=>r.Un(i.sequenceNumber)).next(()=>this.zn.Hn(e,i=>r.Un(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(j("LruGarbageCollector","Garbage collection skipped; disabled"),R.resolve(g1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(j("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),g1):this.Jn(e,n))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,n){let r,i,s,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(j("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),tl()<=Pe.DEBUG&&j("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),R.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function EH(t,e){return new yH(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wH{constructor(e,n){this.db=e,this.garbageCollector=EH(this,n)}jn(e){const n=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Yn(e){let n=0;return this.Hn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Hn(e,n){return this.Zn(e,(r,i)=>n(i))}addReference(e,n,r){return bf(e,r)}removeReference(e,n,r){return bf(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return bf(e,n)}Xn(e,n){return function(i,s){let o=!1;return BD(i).Z(a=>jD(i,a,s).next(l=>(l&&(o=!0),R.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Zn(e,(o,a)=>{if(a<=n){const l=this.Xn(e,o).next(c=>{if(!c)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,ae.min()),us(e).delete(function(f){return[0,xn(f.path)]}(o))))});i.push(l)}}).next(()=>R.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return bf(e,n)}Zn(e,n){const r=us(e);let i,s=$n._e;return r.Y({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:c})=>{o===0?(s!==$n._e&&n(new Y(si(i)),s),s=c,i=l):s=$n._e}).next(()=>{s!==$n._e&&n(new Y(si(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function bf(t,e){return us(t).put(function(r,i){return{targetId:0,path:xn(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(){this.changes=new no(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,it.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?R.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TH{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Io(e).put(r)}removeEntry(e,n,r){return Io(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],rm(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.er(e,r)))}getEntry(e,n){let r=it.newInvalidDocument(n);return Io(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(ac(n))},(i,s)=>{r=this.tr(n,s)}).next(()=>r)}nr(e,n){let r={size:0,document:it.newInvalidDocument(n)};return Io(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(ac(n))},(i,s)=>{r={document:this.tr(n,s),size:sm(s)}}).next(()=>r)}getEntries(e,n){let r=jn();return this.rr(e,n,(i,s)=>{const o=this.tr(i,s);r=r.insert(i,o)}).next(()=>r)}ir(e,n){let r=jn(),i=new Xe(Y.comparator);return this.rr(e,n,(s,o)=>{const a=this.tr(s,o);r=r.insert(s,a),i=i.insert(s,sm(o))}).next(()=>({documents:r,sr:i}))}rr(e,n,r){if(n.isEmpty())return R.resolve();let i=new He(w1);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(ac(i.first()),ac(i.last())),o=i.getIterator();let a=o.getNext();return Io(e).Y({index:"documentKeyIndex",range:s},(l,c,d)=>{const f=Y.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&w1(a,f)<0;)r(a,null),a=o.getNext();a&&a.isEqual(f)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?d.U(ac(a)):d.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),rm(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Io(e).W(IDBKeyRange.bound(a,l,!0)).next(c=>{s==null||s.incrementDocumentReadCount(c.length);let d=jn();for(const f of c){const m=this.tr(Y.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);m.isFoundDocument()&&(Eh(n,m)||i.has(m.key))&&(d=d.insert(m.key,m))}return d})}getAllFromCollectionGroup(e,n,r,i){let s=jn();const o=E1(n,r),a=E1(n,or.max());return Io(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,c,d)=>{const f=this.tr(Y.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(f.key,f),s.size===i&&d.done()}).next(()=>s)}newChangeBuffer(e){return new IH(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return y1(e).get("remoteDocumentGlobalKey").next(n=>(se(!!n),n))}er(e,n){return y1(e).put("remoteDocumentGlobalKey",n)}tr(e,n){if(n){const r=aH(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(ae.min())))return r}return it.newInvalidDocument(e)}}function WD(t){return new TH(t)}class IH extends zD{constructor(e,n){super(),this._r=e,this.trackRemovals=n,this.ar=new no(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new He((s,o)=>ge(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.ar.get(s);if(n.push(this._r.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=s1(this._r.serializer,o);i=i.add(s.path.popLast());const c=sm(l);r+=c-a.size,n.push(this._r.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=s1(this._r.serializer,o.convertToNoDocument(ae.min()));n.push(this._r.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this._r.indexManager.addToCollectionParentIndex(e,s))}),n.push(this._r.updateMetadata(e,r)),R.waitFor(n)}getFromCache(e,n){return this._r.nr(e,n).next(r=>(this.ar.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this._r.ir(e,n).next(({documents:r,sr:i})=>(i.forEach((s,o)=>{this.ar.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function y1(t){return Gt(t,"remoteDocumentGlobal")}function Io(t){return Gt(t,"remoteDocumentsV14")}function ac(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function E1(t,e){const n=e.documentKey.path.toArray();return[t,rm(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function w1(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=ge(n[s],r[s]),i)return i;return i=ge(n.length,r.length),i||(i=ge(n[n.length-2],r[r.length-2]),i||ge(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bH{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Fc(r.mutation,i,Un.empty(),ut.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){const i=oi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=_c();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=oi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=jn();const o=Mc(),a=function(){return Mc()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Hi)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Fc(d.mutation,c,d.mutation.getFieldMask(),ut.now())):o.set(c.key,Un.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var f;return a.set(c,new bH(d,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Mc();let i=new Xe((o,a)=>o-a),s=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||Un.empty();d=a.applyToLocalView(c,d),r.set(l,d);const f=(i.get(a.batchId)||_e()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,f=cD();d.forEach(m=>{if(!s.has(m)){const v=vD(n.get(m),r.get(m));v!==null&&f.set(m,v),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return R.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Y.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):DT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):R.resolve(oi());let a=-1,l=s;return o.next(c=>R.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?R.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{l=l.insert(d,m)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,_e())).next(d=>({batchId:a,changes:uD(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Y(n)).next(r=>{let i=_c();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=_c();return this.indexManager.getCollectionParents(e,s).next(a=>R.forEach(a,l=>{const c=function(f,m){return new qi(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,it.newInvalidDocument(d)))});let a=_c();return o.forEach((l,c)=>{const d=s.get(l);d!==void 0&&Fc(d.mutation,c,Un.empty(),ut.now()),Eh(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AH{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return R.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:xt(i.createTime)}}(n)),R.resolve()}getNamedQuery(e,n){return R.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:jT(i.bundledQuery),readTime:xt(i.readTime)}}(n)),R.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SH{constructor(){this.overlays=new Xe(Y.comparator),this.lr=new Map}getOverlay(e,n){return R.resolve(this.overlays.get(n))}getOverlays(e,n){const r=oi();return R.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),R.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),R.resolve()}getOverlaysForCollection(e,n,r){const i=oi(),s=n.length+1,o=new Y(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return R.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Xe((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=oi(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=oi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return R.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new FT(n,r));let s=this.lr.get(n);s===void 0&&(s=_e(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(){this.hr=new He(Ut.Pr),this.Ir=new He(Ut.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new Ut(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new Ut(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new Y(new Le([])),r=new Ut(n,e),i=new Ut(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new Y(new Le([])),r=new Ut(n,e),i=new Ut(n,e+1);let s=_e();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ut(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ut{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return Y.comparator(e.key,n.key)||ge(e.gr,n.gr)}static Tr(e,n){return ge(e.gr,n.gr)||Y.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PH{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new He(Ut.Pr)}checkEmpty(e){return R.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new VT(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new Ut(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return R.resolve(o)}lookupMutationBatch(e,n){return R.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Sr(r),s=i<0?0:i;return R.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return R.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return R.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ut(n,0),i=new Ut(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),R.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new He(ge);return n.forEach(i=>{const s=new Ut(i,0),o=new Ut(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),R.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Y.isDocumentKey(s)||(s=s.child(""));const o=new Ut(new Y(s),0);let a=new He(ge);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.gr)),!0)},o),R.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){se(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return R.forEach(n.mutations,i=>{const s=new Ut(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new Ut(n,0),i=this.yr.firstAfterOrEqual(r);return R.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,R.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RH{constructor(e){this.Cr=e,this.docs=function(){return new Xe(Y.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return R.resolve(r?r.document.mutableCopy():it.newInvalidDocument(n))}getEntries(e,n){let r=jn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():it.newInvalidDocument(i))}),R.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=jn();const o=n.path,a=new Y(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||CT($N(d),r)<=0||(i.has(d.key)||Eh(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return R.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Z()}vr(e,n){return R.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new CH(this)}getSize(e){return R.resolve(this.size)}}class CH extends zD{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),R.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kH{constructor(e){this.persistence=e,this.Fr=new no(n=>pa(n),vh),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.Mr=0,this.Or=new WT,this.targetCount=0,this.Nr=ya.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),R.resolve()}getLastRemoteSnapshotVersion(e){return R.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return R.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),R.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),R.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new ya(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,R.resolve()}updateTargetData(e,n){return this.kn(n),R.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,R.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),R.waitFor(s).next(()=>i)}getTargetCount(e){return R.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return R.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),R.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),R.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),R.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return R.resolve(r)}containsKey(e,n){return R.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e,n){this.Br={},this.overlays={},this.Lr=new $n(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new kH(this),this.indexManager=new pH,this.remoteDocumentCache=function(i){return new RH(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new VD(n),this.Kr=new AH(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new SH,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new PH(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){j("MemoryPersistence","Starting transaction:",e);const i=new xH(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return R.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class xH extends jN{constructor(e){super(),this.currentSequenceNumber=e}}class Pg{constructor(e){this.persistence=e,this.Gr=new WT,this.zr=null}static jr(e){return new Pg(e)}get Hr(){if(this.zr)return this.zr;throw Z()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),R.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),R.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),R.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return R.forEach(this.Hr,r=>{const i=Y.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,ae.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return R.or([()=>R.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NH{constructor(e){this.serializer=e}N(e,n,r,i){const s=new wg("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",VS,{unique:!0}),l.createObjectStore("documentMutations")}(e),T1(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=R.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),T1(e)),o=o.next(()=>function(l){const c=l.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ae.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",d)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(l,c){return c.store("mutations").W().next(d=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",VS,{unique:!0});const f=c.store("mutations"),m=d.map(v=>f.put(v));return R.waitFor(m)})}(e,s))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.Zr(s))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(s)))),r<7&&i>=7&&(o=o.next(()=>this.ei(s))),r<8&&i>=8&&(o=o.next(()=>this.ti(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.ni(s))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(l){const c=l.createObjectStore("documentOverlays",{keyPath:mq});c.createIndex("collectionPathOverlayIndex",gq,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",_q,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(l){const c=l.createObjectStore("remoteDocumentsV14",{keyPath:iq});c.createIndex("documentKeyIndex",sq),c.createIndex("collectionGroupIndex",oq)}(e)).next(()=>this.ri(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ii(e,s))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:dq}).createIndex("sequenceNumberIndex",hq,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:fq}).createIndex("documentKeyIndex",pq,{unique:!1})}(e))),o}Xr(e){let n=0;return e.store("remoteDocuments").Y((r,i)=>{n+=sm(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Zr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>R.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>R.forEach(a,l=>{se(l.userId===s.userId);const c=Co(this.serializer,l);return UD(e,s.userId,c).next(()=>{})}))}))}ei(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Y((o,a)=>{const l=new Le(o),c=function(f){return[0,xn(f)]}(l);s.push(n.get(c).next(d=>d?R.resolve():(f=>n.put({targetId:0,path:xn(f),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>R.waitFor(s))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:cq});const r=n.store("collectionParents"),i=new zT,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:xn(l)})}};return n.store("remoteDocuments").Y({J:!0},(o,a)=>{const l=new Le(o);return s(l.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([o,a,l],c)=>{const d=si(a);return s(d.popLast())}))}ni(e){const n=e.store("targets");return n.Y((r,i)=>{const s=yc(i),o=MD(this.serializer,s);return n.put(o)})}ri(e,n){const r=n.store("remoteDocuments"),i=[];return r.Y((s,o)=>{const a=n.store("remoteDocumentsV14"),l=function(f){return f.document?new Y(Le.fromString(f.document.name).popFirst(5)):f.noDocument?Y.fromSegments(f.noDocument.path):f.unknownDocument?Y.fromSegments(f.unknownDocument.path):Z()}(o).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(c))}).next(()=>R.waitFor(i))}ii(e,n){const r=n.store("mutations"),i=WD(this.serializer),s=new HD(Pg.jr,this.serializer.ut);return r.W().next(o=>{const a=new Map;return o.forEach(l=>{var c;let d=(c=a.get(l.userId))!==null&&c!==void 0?c:_e();Co(this.serializer,l).keys().forEach(f=>d=d.add(f)),a.set(l.userId,d)}),R.forEach(a,(l,c)=>{const d=new jt(c),f=Ag.ct(this.serializer,d),m=s.getIndexManager(d),v=Sg.ct(d,this.serializer,m,s.referenceDelegate);return new qD(i,v,f,m).recalculateAndSaveOverlaysForDocumentKeys(new Wy(n,$n._e),l).next()})})}}function T1(t){t.createObjectStore("targetDocuments",{keyPath:lq}).createIndex("documentTargetsIndex",uq,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",aq,{unique:!0}),t.createObjectStore("targetGlobal")}const gv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class qT{constructor(e,n,r,i,s,o,a,l,c,d,f=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.si=s,this.window=o,this.document=a,this.oi=c,this._i=d,this.ai=f,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=m=>Promise.resolve(),!qT.D())throw new $(N.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new wH(this,i),this.Ii=n+"main",this.serializer=new VD(l),this.Ti=new Or(this.Ii,this.ai,new NH(this.serializer)),this.qr=new gH(this.referenceDelegate,this.serializer),this.remoteDocumentCache=WD(this.serializer),this.Kr=new lH,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,d===!1&&kt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new $(N.FAILED_PRECONDITION,gv);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new $n(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){return this.Pi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget(async()=>{this.started&&await this.di()}))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Af(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(n=>this.isPrimary&&!n?this.pi(e).next(()=>!1):!!n&&this.yi(e).next(()=>!0))).catch(e=>{if(to(e))return j("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return j("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return lc(e).get("owner").next(n=>R.resolve(this.wi(n)))}Si(e){return Af(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Di(this.hi,18e5)){this.hi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Gt(n,"clientMetadata");return r.W().next(i=>{const s=this.Ci(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return R.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Ei)for(const n of e)this.Ei.removeItem(this.vi(n.clientId))}}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?R.resolve(!0):lc(e).get("owner").next(n=>{if(n!==null&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)){if(this.wi(n)&&this.networkEnabled)return!0;if(!this.wi(n)){if(!n.allowTabSynchronization)throw new $(N.FAILED_PRECONDITION,gv);return!1}}return!(!this.networkEnabled||!this.inForeground)||Af(e).W().next(r=>this.Ci(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&j("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.kr=!1,this.Mi(),this.li&&(this.li.cancel(),this.li=null),this.xi(),this.Oi(),await this.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new Wy(e,$n._e);return this.pi(n).next(()=>this.Si(n))}),this.Ti.close(),this.Ni()}Ci(e,n){return e.filter(r=>this.Di(r.updateTimeMs,n)&&!this.Fi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Af(e).W().next(n=>this.Ci(n,18e5).map(r=>r.clientId)))}get started(){return this.kr}getMutationQueue(e,n){return Sg.ct(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new mH(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return Ag.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,n,r){j("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(l){return l===15?yq:l===14?HN:l===13?qN:l===12?vq:l===11?WN:void Z()}(this.ai);let o;return this.Ti.runTransaction(e,i,s,a=>(o=new Wy(a,this.Lr?this.Lr.next():$n._e),n==="readwrite-primary"?this.fi(o).next(l=>!!l||this.gi(o)).next(l=>{if(!l)throw kt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new $(N.FAILED_PRECONDITION,UN);return r(o)}).next(l=>this.yi(o).next(()=>l)):this.Li(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Li(e){return lc(e).get("owner").next(n=>{if(n!==null&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)&&!this.wi(n)&&!(this._i||this.allowTabSynchronization&&n.allowTabSynchronization))throw new $(N.FAILED_PRECONDITION,gv)})}yi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return lc(e).put("owner",n)}static D(){return Or.D()}pi(e){const n=lc(e);return n.get("owner").next(r=>this.wi(r)?(j("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):R.resolve())}Di(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(kt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Ai(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground=this.document.visibilityState==="visible")}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ui=()=>{this.Mi();const n=/(?:Version|Mobile)\/1[456]/;tB()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var n;try{const r=((n=this.Ei)===null||n===void 0?void 0:n.getItem(this.vi(e)))!==null;return j("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return kt("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){kt("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function lc(t){return Gt(t,"owner")}function Af(t){return Gt(t,"clientMetadata")}function HT(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=_e(),i=_e();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new KT(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DH{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new DH;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(tl()<=Pe.DEBUG&&j("QueryEngine","SDK will not create cache indexes for query:",nl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),R.resolve()):(tl()<=Pe.DEBUG&&j("QueryEngine","Query:",nl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(tl()<=Pe.DEBUG&&j("QueryEngine","The SDK decides to create cache indexes for query:",nl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nn(n))):R.resolve())}zi(e,n){if(GS(n))return R.resolve(null);let r=Nn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=nm(n,null,"F"),r=Nn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=_e(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Yi(n,a);return this.Zi(n,c,o,l.readTime)?this.zi(e,nm(n,null,"F")):this.Xi(e,c,n,l)}))})))}ji(e,n,r,i){return GS(n)||i.isEqual(ae.min())?R.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?R.resolve(null):(tl()<=Pe.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),nl(n)),this.Xi(e,o,n,FN(i,-1)).next(a=>a))})}Yi(e,n){let r=new He(aD(e));return n.forEach((i,s)=>{Eh(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return tl()<=Pe.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",nl(n)),this.Gi.getDocumentsMatchingQuery(e,n,or.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OH{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new Xe(ge),this.ns=new no(s=>pa(s),vh),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qD(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function GD(t,e,n,r){return new OH(t,e,n,r)}async function YD(t,e){const n=X(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=_e();for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({_s:c,removedBatchIds:o,addedBatchIds:a}))})})}function LH(t,e){const n=X(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const f=c.batch,m=f.keys();let v=R.resolve();return m.forEach(b=>{v=v.next(()=>d.getEntry(l,b)).next(I=>{const _=c.docVersions.get(b);se(_!==null),I.version.compareTo(_)<0&&(f.applyToRemoteDocument(I,c),I.isValidDocument()&&(I.setReadTime(c.commitVersion),d.addEntry(I)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=_e();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function QD(t){const e=X(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function VH(t,e){const n=X(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((d,f)=>{const m=i.get(f);if(!m)return;a.push(n.qr.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.qr.addMatchingKeys(s,d.addedDocuments,f)));let v=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?v=v.withResumeToken(Vt.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,r)),i=i.insert(f,v),function(I,_,y){return I.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(m,v,d)&&a.push(n.qr.updateTargetData(s,v))});let l=jn(),c=_e();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(XD(s,o,e.documentUpdates).next(d=>{l=d.us,c=d.cs})),!r.isEqual(ae.min())){const d=n.qr.getLastRemoteSnapshotVersion(s).next(f=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return R.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.ts=i,s))}function XD(t,e,n){let r=_e(),i=_e();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=jn();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ae.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):j("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{us:o,cs:i}})}function MH(t,e){const n=X(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Yl(t,e){const n=X(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,R.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new ki(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function Ql(t,e,n){const r=X(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!to(o))throw o;j("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}function om(t,e,n){const r=X(t);let i=ae.min(),s=_e();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const f=X(l),m=f.ns.get(d);return m!==void 0?R.resolve(f.ts.get(m)):f.qr.getTargetData(c,d)}(r,o,Nn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:ae.min(),n?s:_e())).next(a=>(eO(r,oD(e),a),{documents:a,ls:s})))}function JD(t,e){const n=X(t),r=X(n.qr),i=n.ts.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r._t(s,e).next(o=>o?o.target:null))}function ZD(t,e){const n=X(t),r=n.rs.get(e)||ae.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.ss.getAllFromCollectionGroup(i,e,FN(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(eO(n,e,i),i))}function eO(t,e,n){let r=t.rs.get(e)||ae.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}async function FH(t,e,n,r){const i=X(t);let s=_e(),o=jn();for(const c of n){const d=e.hs(c.metadata.name);c.document&&(s=s.add(d));const f=e.Ps(c);f.setReadTime(e.Is(c.metadata.readTime)),o=o.insert(d,f)}const a=i.ss.newChangeBuffer({trackRemovals:!0}),l=await Yl(i,function(d){return Nn(vu(Le.fromString(`__bundle__/docs/${d}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",c=>XD(c,a,o).next(d=>(a.apply(c),d)).next(d=>i.qr.removeMatchingKeysForTargetId(c,l.targetId).next(()=>i.qr.addMatchingKeys(c,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,d.us,d.cs)).next(()=>d.us)))}async function $H(t,e,n=_e()){const r=await Yl(t,Nn(jT(e.bundledQuery))),i=X(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=xt(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Kr.saveNamedQuery(s,e);const a=r.withResumeToken(Vt.EMPTY_BYTE_STRING,o);return i.ts=i.ts.insert(a.targetId,a),i.qr.updateTargetData(s,a).next(()=>i.qr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.qr.addMatchingKeys(s,n,r.targetId)).next(()=>i.Kr.saveNamedQuery(s,e))})}function I1(t,e){return`firestore_clients_${t}_${e}`}function b1(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function _v(t,e){return`firestore_targets_${t}_${e}`}class am{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ts(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new $(i.error.code,i.error.message))),o?new am(e,n,i.state,s):(kt("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class $c{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ts(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new $(r.error.code,r.error.message))),s?new $c(e,r.state,i):(kt("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class lm{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ts(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=OT();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=BN(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new lm(e,s):(kt("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class GT{constructor(e,n){this.clientId=e,this.onlineState=n}static Ts(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new GT(n.clientId,n.onlineState):(kt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class rE{constructor(){this.activeTargetIds=OT()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vv{constructor(e,n,r,i,s){this.window=e,this.si=n,this.persistenceKey=r,this.Rs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new Xe(ge),this.started=!1,this.ps=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ys=I1(this.persistenceKey,this.Rs),this.ws=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.gs=this.gs.insert(this.Rs,new rE),this.Ss=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Cs=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.vs=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const r of e){if(r===this.Rs)continue;const i=this.getItem(I1(this.persistenceKey,r));if(i){const s=lm.Ts(r,i);s&&(this.gs=this.gs.insert(s.clientId,s))}}this.Fs();const n=this.storage.getItem(this.Cs);if(n){const r=this.Ms(n);r&&this.xs(r)}for(const r of this.ps)this.fs(r);this.ps=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let n=!1;return this.gs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,n,r){this.Ns(e,n,r),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(_v(this.persistenceKey,e));if(r){const i=$c.Ts(e,r);i&&(n=i.state)}}return this.Ls.ds(e),this.Fs(),n}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(_v(this.persistenceKey,e))}updateQueryState(e,n,r){this.ks(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return j("SharedClientState","READ",e,n),n}setItem(e,n){j("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){j("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){const n=e;if(n.storageArea===this.storage){if(j("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ys)return void kt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.Ss.test(n.key)){if(n.newValue==null){const r=this.Ks(n.key);return this.$s(r,null)}{const r=this.Us(n.key,n.newValue);if(r)return this.$s(r.clientId,r)}}else if(this.bs.test(n.key)){if(n.newValue!==null){const r=this.Ws(n.key,n.newValue);if(r)return this.Gs(r)}}else if(this.Ds.test(n.key)){if(n.newValue!==null){const r=this.zs(n.key,n.newValue);if(r)return this.js(r)}}else if(n.key===this.Cs){if(n.newValue!==null){const r=this.Ms(n.newValue);if(r)return this.xs(r)}}else if(n.key===this.ws){const r=function(s){let o=$n._e;if(s!=null)try{const a=JSON.parse(s);se(typeof a=="number"),o=a}catch(a){kt("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(n.newValue);r!==$n._e&&this.sequenceNumberHandler(r)}else if(n.key===this.vs){const r=this.Hs(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Js(i)))}}}else this.ps.push(n)})}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,n,r){const i=new am(this.currentUser,e,n,r),s=b1(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Es())}Bs(e){const n=b1(this.persistenceKey,this.currentUser,e);this.removeItem(n)}qs(e){const n={clientId:this.Rs,onlineState:e};this.storage.setItem(this.Cs,JSON.stringify(n))}ks(e,n,r){const i=_v(this.persistenceKey,e),s=new $c(e,n,r);this.setItem(i,s.Es())}Qs(e){const n=JSON.stringify(Array.from(e));this.setItem(this.vs,n)}Ks(e){const n=this.Ss.exec(e);return n?n[1]:null}Us(e,n){const r=this.Ks(e);return lm.Ts(r,n)}Ws(e,n){const r=this.bs.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return am.Ts(new jt(s),i,n)}zs(e,n){const r=this.Ds.exec(e),i=Number(r[1]);return $c.Ts(i,n)}Ms(e){return GT.Ts(e)}Hs(e){return JSON.parse(e)}async Gs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Ys(e.batchId,e.state,e.error);j("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,n){const r=n?this.gs.insert(e,n):this.gs.remove(e),i=this.Os(this.gs),s=this.Os(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.Xs(o,a).then(()=>{this.gs=r})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let n=OT();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class tO{constructor(){this.eo=new rE,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new rE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UH{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){j("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){j("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sf=null;function yv(){return Sf===null?Sf=function(){return 268435456+Math.round(2147483648*Math.random())}():Sf++,"0x"+Sf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BH{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn="WebChannelConnection";class zH extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=yv(),l=this.So(n,r);j("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,s,o),this.Do(n,l,c,i).then(d=>(j("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Ur("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_u}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){const i=jH[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const s=yv();return new Promise((o,a)=>{const l=new FW;l.setWithCredentials(!0),l.listenOnce(VW.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case pv.NO_ERROR:const d=l.getResponseJson();j(fn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case pv.TIMEOUT:j(fn,`RPC '${e}' ${s} timed out`),a(new $(N.DEADLINE_EXCEEDED,"Request time out"));break;case pv.HTTP_ERROR:const f=l.getStatus();if(j(fn,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);const v=m==null?void 0:m.error;if(v&&v.status&&v.message){const b=function(_){const y=_.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(y)>=0?y:N.UNKNOWN}(v.status);a(new $(b,v.message))}else a(new $(N.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new $(N.UNAVAILABLE,"Connection failed."));break;default:Z()}}finally{j(fn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);j(fn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}vo(e,n,r){const i=yv(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=OW(),a=LW(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");j(fn,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=o.createWebChannel(d,l);let m=!1,v=!1;const b=new BH({co:_=>{v?j(fn,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(m||(j(fn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),j(fn,`RPC '${e}' stream ${i} sending:`,_),f.send(_))},lo:()=>f.close()}),I=(_,y,T)=>{_.listen(y,A=>{try{T(A)}catch(E){setTimeout(()=>{throw E},0)}})};return I(f,wf.EventType.OPEN,()=>{v||j(fn,`RPC '${e}' stream ${i} transport opened.`)}),I(f,wf.EventType.CLOSE,()=>{v||(v=!0,j(fn,`RPC '${e}' stream ${i} transport closed`),b.Ro())}),I(f,wf.EventType.ERROR,_=>{v||(v=!0,Ur(fn,`RPC '${e}' stream ${i} transport errored:`,_),b.Ro(new $(N.UNAVAILABLE,"The operation could not be completed")))}),I(f,wf.EventType.MESSAGE,_=>{var y;if(!v){const T=_.data[0];se(!!T);const A=T,E=A.error||((y=A[0])===null||y===void 0?void 0:y.error);if(E){j(fn,`RPC '${e}' stream ${i} received error:`,E);const x=E.status;let D=function(H){const Ce=Nt[H];if(Ce!==void 0)return wD(Ce)}(x),O=E.message;D===void 0&&(D=N.INTERNAL,O="Unknown error status: "+x+" with message "+E.message),v=!0,b.Ro(new $(D,O)),f.close()}else j(fn,`RPC '${e}' stream ${i} received:`,T),b.Vo(T)}}),I(a,MW.STAT_EVENT,_=>{_.stat===NS.PROXY?j(fn,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===NS.NOPROXY&&j(fn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.Ao()},0),b}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(){return typeof window<"u"?window:null}function ap(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(t){return new Xq(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&j("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e,n,r,i,s,o,a,l){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new YT(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(kt(n.toString()),kt("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new $(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return j("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(j("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class WH extends rO{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=eH(this.serializer,e),r=function(s){if(!("targetChange"in s))return ae.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ae.min():o.readTime?xt(o.readTime):ae.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=Sd(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=em(l)?{documents:kD(s,l)}:{query:xD(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=AD(s,o.resumeToken);const c=Xy(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ae.min())>0){a.readTime=Gl(s,o.snapshotVersion.toTimestamp());const c=Xy(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=nH(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=Sd(this.serializer),n.removeTarget=e,this.e_(n)}}class qH extends rO{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(se(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=tH(e.writeResults,e.commitTime),r=xt(e.commitTime);return this.listener.I_(r,n)}return se(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Sd(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Pd(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HH extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new $(N.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new $(N.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(N.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class KH{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(kt(n),this.f_=!1):j("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GH{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(async()=>{ro(this)&&(j("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=X(l);c.C_.add(4),await wu(c),c.M_.set("Unknown"),c.C_.delete(4),await Ah(c)}(this))})}),this.M_=new KH(r,i)}}async function Ah(t){if(ro(t))for(const e of t.v_)await e(!0)}async function wu(t){for(const e of t.v_)await e(!1)}function Rg(t,e){const n=X(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),JT(n)?XT(n):Iu(n).Ho()&&QT(n,e))}function Rd(t,e){const n=X(t),r=Iu(n);n.D_.delete(e),r.Ho()&&iO(n,e),n.D_.size===0&&(r.Ho()?r.Zo():ro(n)&&n.M_.set("Unknown"))}function QT(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Iu(t).u_(e)}function iO(t,e){t.x_.Oe(e),Iu(t).c_(e)}function XT(t){t.x_=new Kq({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Iu(t).start(),t.M_.g_()}function JT(t){return ro(t)&&!Iu(t).jo()&&t.D_.size>0}function ro(t){return X(t).C_.size===0}function sO(t){t.x_=void 0}async function YH(t){t.D_.forEach((e,n)=>{QT(t,e)})}async function QH(t,e){sO(t),JT(t)?(t.M_.w_(e),XT(t)):t.M_.set("Unknown")}async function XH(t,e,n){if(t.M_.set("Online"),e instanceof bD&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.D_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.D_.delete(a),i.x_.removeTarget(a))}(t,e)}catch(r){j("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await um(t,r)}else if(e instanceof op?t.x_.$e(e):e instanceof ID?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(ae.min()))try{const r=await QD(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.D_.get(c);d&&s.D_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.D_.get(l);if(!d)return;s.D_.set(l,d.withResumeToken(Vt.EMPTY_BYTE_STRING,d.snapshotVersion)),iO(s,l);const f=new ki(d.target,l,c,d.sequenceNumber);QT(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){j("RemoteStore","Failed to raise snapshot:",r),await um(t,r)}}async function um(t,e,n){if(!to(e))throw e;t.C_.add(1),await wu(t),t.M_.set("Offline"),n||(n=()=>QD(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{j("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await Ah(t)})}function oO(t,e){return e().catch(n=>um(t,n,e))}async function Tu(t){const e=X(t),n=Bs(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;JH(e);)try{const i=await MH(e.localStore,r);if(i===null){e.b_.length===0&&n.Zo();break}r=i.batchId,ZH(e,i)}catch(i){await um(e,i)}aO(e)&&lO(e)}function JH(t){return ro(t)&&t.b_.length<10}function ZH(t,e){t.b_.push(e);const n=Bs(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function aO(t){return ro(t)&&!Bs(t).jo()&&t.b_.length>0}function lO(t){Bs(t).start()}async function eK(t){Bs(t).E_()}async function tK(t){const e=Bs(t);for(const n of t.b_)e.P_(n.mutations)}async function nK(t,e,n){const r=t.b_.shift(),i=MT.from(r,e,n);await oO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Tu(t)}async function rK(t,e){e&&Bs(t).h_&&await async function(r,i){if(function(o){return ED(o)&&o!==N.ABORTED}(i.code)){const s=r.b_.shift();Bs(r).Yo(),await oO(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Tu(r)}}(t,e),aO(t)&&lO(t)}async function S1(t,e){const n=X(t);n.asyncQueue.verifyOperationInProgress(),j("RemoteStore","RemoteStore received new credentials");const r=ro(n);n.C_.add(3),await wu(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await Ah(n)}async function iE(t,e){const n=X(t);e?(n.C_.delete(2),await Ah(n)):e||(n.C_.add(2),await wu(n),n.M_.set("Unknown"))}function Iu(t){return t.O_||(t.O_=function(n,r,i){const s=X(n);return s.A_(),new WH(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:YH.bind(null,t),Io:QH.bind(null,t),a_:XH.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),JT(t)?XT(t):t.M_.set("Unknown")):(await t.O_.stop(),sO(t))})),t.O_}function Bs(t){return t.N_||(t.N_=function(n,r,i){const s=X(n);return s.A_(),new qH(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:eK.bind(null,t),Io:rK.bind(null,t),T_:tK.bind(null,t),I_:nK.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await Tu(t)):(await t.N_.stop(),t.b_.length>0&&(j("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Wt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new ZT(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bu(t,e){if(kt("AsyncQueue",`${e}: ${t}`),to(t))return new $(N.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Y.comparator(n.key,r.key):(n,r)=>Y.comparator(n.key,r.key),this.keyedMap=_c(),this.sortedSet=new Xe(this.comparator)}static emptySet(e){return new Nl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Nl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Nl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(){this.B_=new Xe(Y.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Z():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Xl{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Xl(e,n,Nl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iK{constructor(){this.k_=void 0,this.listeners=[]}}class sK{constructor(){this.queries=new no(e=>sD(e),yh),this.onlineState="Unknown",this.q_=new Set}}async function eI(t,e){const n=X(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new iK),i)try{s.k_=await n.onListen(r)}catch(o){const a=bu(o,`Initialization of query '${nl(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&nI(n)}async function tI(t,e){const n=X(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function oK(t,e){const n=X(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&nI(n)}function aK(t,e,n){const r=X(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function nI(t){t.q_.forEach(e=>{e.next()})}class rI{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Xl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=Xl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lK{constructor(e,n){this.Y_=e,this.byteLength=n}Z_(){return"metadata"in this.Y_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e){this.serializer=e}hs(e){return di(this.serializer,e)}Ps(e){return e.metadata.exists?CD(this.serializer,e.document,!1):it.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return xt(e)}}class uK{constructor(e,n,r){this.X_=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=uO(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++n;const r=Le.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ta(e){const n=new Map,r=new R1(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.hs(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||_e()).add(s);n.set(o,a)}}return n}async complete(){const e=await FH(this.localStore,new R1(this.serializer),this.documents,this.X_.id),n=this.ta(this.documents);for(const r of this.queries)await $H(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,na:this.collectionGroups,ra:e}}}function uO(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e){this.key=e}}class dO{constructor(e){this.key=e}}class hO{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=_e(),this.mutatedKeys=_e(),this._a=aD(e),this.aa=new Nl(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new P1,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const m=i.get(d),v=Eh(this.query,f)?f:null,b=!!m&&this.mutatedKeys.has(m.key),I=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let _=!1;m&&v?m.data.isEqual(v.data)?b!==I&&(r.track({type:3,doc:v}),_=!0):this.ha(m,v)||(r.track({type:2,doc:v}),_=!0,(l&&this._a(v,l)>0||c&&this._a(v,c)<0)&&(a=!0)):!m&&v?(r.track({type:0,doc:v}),_=!0):m&&!v&&(r.track({type:1,doc:m}),_=!0,(l||c)&&(a=!0)),_&&(v?(o=o.add(v),s=I?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((d,f)=>function(v,b){const I=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z()}};return I(v)-I(b)}(d.type,f.type)||this._a(d.doc,f.doc)),this.Pa(r),i=i!=null&&i;const a=n&&!i?this.Ia():[],l=this.oa.size===0&&this.current&&!i?1:0,c=l!==this.sa;return this.sa=l,o.length!==0||c?{snapshot:new Xl(this.query,e.aa,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new P1,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=_e(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new dO(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new cO(r))}),n}da(e){this.ia=e.ls,this.oa=_e();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Xl.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class cK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class dK{constructor(e){this.key=e,this.Ra=!1}}class hK{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new no(a=>sD(a),yh),this.fa=new Map,this.ga=new Set,this.pa=new Xe(Y.comparator),this.ya=new Map,this.wa=new WT,this.Sa={},this.ba=new Map,this.Da=ya.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function fK(t,e){const n=lI(t);let r,i;const s=n.ma.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=await Yl(n.localStore,Nn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await iI(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&Rg(n.remoteStore,o)}return i}async function iI(t,e,n,r,i){t.va=(f,m,v)=>async function(I,_,y,T){let A=_.view.ca(y);A.Zi&&(A=await om(I.localStore,_.query,!1).then(({documents:O})=>_.view.ca(O,A)));const E=T&&T.targetChanges.get(_.targetId),x=T&&T.targetMismatches.get(_.targetId)!=null,D=_.view.applyChanges(A,I.isPrimaryClient,E,x);return sE(I,_.targetId,D.Ta),D.snapshot}(t,f,m,v);const s=await om(t.localStore,e,!0),o=new hO(e,s.ls),a=o.ca(s.documents),l=Ih.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);sE(t,n,c.Ta);const d=new cK(e,n,o);return t.ma.set(e,d),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),c.snapshot}async function pK(t,e){const n=X(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!yh(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Ql(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Rd(n.remoteStore,r.targetId),Jl(n,r.targetId)}).catch(eo)):(Jl(n,r.targetId),await Ql(n.localStore,r.targetId,!0))}async function mK(t,e,n){const r=uI(t);try{const i=await function(o,a){const l=X(o),c=ut.now(),d=a.reduce((v,b)=>v.add(b.key),_e());let f,m;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let b=jn(),I=_e();return l.ss.getEntries(v,d).next(_=>{b=_,b.forEach((y,T)=>{T.isValidDocument()||(I=I.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,b)).next(_=>{f=_;const y=[];for(const T of a){const A=Wq(T,f.get(T.key).overlayedDocument);A!=null&&y.push(new Hi(T.key,A,QN(A.value.mapValue),at.exists(!0)))}return l.mutationQueue.addMutationBatch(v,c,y,a)}).next(_=>{m=_;const y=_.applyToLocalDocumentSet(f,I);return l.documentOverlayCache.saveOverlays(v,_.batchId,y)})}).then(()=>({batchId:m.batchId,changes:uD(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Sa[o.currentUser.toKey()];c||(c=new Xe(ge)),c=c.insert(a,l),o.Sa[o.currentUser.toKey()]=c}(r,i.batchId,n),await Ki(r,i.changes),await Tu(r.remoteStore)}catch(i){const s=bu(i,"Failed to persist write");n.reject(s)}}async function fO(t,e){const n=X(t);try{const r=await VH(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(se(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?se(o.Ra):i.removedDocuments.size>0&&(se(o.Ra),o.Ra=!1))}),await Ki(n,r,e)}catch(r){await eo(r)}}function C1(t,e,n){const r=X(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=X(o);l.onlineState=a;let c=!1;l.queries.forEach((d,f)=>{for(const m of f.listeners)m.Q_(a)&&(c=!0)}),c&&nI(l)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function gK(t,e,n){const r=X(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new Xe(Y.comparator);o=o.insert(s,it.newNoDocument(s,ae.min()));const a=_e().add(s),l=new Th(ae.min(),new Map,new Xe(ge),o,a);await fO(r,l),r.pa=r.pa.remove(s),r.ya.delete(e),aI(r)}else await Ql(r.localStore,e,!1).then(()=>Jl(r,e,n)).catch(eo)}async function _K(t,e){const n=X(t),r=e.batch.batchId;try{const i=await LH(n.localStore,e);oI(n,r,null),sI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ki(n,i)}catch(i){await eo(i)}}async function vK(t,e,n){const r=X(t);try{const i=await function(o,a){const l=X(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(se(f!==null),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);oI(r,e,n),sI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ki(r,i)}catch(i){await eo(i)}}async function yK(t,e){const n=X(t);ro(n.remoteStore)||j("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(o){const a=X(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(r===-1)return void e.resolve();const i=n.ba.get(r)||[];i.push(e),n.ba.set(r,i)}catch(r){const i=bu(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function sI(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function oI(t,e,n){const r=X(t);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function Jl(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||pO(t,r)})}function pO(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(Rd(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),aI(t))}function sE(t,e,n){for(const r of n)r instanceof cO?(t.wa.addReference(r.key,e),EK(t,r)):r instanceof dO?(j("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||pO(t,r.key)):Z()}function EK(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(j("SyncEngine","New document in limbo: "+n),t.ga.add(r),aI(t))}function aI(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new Y(Le.fromString(e)),r=t.Da.next();t.ya.set(r,new dK(n)),t.pa=t.pa.insert(n,r),Rg(t.remoteStore,new ki(Nn(vu(n.path)),r,"TargetPurposeLimboResolution",$n._e))}}async function Ki(t,e,n){const r=X(t),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,l)=>{o.push(r.va(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const d=KT.Qi(l.targetId,c);s.push(d)}}))}),await Promise.all(o),r.Va.a_(i),await async function(l,c){const d=X(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>R.forEach(c,m=>R.forEach(m.ki,v=>d.persistence.referenceDelegate.addReference(f,m.targetId,v)).next(()=>R.forEach(m.qi,v=>d.persistence.referenceDelegate.removeReference(f,m.targetId,v)))))}catch(f){if(!to(f))throw f;j("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const m=f.targetId;if(!f.fromCache){const v=d.ts.get(m),b=v.snapshotVersion,I=v.withLastLimboFreeSnapshotVersion(b);d.ts=d.ts.insert(m,I)}}}(r.localStore,s))}async function wK(t,e){const n=X(t);if(!n.currentUser.isEqual(e)){j("SyncEngine","User change. New user:",e.toKey());const r=await YD(n.localStore,e);n.currentUser=e,function(s,o){s.ba.forEach(a=>{a.forEach(l=>{l.reject(new $(N.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ki(n,r._s)}}function TK(t,e){const n=X(t),r=n.ya.get(e);if(r&&r.Ra)return _e().add(r.key);{let i=_e();const s=n.fa.get(e);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}async function IK(t,e){const n=X(t),r=await om(n.localStore,e.query,!0),i=e.view.da(r);return n.isPrimaryClient&&sE(n,e.targetId,i.Ta),i}async function bK(t,e){const n=X(t);return ZD(n.localStore,e).then(r=>Ki(n,r))}async function AK(t,e,n,r){const i=X(t),s=await function(a,l){const c=X(a),d=X(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",f=>d.Cn(f,l).next(m=>m?c.localDocuments.getDocuments(f,m):R.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await Tu(i.remoteStore):n==="acknowledged"||n==="rejected"?(oI(i,e,r||null),sI(i,e),function(a,l){X(X(a).mutationQueue).Fn(l)}(i.localStore,e)):Z(),await Ki(i,s)):j("SyncEngine","Cannot apply mutation batch with id: "+e)}async function SK(t,e){const n=X(t);if(lI(n),uI(n),e===!0&&n.Ca!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await k1(n,r.toArray());n.Ca=!0,await iE(n.remoteStore,!0);for(const s of i)Rg(n.remoteStore,s)}else if(e===!1&&n.Ca!==!1){const r=[];let i=Promise.resolve();n.fa.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(Jl(n,o),Ql(n.localStore,o,!0))),Rd(n.remoteStore,o)}),await i,await k1(n,r),function(o){const a=X(o);a.ya.forEach((l,c)=>{Rd(a.remoteStore,c)}),a.wa.Vr(),a.ya=new Map,a.pa=new Xe(Y.comparator)}(n),n.Ca=!1,await iE(n.remoteStore,!1)}}async function k1(t,e,n){const r=X(t),i=[],s=[];for(const o of e){let a;const l=r.fa.get(o);if(l&&l.length!==0){a=await Yl(r.localStore,Nn(l[0]));for(const c of l){const d=r.ma.get(c),f=await IK(r,d);f.snapshot&&s.push(f.snapshot)}}else{const c=await JD(r.localStore,o);a=await Yl(r.localStore,c),await iI(r,mO(c),o,!1,a.resumeToken)}i.push(a)}return r.Va.a_(s),i}function mO(t){return iD(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function PK(t){return function(n){return X(X(n).persistence).Bi()}(X(t).localStore)}async function RK(t,e,n,r){const i=X(t);if(i.Ca)return void j("SyncEngine","Ignoring unexpected query state notification.");const s=i.fa.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await ZD(i.localStore,oD(s[0])),a=Th.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Vt.EMPTY_BYTE_STRING);await Ki(i,o,a);break}case"rejected":await Ql(i.localStore,e,!0),Jl(i,e,r);break;default:Z()}}async function CK(t,e,n){const r=lI(t);if(r.Ca){for(const i of e){if(r.fa.has(i)){j("SyncEngine","Adding an already active target "+i);continue}const s=await JD(r.localStore,i),o=await Yl(r.localStore,s);await iI(r,mO(s),o.targetId,!1,o.resumeToken),Rg(r.remoteStore,o)}for(const i of n)r.fa.has(i)&&await Ql(r.localStore,i,!1).then(()=>{Rd(r.remoteStore,i),Jl(r,i)}).catch(eo)}}function lI(t){const e=X(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=fO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gK.bind(null,e),e.Va.a_=oK.bind(null,e.eventManager),e.Va.Fa=aK.bind(null,e.eventManager),e}function uI(t){const e=X(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_K.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vK.bind(null,e),e}function kK(t,e,n){const r=X(t);(async function(s,o,a){try{const l=await o.getMetadata();if(await function(v,b){const I=X(v),_=xt(b.createTime);return I.persistence.runTransaction("hasNewerBundle","readonly",y=>I.Kr.getBundleMetadata(y,b.id)).then(y=>!!y&&y.createTime.compareTo(_)>=0)}(s.localStore,l))return await o.close(),a._completeWith(function(v){return{taskState:"Success",documentsLoaded:v.totalDocuments,bytesLoaded:v.totalBytes,totalDocuments:v.totalDocuments,totalBytes:v.totalBytes}}(l)),Promise.resolve(new Set);a._updateProgress(uO(l));const c=new uK(l,s.localStore,o.serializer);let d=await o.Ma();for(;d;){const m=await c.ea(d);m&&a._updateProgress(m),d=await o.Ma()}const f=await c.complete();return await Ki(s,f.ra,void 0),await function(v,b){const I=X(v);return I.persistence.runTransaction("Save bundle","readwrite",_=>I.Kr.saveBundleMetadata(_,b))}(s.localStore,l),a._completeWith(f.progress),Promise.resolve(f.na)}catch(l){return Ur("SyncEngine",`Loading bundle failed with ${l}`),a._failWith(l),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class oE{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=bh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return GD(this.persistence,new KD,e.initialUser,this.serializer)}createPersistence(e){return new HD(Pg.jr,this.serializer)}createSharedClientState(e){return new tO}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class gO extends oE{constructor(e,n,r){super(),this.xa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xa.initialize(this,e),await uI(this.xa.syncEngine),await Tu(this.xa.remoteStore),await this.persistence.mi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return GD(this.persistence,new KD,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new vH(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new tq(n,this.persistence);return new eq(e.asyncQueue,r)}createPersistence(e){const n=HT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Fn.withCacheSize(this.cacheSizeBytes):Fn.DEFAULT;return new qT(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,nO(),ap(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new tO}}class xK extends gO{constructor(e,n){super(e,n,!1),this.xa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.xa.syncEngine;this.sharedClientState instanceof vv&&(this.sharedClientState.syncEngine={Ys:AK.bind(null,n),Zs:RK.bind(null,n),Xs:CK.bind(null,n),Bi:PK.bind(null,n),Js:bK.bind(null,n)},await this.sharedClientState.start()),await this.persistence.mi(async r=>{await SK(this.xa.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=nO();if(!vv.D(n))throw new $(N.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=HT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new vv(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class cI{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>C1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=wK.bind(null,this.syncEngine),await iE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new sK}()}createDatastore(e){const n=bh(e.databaseInfo.databaseId),r=function(s){return new zH(s)}(e.databaseInfo);return function(s,o,a,l){return new HH(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new GH(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>C1(this.syncEngine,n,0),function(){return A1.D()?new A1:new UH}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,d){const f=new hK(i,s,o,a,l,c);return d&&(f.Ca=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=X(n);j("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await wu(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):kt("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NK{constructor(e,n){this.Ba=e,this.serializer=n,this.metadata=new Wt,this.buffer=new Uint8Array,this.La=function(){return new TextDecoder("utf-8")}(),this.ka().then(r=>{r&&r.Z_()?this.metadata.resolve(r.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Y_)}`))},r=>this.metadata.reject(r))}close(){return this.Ba.cancel()}async getMetadata(){return this.metadata.promise}async Ma(){return await this.getMetadata(),this.ka()}async ka(){const e=await this.qa();if(e===null)return null;const n=this.La.decode(e),r=Number(n);isNaN(r)&&this.Qa(`length string (${n}) is not valid number`);const i=await this.Ka(r);return new lK(JSON.parse(i),e.length+r)}$a(){return this.buffer.findIndex(e=>e===123)}async qa(){for(;this.$a()<0&&!await this.Ua(););if(this.buffer.length===0)return null;const e=this.$a();e<0&&this.Qa("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Ka(e){for(;this.buffer.length<e;)await this.Ua()&&this.Qa("Reached the end of bundle when more is expected.");const n=this.La.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ua(){const e=await this.Ba.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DK{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new $(N.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(i,s){const o=X(i),a=Sd(o.serializer)+"/documents",l={documents:s.map(m=>Ad(o.serializer,m))},c=await o.Co("BatchGetDocuments",a,l,s.length),d=new Map;c.forEach(m=>{const v=Zq(o.serializer,m);d.set(v.key.toString(),v)});const f=[];return s.forEach(m=>{const v=d.get(m.toString());se(!!v),f.push(v)}),f}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Eu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=Y.fromPath(r);this.mutations.push(new LT(i,this.precondition(i)))}),await async function(r,i){const s=X(r),o=Sd(s.serializer)+"/documents",a={writes:i.map(l=>Pd(s.serializer,l))};await s.wo("Commit",o,a)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Z();n=ae.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new $(N.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ae.min())?at.exists(!1):at.updateTime(n):at.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ae.min()))throw new $(N.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return at.updateTime(n)}return at.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OK{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.Wa=r.maxAttempts,this.zo=new YT(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){this.zo.ko(async()=>{const e=new DK(this.datastore),n=this.za(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.ja(i)}))}).catch(r=>{this.ja(r)})})}za(e){try{const n=this.updateFunction(e);return!_h(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!ED(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LK{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=jt.UNAUTHENTICATED,this.clientId=VN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{j("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(j("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new $(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=bu(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function lp(t,e){t.asyncQueue.verifyOperationInProgress(),j("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await YD(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function aE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await dI(t);j("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>S1(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>S1(e.remoteStore,s)),t._onlineComponents=e}function _O(t){return t.name==="FirebaseError"?t.code===N.FAILED_PRECONDITION||t.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function dI(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){j("FirestoreClient","Using user provided OfflineComponentProvider");try{await lp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!_O(n))throw n;Ur("Error using user provided cache. Falling back to memory cache: "+n),await lp(t,new oE)}}else j("FirestoreClient","Using default OfflineComponentProvider"),await lp(t,new oE);return t._offlineComponents}async function kg(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(j("FirestoreClient","Using user provided OnlineComponentProvider"),await aE(t,t._uninitializedComponentsProvider._online)):(j("FirestoreClient","Using default OnlineComponentProvider"),await aE(t,new cI))),t._onlineComponents}function vO(t){return dI(t).then(e=>e.persistence)}function hI(t){return dI(t).then(e=>e.localStore)}function yO(t){return kg(t).then(e=>e.remoteStore)}function fI(t){return kg(t).then(e=>e.syncEngine)}function VK(t){return kg(t).then(e=>e.datastore)}async function Zl(t){const e=await kg(t),n=e.eventManager;return n.onListen=fK.bind(null,e.syncEngine),n.onUnlisten=pK.bind(null,e.syncEngine),n}function MK(t){return t.asyncQueue.enqueue(async()=>{const e=await vO(t),n=await yO(t);return e.setNetworkEnabled(!0),function(i){const s=X(i);return s.C_.delete(0),Ah(s)}(n)})}function FK(t){return t.asyncQueue.enqueue(async()=>{const e=await vO(t),n=await yO(t);return e.setNetworkEnabled(!1),async function(i){const s=X(i);s.C_.add(0),await wu(s),s.M_.set("Offline")}(n)})}function $K(t,e){const n=new Wt;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await function(c,d){const f=X(c);return f.persistence.runTransaction("read document","readonly",m=>f.localDocuments.getDocument(m,d))}(i,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new $(N.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const l=bu(a,`Failed to get document '${s} from cache`);o.reject(l)}}(await hI(t),e,n)),n.promise}function EO(t,e,n={}){const r=new Wt;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new Cg({next:m=>{o.enqueueAndForget(()=>tI(s,f));const v=m.docs.has(a);!v&&m.fromCache?c.reject(new $(N.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&m.fromCache&&l&&l.source==="server"?c.reject(new $(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new rI(vu(a.path),d,{includeMetadataChanges:!0,J_:!0});return eI(s,f)}(await Zl(t),t.asyncQueue,e,n,r)),r.promise}function UK(t,e){const n=new Wt;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await om(i,s,!0),l=new hO(s,a.ls),c=l.ca(a.documents),d=l.applyChanges(c,!1);o.resolve(d.snapshot)}catch(a){const l=bu(a,`Failed to execute query '${s} against cache`);o.reject(l)}}(await hI(t),e,n)),n.promise}function wO(t,e,n={}){const r=new Wt;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new Cg({next:m=>{o.enqueueAndForget(()=>tI(s,f)),m.fromCache&&l.source==="server"?c.reject(new $(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new rI(a,d,{includeMetadataChanges:!0,J_:!0});return eI(s,f)}(await Zl(t),t.asyncQueue,e,n,r)),r.promise}function jK(t,e){const n=new Cg(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,s){X(i).q_.add(s),s.next()}(await Zl(t),n)),()=>{n.Na(),t.asyncQueue.enqueueAndForget(async()=>function(i,s){X(i).q_.delete(s)}(await Zl(t),n))}}function BK(t,e,n,r){const i=function(o,a){let l;return l=typeof o=="string"?TD().encode(o):o,function(d,f){return new NK(d,f)}(function(d,f){if(d instanceof Uint8Array)return x1(d,f);if(d instanceof ArrayBuffer)return x1(new Uint8Array(d),f);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),a)}(n,bh(e));t.asyncQueue.enqueueAndForget(async()=>{kK(await fI(t),i,r)})}function zK(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const s=X(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Kr.getNamedQuery(o,i))}(await hI(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(t,e,n){if(!n)throw new $(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function IO(t,e,n,r){if(e===!0&&r===!0)throw new $(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function D1(t){if(!Y.isDocumentKey(t))throw new $(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function O1(t){if(Y.isDocumentKey(t))throw new $(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function xg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Z()}function Me(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xg(t);throw new $(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function bO(t,e){if(e<=0)throw new $(N.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new $(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new $(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}IO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new $(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new $(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new $(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new L1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new $(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new $(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new L1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new zW;switch(r.type){case"firstParty":return new KW(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=N1.get(n);r&&(j("ComponentProvider","Removing Datastore"),N1.delete(n),r.terminate())}(this),Promise.resolve()}}function WK(t,e,n,r={}){var i;const s=(t=Me(t,Sh))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ur("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=jt.MOCK_USER;else{a=Jj(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new $(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new jt(c)}t._authCredentials=new WW(new LN(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let On=class AO{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new AO(this.firestore,e,this._query)}},ht=class SO{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ps(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new SO(this.firestore,e,this._key)}},Ps=class PO extends On{constructor(e,n,r){super(e,n,vu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ht(this.firestore,null,new Y(e))}withConverter(e){return new PO(this.firestore,e,this._path)}};function RO(t,e,...n){if(t=de(t),pI("collection","path",e),t instanceof Sh){const r=Le.fromString(e,...n);return O1(r),new Ps(t,null,r)}{if(!(t instanceof ht||t instanceof Ps))throw new $(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return O1(r),new Ps(t.firestore,null,r)}}function qK(t,e){if(t=Me(t,Sh),pI("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new $(N.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new On(t,null,function(r){return new qi(Le.emptyPath(),r)}(e))}function cm(t,e,...n){if(t=de(t),arguments.length===1&&(e=VN.newId()),pI("doc","path",e),t instanceof Sh){const r=Le.fromString(e,...n);return D1(r),new ht(t,null,new Y(r))}{if(!(t instanceof ht||t instanceof Ps))throw new $(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return D1(r),new ht(t.firestore,t instanceof Ps?t.converter:null,new Y(r))}}function CO(t,e){return t=de(t),e=de(e),(t instanceof ht||t instanceof Ps)&&(e instanceof ht||e instanceof Ps)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function kO(t,e){return t=de(t),e=de(e),t instanceof On&&e instanceof On&&t.firestore===e.firestore&&yh(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HK{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new YT(this,"async_queue_retry"),this.iu=()=>{const n=ap();n&&j("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=ap();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=ap();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Wt;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!to(e))throw e;j("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw kt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=ZT.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&Z()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function lE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class KK{constructor(){this._progressObserver={},this._taskCompletionResolver=new Wt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GK=-1;let Tt=class extends Sh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new HK}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||xO(this),this._firestoreClient.terminate()}};function Yt(t){return t._firestoreClient||xO(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function xO(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,d){return new Tq(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,TO(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new LK(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function YK(t,e){DO(t=Me(t,Tt));const n=Yt(t);if(n._uninitializedComponentsProvider)throw new $(N.FAILED_PRECONDITION,"SDK cache is already specified.");Ur("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new cI;return NO(n,i,new gO(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function QK(t){DO(t=Me(t,Tt));const e=Yt(t);if(e._uninitializedComponentsProvider)throw new $(N.FAILED_PRECONDITION,"SDK cache is already specified.");Ur("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new cI;return NO(e,r,new xK(r,n.cacheSizeBytes))}function NO(t,e,n){const r=new Wt;return t.asyncQueue.enqueue(async()=>{try{await lp(t,n),await aE(t,e),r.resolve()}catch(i){const s=i;if(!_O(s))throw s;Ur("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}}).then(()=>r.promise)}function XK(t){if(t._initialized&&!t._terminated)throw new $(N.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Wt;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!Or.D())return Promise.resolve();const i=r+"main";await Or.delete(i)}(HT(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function JK(t){return function(n){const r=new Wt;return n.asyncQueue.enqueueAndForget(async()=>yK(await fI(n),r)),r.promise}(Yt(t=Me(t,Tt)))}function ZK(t){return MK(Yt(t=Me(t,Tt)))}function e7(t){return FK(Yt(t=Me(t,Tt)))}function t7(t,e){const n=Yt(t=Me(t,Tt)),r=new KK;return BK(n,t._databaseId,e,r),r}function n7(t,e){return zK(Yt(t=Me(t,Tt)),e).then(n=>n?new On(t,null,n.query):null)}function DO(t){if(t._initialized||t._terminated)throw new $(N.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gi(Vt.fromBase64String(e))}catch(n){throw new $(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new gi(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zs=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ra=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r7=/^__.*__$/;class i7{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Hi(e,this.data,this.fieldMask,n,this.fieldTransforms):new yu(e,this.data,n,this.fieldTransforms)}}class OO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Hi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function LO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z()}}class Dg{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Dg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return dm(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(LO(this.Iu)&&r7.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class s7{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||bh(e)}pu(e,n,r,i=!1){return new Dg({Iu:e,methodName:n,gu:r,path:ot.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ca(t){const e=t._freezeSettings(),n=bh(t._databaseId);return new s7(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Og(t,e,n,r,i,s={}){const o=t.pu(s.merge||s.mergeFields?2:0,e,n,i);vI("Data must be an object, but it was:",o,r);const a=FO(r,o);let l,c;if(s.merge)l=new Un(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const m=uE(e,f,n);if(!o.contains(m))throw new $(N.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);UO(d,m)||d.push(m)}l=new Un(d),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new i7(new nn(a),l,c)}class Ph extends Ra{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ph}}function VO(t,e,n){return new Dg({Iu:3,gu:e.settings.gu,methodName:t._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class mI extends Ra{_toFieldTransform(e){return new wh(e.path,new Hl)}isEqual(e){return e instanceof mI}}class o7 extends Ra{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=VO(this,e,!0),r=this.yu.map(s=>ka(s,n)),i=new ma(r);return new wh(e.path,i)}isEqual(e){return this===e}}class a7 extends Ra{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=VO(this,e,!0),r=this.yu.map(s=>ka(s,n)),i=new ga(r);return new wh(e.path,i)}isEqual(e){return this===e}}class l7 extends Ra{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){const n=new Kl(e.serializer,fD(e.serializer,this.wu));return new wh(e.path,n)}isEqual(e){return this===e}}function gI(t,e,n,r){const i=t.pu(1,e,n);vI("Data must be an object, but it was:",i,r);const s=[],o=nn.empty();Pa(r,(l,c)=>{const d=yI(e,l,n);c=de(c);const f=i.Ru(d);if(c instanceof Ph)s.push(d);else{const m=ka(c,f);m!=null&&(s.push(d),o.set(d,m))}});const a=new Un(s);return new OO(o,a,i.fieldTransforms)}function _I(t,e,n,r,i,s){const o=t.pu(1,e,n),a=[uE(e,r,n)],l=[i];if(s.length%2!=0)throw new $(N.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(uE(e,s[m])),l.push(s[m+1]);const c=[],d=nn.empty();for(let m=a.length-1;m>=0;--m)if(!UO(c,a[m])){const v=a[m];let b=l[m];b=de(b);const I=o.Ru(v);if(b instanceof Ph)c.push(v);else{const _=ka(b,I);_!=null&&(c.push(v),d.set(v,_))}}const f=new Un(c);return new OO(d,f,o.fieldTransforms)}function MO(t,e,n,r=!1){return ka(n,t.pu(r?4:3,e))}function ka(t,e){if($O(t=de(t)))return vI("Unsupported field value:",e,t),FO(t,e);if(t instanceof Ra)return function(r,i){if(!LO(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=ka(a,i.Vu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=de(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return fD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ut.fromDate(r);return{timestampValue:Gl(i.serializer,s)}}if(r instanceof ut){const s=new ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gl(i.serializer,s)}}if(r instanceof Ng)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof gi)return{bytesValue:AD(i.serializer,r._byteString)};if(r instanceof ht){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:UT(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${xg(r)}`)}(t,e)}function FO(t,e){const n={};return KN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pa(t,(r,i)=>{const s=ka(i,e.Eu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function $O(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ut||t instanceof Ng||t instanceof gi||t instanceof ht||t instanceof Ra)}function vI(t,e,n){if(!$O(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=xg(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function uE(t,e,n){if((e=de(e))instanceof zs)return e._internalPath;if(typeof e=="string")return yI(t,e);throw dm("Field path arguments must be of type string or ",t,!1,void 0,n)}const u7=new RegExp("[~\\*/\\[\\]]");function yI(t,e,n){if(e.search(u7)>=0)throw dm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new zs(...e.split("."))._internalPath}catch{throw dm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function dm(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new $(N.INVALID_ARGUMENT,a+t+l)}function UO(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new c7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Lg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class c7 extends Cd{data(){return super.data()}}function Lg(t,e){return typeof e=="string"?yI(t,e):e instanceof zs?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new $(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class EI{}class Rh extends EI{}function ss(t,e,...n){let r=[];e instanceof EI&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof wI).length,a=s.filter(l=>l instanceof Vg).length;if(o>1||o>0&&a>0)throw new $(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Vg extends Rh{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Vg(e,n,r)}_apply(e){const n=this._parse(e);return zO(e._query,n),new On(e.firestore,e.converter,Qy(e._query,n))}_parse(e){const n=Ca(e.firestore);return function(s,o,a,l,c,d,f){let m;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new $(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){M1(f,d);const v=[];for(const b of f)v.push(V1(l,s,b));m={arrayValue:{values:v}}}else m=V1(l,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||M1(f,d),m=MO(a,o,f,d==="in"||d==="not-in");return xe.create(c,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function d7(t,e,n){const r=e,i=Lg("where",t);return Vg._create(i,r,n)}class wI extends EI{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new wI(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:$e.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)zO(o,l),o=Qy(o,l)}(e._query,n),new On(e.firestore,e.converter,Qy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class TI extends Rh{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new TI(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new $(N.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new $(N.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bd(s,o)}(e._query,this._field,this._direction);return new On(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new qi(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function h7(t,e="asc"){const n=e,r=Lg("orderBy",t);return TI._create(r,n)}class Mg extends Rh{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Mg(e,n,r)}_apply(e){return new On(e.firestore,e.converter,nm(e._query,this._limit,this._limitType))}}function f7(t){return bO("limit",t),Mg._create("limit",t,"F")}function p7(t){return bO("limitToLast",t),Mg._create("limitToLast",t,"L")}class Fg extends Rh{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Fg(e,n,r)}_apply(e){const n=BO(e,this.type,this._docOrFields,this._inclusive);return new On(e.firestore,e.converter,function(i,s){return new qi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function m7(...t){return Fg._create("startAt",t,!0)}function g7(...t){return Fg._create("startAfter",t,!1)}class $g extends Rh{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new $g(e,n,r)}_apply(e){const n=BO(e,this.type,this._docOrFields,this._inclusive);return new On(e.firestore,e.converter,function(i,s){return new qi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,n))}}function _7(...t){return $g._create("endBefore",t,!1)}function v7(...t){return $g._create("endAt",t,!0)}function BO(t,e,n,r){if(n[0]=de(n[0]),n[0]instanceof Cd)return function(s,o,a,l,c){if(!l)throw new $(N.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const d=[];for(const f of xl(s))if(f.field.isKeyField())d.push(fa(o,l.key));else{const m=l.data.field(f.field);if(Tg(m))throw new $(N.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(m===null){const v=f.field.canonicalString();throw new $(N.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${v}' (used as the orderBy) does not exist.`)}d.push(m)}return new js(d,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Ca(t.firestore);return function(o,a,l,c,d,f){const m=o.explicitOrderBy;if(d.length>m.length)throw new $(N.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const v=[];for(let b=0;b<d.length;b++){const I=d[b];if(m[b].field.isKeyField()){if(typeof I!="string")throw new $(N.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof I}`);if(!DT(o)&&I.indexOf("/")!==-1)throw new $(N.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${I}' contains a slash.`);const _=o.path.child(Le.fromString(I));if(!Y.isDocumentKey(_))throw new $(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${_}' is not because it contains an odd number of segments.`);const y=new Y(_);v.push(fa(a,y))}else{const _=MO(l,c,I);v.push(_)}}return new js(v,f)}(t._query,t.firestore._databaseId,i,e,n,r)}}function V1(t,e,n){if(typeof(n=de(n))=="string"){if(n==="")throw new $(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!DT(e)&&n.indexOf("/")!==-1)throw new $(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Le.fromString(n));if(!Y.isDocumentKey(r))throw new $(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return fa(t,new Y(r))}if(n instanceof ht)return fa(t,n._key);throw new $(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xg(n)}.`)}function M1(t,e){if(!Array.isArray(t)||t.length===0)throw new $(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zO(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new $(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class II{convertValue(e,n="none"){switch(ha(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Z()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Pa(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Ng(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=xT(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(wd(e));default:return null}}convertTimestamp(e){const n=Ms(e);return new ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Le.fromString(e);se(LD(r));const i=new $s(r.get(1),r.get(3)),s=new Y(r.popFirst(5));return i.isEqual(n)||kt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class y7 extends II{constructor(e){super(),this.firestore=e}convertBytes(e){return new gi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ht(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Mi=class extends Cd{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Lg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Uc=class extends Mi{data(e={}){return super.data(e)}},Ws=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Bo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Uc(this._firestore,this._userDataWriter,r.key,r,new Bo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Uc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Bo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Uc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Bo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:E7(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function E7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z()}}function WO(t,e){return t instanceof Mi&&e instanceof Mi?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Ws&&e instanceof Ws&&t._firestore===e._firestore&&kO(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w7(t){t=Me(t,ht);const e=Me(t.firestore,Tt);return EO(Yt(e),t._key).then(n=>bI(e,t,n))}class xa extends II{constructor(e){super(),this.firestore=e}convertBytes(e){return new gi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ht(this.firestore,null,n)}}function T7(t){t=Me(t,ht);const e=Me(t.firestore,Tt),n=Yt(e),r=new xa(e);return $K(n,t._key).then(i=>new Mi(e,r,t._key,i,new Bo(i!==null&&i.hasLocalMutations,!0),t.converter))}function I7(t){t=Me(t,ht);const e=Me(t.firestore,Tt);return EO(Yt(e),t._key,{source:"server"}).then(n=>bI(e,t,n))}function b7(t){t=Me(t,On);const e=Me(t.firestore,Tt),n=Yt(e),r=new xa(e);return jO(t._query),wO(n,t._query).then(i=>new Ws(e,r,t,i))}function A7(t){t=Me(t,On);const e=Me(t.firestore,Tt),n=Yt(e),r=new xa(e);return UK(n,t._query).then(i=>new Ws(e,r,t,i))}function S7(t){t=Me(t,On);const e=Me(t.firestore,Tt),n=Yt(e),r=new xa(e);return wO(n,t._query,{source:"server"}).then(i=>new Ws(e,r,t,i))}function F1(t,e,n){t=Me(t,ht);const r=Me(t.firestore,Tt),i=Ug(t.converter,e,n);return Ch(r,[Og(Ca(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,at.none())])}function $1(t,e,n,...r){t=Me(t,ht);const i=Me(t.firestore,Tt),s=Ca(i);let o;return o=typeof(e=de(e))=="string"||e instanceof zs?_I(s,"updateDoc",t._key,e,n,r):gI(s,"updateDoc",t._key,e),Ch(i,[o.toMutation(t._key,at.exists(!0))])}function P7(t){return Ch(Me(t.firestore,Tt),[new Eu(t._key,at.none())])}function R7(t,e){const n=Me(t.firestore,Tt),r=cm(t),i=Ug(t.converter,e);return Ch(n,[Og(Ca(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,at.exists(!1))]).then(()=>r)}function qO(t,...e){var n,r,i;t=de(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||lE(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(lE(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,c,d;if(t instanceof ht)c=Me(t.firestore,Tt),d=vu(t._key.path),l={next:f=>{e[o]&&e[o](bI(c,t,f))},error:e[o+1],complete:e[o+2]};else{const f=Me(t,On);c=Me(f.firestore,Tt),d=f._query;const m=new xa(c);l={next:v=>{e[o]&&e[o](new Ws(c,m,f,v))},error:e[o+1],complete:e[o+2]},jO(t._query)}return function(m,v,b,I){const _=new Cg(I),y=new rI(v,_,b);return m.asyncQueue.enqueueAndForget(async()=>eI(await Zl(m),y)),()=>{_.Na(),m.asyncQueue.enqueueAndForget(async()=>tI(await Zl(m),y))}}(Yt(c),d,a,l)}function C7(t,e){return jK(Yt(t=Me(t,Tt)),lE(e)?e:{next:e})}function Ch(t,e){return function(r,i){const s=new Wt;return r.asyncQueue.enqueueAndForget(async()=>mK(await fI(r),i,s)),s.promise}(Yt(t),e)}function bI(t,e,n){const r=n.docs.get(e._key),i=new xa(t);return new Mi(t,i,e._key,r,new Bo(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k7={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let x7=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ca(e)}set(e,n,r){this._verifyNotCommitted();const i=cs(e,this._firestore),s=Ug(i.converter,n,r),o=Og(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,at.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=cs(e,this._firestore);let o;return o=typeof(n=de(n))=="string"||n instanceof zs?_I(this._dataReader,"WriteBatch.update",s._key,n,r,i):gI(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,at.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=cs(e,this._firestore);return this._mutations=this._mutations.concat(new Eu(n._key,at.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new $(N.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function cs(t,e){if((t=de(t)).firestore!==e)throw new $(N.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let N7=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Ca(n)}get(n){const r=cs(n,this._firestore),i=new y7(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return Z();const o=s[0];if(o.isFoundDocument())return new Cd(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new Cd(this._firestore,i,r._key,null,r.converter);throw Z()})}set(n,r,i){const s=cs(n,this._firestore),o=Ug(s.converter,r,i),a=Og(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){const o=cs(n,this._firestore);let a;return a=typeof(r=de(r))=="string"||r instanceof zs?_I(this._dataReader,"Transaction.update",o._key,r,i,s):gI(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=cs(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=cs(e,this._firestore),r=new xa(this._firestore);return super.get(e).then(i=>new Mi(this._firestore,r,n._key,i._document,new Bo(!1,!1),n.converter))}};function D7(t,e,n){t=Me(t,Tt);const r=Object.assign(Object.assign({},k7),n);return function(s){if(s.maxAttempts<1)throw new $(N.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new Wt;return s.asyncQueue.enqueueAndForget(async()=>{const c=await VK(s);new OK(s.asyncQueue,c,a,o,l).run()}),l.promise}(Yt(t),i=>e(new N7(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O7(){return new Ph("deleteField")}function L7(){return new mI("serverTimestamp")}function V7(...t){return new o7("arrayUnion",t)}function M7(...t){return new a7("arrayRemove",t)}function F7(t){return new l7("increment",t)}(function(e,n=!0){(function(i){_u=i})(Qs),Ls(new fi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Tt(new qW(r.getProvider("auth-internal")),new YW(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new $(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $s(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ci(DS,"4.4.0",e),ci(DS,"4.4.0","esm2017")})();const $7="@firebase/firestore-compat",U7="0.3.23";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new $("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(){if(typeof Uint8Array>"u")throw new $("unimplemented","Uint8Arrays are not available in this environment.")}function j1(){if(!Eq())throw new $("unimplemented","Blobs are unavailable in Firestore in this environment.")}class kd{constructor(e){this._delegate=e}static fromBase64String(e){return j1(),new kd(gi.fromBase64String(e))}static fromUint8Array(e){return U1(),new kd(gi.fromUint8Array(e))}toBase64(){return j1(),this._delegate.toBase64()}toUint8Array(){return U1(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(t){return j7(t,["next","error","complete"])}function j7(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B7{enableIndexedDbPersistence(e,n){return YK(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return QK(e._delegate)}clearIndexedDbPersistence(e){return XK(e._delegate)}}class HO{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof $s||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Ur("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){WK(this._delegate,e,n,r)}enableNetwork(){return ZK(this._delegate)}disableNetwork(){return e7(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,IO("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return JK(this._delegate)}onSnapshotsInSync(e){return C7(this._delegate,e)}get app(){if(!this._appCompat)throw new $("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new eu(this,RO(this._delegate,e))}catch(n){throw Rn(n,"collection()","Firestore.collection()")}}doc(e){try{return new wr(this,cm(this._delegate,e))}catch(n){throw Rn(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Pn(this,qK(this._delegate,e))}catch(n){throw Rn(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return D7(this._delegate,n=>e(new KO(this,n)))}batch(){return Yt(this._delegate),new GO(new x7(this._delegate,e=>Ch(this._delegate,e)))}loadBundle(e){return t7(this._delegate,e)}namedQuery(e){return n7(this._delegate,e).then(n=>n?new Pn(this,n):null)}}class jg extends II{constructor(e){super(),this.firestore=e}convertBytes(e){return new kd(new gi(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return wr.forKey(n,this.firestore,null)}}function z7(t){jW(t)}class KO{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new jg(e)}get(e){const n=zo(e);return this._delegate.get(n).then(r=>new xd(this._firestore,new Mi(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=zo(e);return r?(AI("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=zo(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=zo(e);return this._delegate.delete(n),this}}class GO{constructor(e){this._delegate=e}set(e,n,r){const i=zo(e);return r?(AI("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=zo(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=zo(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Ea{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new Uc(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Nd(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Ea.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new Ea(e,new jg(e),n),i.set(n,s)),s}}Ea.INSTANCES=new WeakMap;class wr{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new jg(e)}static forPath(e,n,r){if(e.length%2!==0)throw new $("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new wr(n,new ht(n._delegate,r,new Y(e)))}static forKey(e,n,r){return new wr(n,new ht(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new eu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new eu(this.firestore,RO(this._delegate,e))}catch(n){throw Rn(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=de(e),e instanceof ht?CO(this._delegate,e):!1}set(e,n){n=AI("DocumentReference.set",n);try{return n?F1(this._delegate,e,n):F1(this._delegate,e)}catch(r){throw Rn(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?$1(this._delegate,e):$1(this._delegate,e,n,...r)}catch(i){throw Rn(i,"updateDoc()","DocumentReference.update()")}}delete(){return P7(this._delegate)}onSnapshot(...e){const n=YO(e),r=QO(e,i=>new xd(this.firestore,new Mi(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return qO(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=T7(this._delegate):(e==null?void 0:e.source)==="server"?n=I7(this._delegate):n=w7(this._delegate),n.then(r=>new xd(this.firestore,new Mi(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new wr(this.firestore,e?this._delegate.withConverter(Ea.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Rn(t,e,n){return t.message=t.message.replace(e,n),t}function YO(t){for(const e of t)if(typeof e=="object"&&!cE(e))return e;return{}}function QO(t,e){var n,r;let i;return cE(t[0])?i=t[0]:cE(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class xd{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new wr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return WO(this._delegate,e._delegate)}}class Nd extends xd{data(e){const n=this._delegate.data(e);return this._delegate._converter||BW(n!==void 0),n}}class Pn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new jg(e)}where(e,n,r){try{return new Pn(this.firestore,ss(this._delegate,d7(e,n,r)))}catch(i){throw Rn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Pn(this.firestore,ss(this._delegate,h7(e,n)))}catch(r){throw Rn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Pn(this.firestore,ss(this._delegate,f7(e)))}catch(n){throw Rn(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Pn(this.firestore,ss(this._delegate,p7(e)))}catch(n){throw Rn(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Pn(this.firestore,ss(this._delegate,m7(...e)))}catch(n){throw Rn(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Pn(this.firestore,ss(this._delegate,g7(...e)))}catch(n){throw Rn(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Pn(this.firestore,ss(this._delegate,_7(...e)))}catch(n){throw Rn(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Pn(this.firestore,ss(this._delegate,v7(...e)))}catch(n){throw Rn(n,"endAt()","Query.endAt()")}}isEqual(e){return kO(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=A7(this._delegate):(e==null?void 0:e.source)==="server"?n=S7(this._delegate):n=b7(this._delegate),n.then(r=>new dE(this.firestore,new Ws(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=YO(e),r=QO(e,i=>new dE(this.firestore,new Ws(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return qO(this._delegate,n,r)}withConverter(e){return new Pn(this.firestore,e?this._delegate.withConverter(Ea.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class W7{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Nd(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class dE{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Pn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Nd(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new W7(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new Nd(this._firestore,r))})}isEqual(e){return WO(this._delegate,e._delegate)}}class eu extends Pn{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new wr(this.firestore,e):null}doc(e){try{return e===void 0?new wr(this.firestore,cm(this._delegate)):new wr(this.firestore,cm(this._delegate,e))}catch(n){throw Rn(n,"doc()","CollectionReference.doc()")}}add(e){return R7(this._delegate,e).then(n=>new wr(this.firestore,n))}isEqual(e){return CO(this._delegate,e._delegate)}withConverter(e){return new eu(this.firestore,e?this._delegate.withConverter(Ea.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function zo(t){return Me(t,ht)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(...e){this._delegate=new zs(...e)}static documentId(){return new SI(ot.keyField().canonicalString())}isEqual(e){return e=de(e),e instanceof zs?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this._delegate=e}static serverTimestamp(){const e=L7();return e._methodName="FieldValue.serverTimestamp",new No(e)}static delete(){const e=O7();return e._methodName="FieldValue.delete",new No(e)}static arrayUnion(...e){const n=V7(...e);return n._methodName="FieldValue.arrayUnion",new No(n)}static arrayRemove(...e){const n=M7(...e);return n._methodName="FieldValue.arrayRemove",new No(n)}static increment(e){const n=F7(e);return n._methodName="FieldValue.increment",new No(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q7={Firestore:HO,GeoPoint:Ng,Timestamp:ut,Blob:kd,Transaction:KO,WriteBatch:GO,DocumentReference:wr,DocumentSnapshot:xd,Query:Pn,QueryDocumentSnapshot:Nd,QuerySnapshot:dE,CollectionReference:eu,FieldPath:SI,FieldValue:No,setLogLevel:z7,CACHE_SIZE_UNLIMITED:GK};function H7(t,e){t.INTERNAL.registerComponent(new fi("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},q7)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K7(t){H7(t,(e,n)=>new HO(e,n,new B7)),t.registerVersion($7,U7)}K7(cu);const G7={apiKey:"AIzaSyCQqJfYsRbOpMIP0x-kv0lHrZD9S5gyKXM",authDomain:"react-firebase-file-mana-c59fe.firebaseapp.com",projectId:"react-firebase-file-mana-c59fe",storageBucket:"react-firebase-file-mana-c59fe.appspot.com",messagingSenderId:"749990304719",appId:"1:749990304719:web:12d946cd4007176b5f90ba"},ta=cu.initializeApp(G7),PI=t=>({type:gk,payload:t}),B1=t=>({type:_k}),Y7=(t,e,n)=>r=>{ta.auth().signInWithEmailAndPassword(t,e).then(i=>{r(PI({uid:i.user.uid,displayName:i.user.displayName,email:i.user.email})),n(!0)}).catch(i=>{alert("Invalid email or password!")})},Q7=(t,e,n,r)=>i=>{ta.auth().createUserWithEmailAndPassword(e,n).then(s=>{ta.auth().currentUser.updateProfile({displayName:t}).then(async()=>{const o=await ta.auth().currentUser;i(PI({uid:o.uid,name:o.displayName,email:o.email})),r(!0)}).catch(o=>{console.log(o)})}).catch(s=>{s.code==="auth/email-already-in-use"&&alert("This accont alredy registered!"),s.code==="auth/invalid-email"&&alert("Invalid email!"),s.code==="auth/weak-password"&&alert("Weak password!")})},XO=()=>t=>{ta.auth().signOut().then(()=>{t(B1())}),t(B1())},X7=()=>t=>{ta.auth().onAuthStateChanged(e=>{e&&t(PI({uid:e.uid,displayName:e.displayName,email:e.email}))})},J7=()=>{const t=lu();return U.useEffect(()=>{t(X7())},[]),M.jsx(M.Fragment,{children:M.jsx(j4,{})})};var Z7={exports:{}};/*!
  * Bootstrap v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(t,e){(function(n,r){t.exports=r()})(C2,function(){const n=new Map,r={set(p,u,h){n.has(p)||n.set(p,new Map);const g=n.get(p);if(!g.has(u)&&g.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(g.keys())[0]}.`);return}g.set(u,h)},get(p,u){return n.has(p)&&n.get(p).get(u)||null},remove(p,u){if(!n.has(p))return;const h=n.get(p);h.delete(u),h.size===0&&n.delete(p)}},i=1e6,s=1e3,o="transitionend",a=p=>(p&&window.CSS&&window.CSS.escape&&(p=p.replace(/#([^\s"#']+)/g,(u,h)=>`#${CSS.escape(h)}`)),p),l=p=>p==null?`${p}`:Object.prototype.toString.call(p).match(/\s([a-z]+)/i)[1].toLowerCase(),c=p=>{do p+=Math.floor(Math.random()*i);while(document.getElementById(p));return p},d=p=>{if(!p)return 0;let{transitionDuration:u,transitionDelay:h}=window.getComputedStyle(p);const g=Number.parseFloat(u),w=Number.parseFloat(h);return!g&&!w?0:(u=u.split(",")[0],h=h.split(",")[0],(Number.parseFloat(u)+Number.parseFloat(h))*s)},f=p=>{p.dispatchEvent(new Event(o))},m=p=>!p||typeof p!="object"?!1:(typeof p.jquery<"u"&&(p=p[0]),typeof p.nodeType<"u"),v=p=>m(p)?p.jquery?p[0]:p:typeof p=="string"&&p.length>0?document.querySelector(a(p)):null,b=p=>{if(!m(p)||p.getClientRects().length===0)return!1;const u=getComputedStyle(p).getPropertyValue("visibility")==="visible",h=p.closest("details:not([open])");if(!h)return u;if(h!==p){const g=p.closest("summary");if(g&&g.parentNode!==h||g===null)return!1}return u},I=p=>!p||p.nodeType!==Node.ELEMENT_NODE||p.classList.contains("disabled")?!0:typeof p.disabled<"u"?p.disabled:p.hasAttribute("disabled")&&p.getAttribute("disabled")!=="false",_=p=>{if(!document.documentElement.attachShadow)return null;if(typeof p.getRootNode=="function"){const u=p.getRootNode();return u instanceof ShadowRoot?u:null}return p instanceof ShadowRoot?p:p.parentNode?_(p.parentNode):null},y=()=>{},T=p=>{p.offsetHeight},A=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,E=[],x=p=>{document.readyState==="loading"?(E.length||document.addEventListener("DOMContentLoaded",()=>{for(const u of E)u()}),E.push(p)):p()},D=()=>document.documentElement.dir==="rtl",O=p=>{x(()=>{const u=A();if(u){const h=p.NAME,g=u.fn[h];u.fn[h]=p.jQueryInterface,u.fn[h].Constructor=p,u.fn[h].noConflict=()=>(u.fn[h]=g,p.jQueryInterface)}})},G=(p,u=[],h=p)=>typeof p=="function"?p(...u):h,H=(p,u,h=!0)=>{if(!h){G(p);return}const g=5,w=d(u)+g;let P=!1;const C=({target:V})=>{V===u&&(P=!0,u.removeEventListener(o,C),G(p))};u.addEventListener(o,C),setTimeout(()=>{P||f(u)},w)},Ce=(p,u,h,g)=>{const w=p.length;let P=p.indexOf(u);return P===-1?!h&&g?p[w-1]:p[0]:(P+=h?1:-1,g&&(P=(P+w)%w),p[Math.max(0,Math.min(P,w-1))])},De=/[^.]*(?=\..*)\.|.*/,pt=/\..*/,un=/::\d+$/,Ke={};let ye=1;const cr={mouseenter:"mouseover",mouseleave:"mouseout"},wn=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Tn(p,u){return u&&`${u}::${ye++}`||p.uidEvent||ye++}function Qt(p){const u=Tn(p);return p.uidEvent=u,Ke[u]=Ke[u]||{},Ke[u]}function dr(p,u){return function h(g){return Ze(g,{delegateTarget:p}),h.oneOff&&L.off(p,g.type,u),u.apply(p,[g])}}function Sr(p,u,h){return function g(w){const P=p.querySelectorAll(u);for(let{target:C}=w;C&&C!==this;C=C.parentNode)for(const V of P)if(V===C)return Ze(w,{delegateTarget:C}),g.oneOff&&L.off(p,w.type,u,h),h.apply(C,[w])}}function In(p,u,h=null){return Object.values(p).find(g=>g.callable===u&&g.delegationSelector===h)}function hr(p,u,h){const g=typeof u=="string",w=g?h:u||h;let P=Ge(p);return wn.has(P)||(P=p),[g,w,P]}function q(p,u,h,g,w){if(typeof u!="string"||!p)return;let[P,C,V]=hr(u,h,g);u in cr&&(C=(Qe=>function(Ae){if(!Ae.relatedTarget||Ae.relatedTarget!==Ae.delegateTarget&&!Ae.delegateTarget.contains(Ae.relatedTarget))return Qe.call(this,Ae)})(C));const B=Qt(p),te=B[V]||(B[V]={}),K=In(te,C,P?h:null);if(K){K.oneOff=K.oneOff&&w;return}const Te=Tn(C,u.replace(De,"")),be=P?Sr(p,h,C):dr(p,C);be.delegationSelector=P?h:null,be.callable=C,be.oneOff=w,be.uidEvent=Te,te[Te]=be,p.addEventListener(V,be,P)}function ie(p,u,h,g,w){const P=In(u[h],g,w);P&&(p.removeEventListener(h,P,!!w),delete u[h][P.uidEvent])}function Ie(p,u,h,g){const w=u[h]||{};for(const[P,C]of Object.entries(w))P.includes(g)&&ie(p,u,h,C.callable,C.delegationSelector)}function Ge(p){return p=p.replace(pt,""),cr[p]||p}const L={on(p,u,h,g){q(p,u,h,g,!1)},one(p,u,h,g){q(p,u,h,g,!0)},off(p,u,h,g){if(typeof u!="string"||!p)return;const[w,P,C]=hr(u,h,g),V=C!==u,B=Qt(p),te=B[C]||{},K=u.startsWith(".");if(typeof P<"u"){if(!Object.keys(te).length)return;ie(p,B,C,P,w?h:null);return}if(K)for(const Te of Object.keys(B))Ie(p,B,Te,u.slice(1));for(const[Te,be]of Object.entries(te)){const me=Te.replace(un,"");(!V||u.includes(me))&&ie(p,B,C,be.callable,be.delegationSelector)}},trigger(p,u,h){if(typeof u!="string"||!p)return null;const g=A(),w=Ge(u),P=u!==w;let C=null,V=!0,B=!0,te=!1;P&&g&&(C=g.Event(u,h),g(p).trigger(C),V=!C.isPropagationStopped(),B=!C.isImmediatePropagationStopped(),te=C.isDefaultPrevented());const K=Ze(new Event(u,{bubbles:V,cancelable:!0}),h);return te&&K.preventDefault(),B&&p.dispatchEvent(K),K.defaultPrevented&&C&&C.preventDefault(),K}};function Ze(p,u={}){for(const[h,g]of Object.entries(u))try{p[h]=g}catch{Object.defineProperty(p,h,{configurable:!0,get(){return g}})}return p}function cn(p){if(p==="true")return!0;if(p==="false")return!1;if(p===Number(p).toString())return Number(p);if(p===""||p==="null")return null;if(typeof p!="string")return p;try{return JSON.parse(decodeURIComponent(p))}catch{return p}}function fr(p){return p.replace(/[A-Z]/g,u=>`-${u.toLowerCase()}`)}const Ft={setDataAttribute(p,u,h){p.setAttribute(`data-bs-${fr(u)}`,h)},removeDataAttribute(p,u){p.removeAttribute(`data-bs-${fr(u)}`)},getDataAttributes(p){if(!p)return{};const u={},h=Object.keys(p.dataset).filter(g=>g.startsWith("bs")&&!g.startsWith("bsConfig"));for(const g of h){let w=g.replace(/^bs/,"");w=w.charAt(0).toLowerCase()+w.slice(1,w.length),u[w]=cn(p.dataset[g])}return u},getDataAttribute(p,u){return cn(p.getAttribute(`data-bs-${fr(u)}`))}};class Hn{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(u){return u=this._mergeConfigObj(u),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}_configAfterMerge(u){return u}_mergeConfigObj(u,h){const g=m(h)?Ft.getDataAttribute(h,"config"):{};return{...this.constructor.Default,...typeof g=="object"?g:{},...m(h)?Ft.getDataAttributes(h):{},...typeof u=="object"?u:{}}}_typeCheckConfig(u,h=this.constructor.DefaultType){for(const[g,w]of Object.entries(h)){const P=u[g],C=m(P)?"element":l(P);if(!new RegExp(w).test(C))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${g}" provided type "${C}" but expected type "${w}".`)}}}const Hg="5.3.2";class Kn extends Hn{constructor(u,h){super(),u=v(u),u&&(this._element=u,this._config=this._getConfig(h),r.set(this._element,this.constructor.DATA_KEY,this))}dispose(){r.remove(this._element,this.constructor.DATA_KEY),L.off(this._element,this.constructor.EVENT_KEY);for(const u of Object.getOwnPropertyNames(this))this[u]=null}_queueCallback(u,h,g=!0){H(u,h,g)}_getConfig(u){return u=this._mergeConfigObj(u,this._element),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}static getInstance(u){return r.get(v(u),this.DATA_KEY)}static getOrCreateInstance(u,h={}){return this.getInstance(u)||new this(u,typeof h=="object"?h:null)}static get VERSION(){return Hg}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(u){return`${u}${this.EVENT_KEY}`}}const Su=p=>{let u=p.getAttribute("data-bs-target");if(!u||u==="#"){let h=p.getAttribute("href");if(!h||!h.includes("#")&&!h.startsWith("."))return null;h.includes("#")&&!h.startsWith("#")&&(h=`#${h.split("#")[1]}`),u=h&&h!=="#"?a(h.trim()):null}return u},ue={find(p,u=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(u,p))},findOne(p,u=document.documentElement){return Element.prototype.querySelector.call(u,p)},children(p,u){return[].concat(...p.children).filter(h=>h.matches(u))},parents(p,u){const h=[];let g=p.parentNode.closest(u);for(;g;)h.push(g),g=g.parentNode.closest(u);return h},prev(p,u){let h=p.previousElementSibling;for(;h;){if(h.matches(u))return[h];h=h.previousElementSibling}return[]},next(p,u){let h=p.nextElementSibling;for(;h;){if(h.matches(u))return[h];h=h.nextElementSibling}return[]},focusableChildren(p){const u=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(h=>`${h}:not([tabindex^="-"])`).join(",");return this.find(u,p).filter(h=>!I(h)&&b(h))},getSelectorFromElement(p){const u=Su(p);return u&&ue.findOne(u)?u:null},getElementFromSelector(p){const u=Su(p);return u?ue.findOne(u):null},getMultipleElementsFromSelector(p){const u=Su(p);return u?ue.find(u):[]}},Na=(p,u="hide")=>{const h=`click.dismiss${p.EVENT_KEY}`,g=p.NAME;L.on(document,h,`[data-bs-dismiss="${g}"]`,function(w){if(["A","AREA"].includes(this.tagName)&&w.preventDefault(),I(this))return;const P=ue.getElementFromSelector(this)||this.closest(`.${g}`);p.getOrCreateInstance(P)[u]()})},io="alert",Da=".bs.alert",Br=`close${Da}`,so=`closed${Da}`,Dh="fade",Oa="show";class oo extends Kn{static get NAME(){return io}close(){if(L.trigger(this._element,Br).defaultPrevented)return;this._element.classList.remove(Oa);const h=this._element.classList.contains(Dh);this._queueCallback(()=>this._destroyElement(),this._element,h)}_destroyElement(){this._element.remove(),L.trigger(this._element,so),this.dispose()}static jQueryInterface(u){return this.each(function(){const h=oo.getOrCreateInstance(this);if(typeof u=="string"){if(h[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);h[u](this)}})}}Na(oo,"close"),O(oo);const zr="button",Oh=".bs.button",Lh=".data-api",Yg="active",Pu='[data-bs-toggle="button"]',La=`click${Oh}${Lh}`;class Yi extends Kn{static get NAME(){return zr}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Yg))}static jQueryInterface(u){return this.each(function(){const h=Yi.getOrCreateInstance(this);u==="toggle"&&h[u]()})}}L.on(document,La,Pu,p=>{p.preventDefault();const u=p.target.closest(Pu);Yi.getOrCreateInstance(u).toggle()}),O(Yi);const Ru="swipe",Qi=".bs.swipe",Vh=`touchstart${Qi}`,Qg=`touchmove${Qi}`,Mh=`touchend${Qi}`,Xg=`pointerdown${Qi}`,S=`pointerup${Qi}`,k="touch",F="pen",Q="pointer-event",ne=40,Ee={endCallback:null,leftCallback:null,rightCallback:null},he={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class ce extends Hn{constructor(u,h){super(),this._element=u,!(!u||!ce.isSupported())&&(this._config=this._getConfig(h),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Ee}static get DefaultType(){return he}static get NAME(){return Ru}dispose(){L.off(this._element,Qi)}_start(u){if(!this._supportPointerEvents){this._deltaX=u.touches[0].clientX;return}this._eventIsPointerPenTouch(u)&&(this._deltaX=u.clientX)}_end(u){this._eventIsPointerPenTouch(u)&&(this._deltaX=u.clientX-this._deltaX),this._handleSwipe(),G(this._config.endCallback)}_move(u){this._deltaX=u.touches&&u.touches.length>1?0:u.touches[0].clientX-this._deltaX}_handleSwipe(){const u=Math.abs(this._deltaX);if(u<=ne)return;const h=u/this._deltaX;this._deltaX=0,h&&G(h>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(L.on(this._element,Xg,u=>this._start(u)),L.on(this._element,S,u=>this._end(u)),this._element.classList.add(Q)):(L.on(this._element,Vh,u=>this._start(u)),L.on(this._element,Qg,u=>this._move(u)),L.on(this._element,Mh,u=>this._end(u)))}_eventIsPointerPenTouch(u){return this._supportPointerEvents&&(u.pointerType===F||u.pointerType===k)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const le="carousel",Ye=".bs.carousel",we=".data-api",Be="ArrowLeft",et="ArrowRight",Xt=500,dn="next",pr="prev",Wr="left",Pr="right",Gn=`slide${Ye}`,Xi=`slid${Ye}`,Cu=`keydown${Ye}`,ku=`mouseenter${Ye}`,xu=`mouseleave${Ye}`,Ji=`dragstart${Ye}`,ze=`load${Ye}${we}`,Vn=`click${Ye}${we}`,ct="carousel",mr="active",Fh="slide",Jg="carousel-item-end",NL="carousel-item-start",DL="carousel-item-next",OL="carousel-item-prev",jI=".active",BI=".carousel-item",LL=jI+BI,VL=".carousel-item img",ML=".carousel-indicators",FL="[data-bs-slide], [data-bs-slide-to]",$L='[data-bs-ride="carousel"]',UL={[Be]:Pr,[et]:Wr},jL={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},BL={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Va extends Kn{constructor(u,h){super(u,h),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ue.findOne(ML,this._element),this._addEventListeners(),this._config.ride===ct&&this.cycle()}static get Default(){return jL}static get DefaultType(){return BL}static get NAME(){return le}next(){this._slide(dn)}nextWhenVisible(){!document.hidden&&b(this._element)&&this.next()}prev(){this._slide(pr)}pause(){this._isSliding&&f(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){L.one(this._element,Xi,()=>this.cycle());return}this.cycle()}}to(u){const h=this._getItems();if(u>h.length-1||u<0)return;if(this._isSliding){L.one(this._element,Xi,()=>this.to(u));return}const g=this._getItemIndex(this._getActive());if(g===u)return;const w=u>g?dn:pr;this._slide(w,h[u])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(u){return u.defaultInterval=u.interval,u}_addEventListeners(){this._config.keyboard&&L.on(this._element,Cu,u=>this._keydown(u)),this._config.pause==="hover"&&(L.on(this._element,ku,()=>this.pause()),L.on(this._element,xu,()=>this._maybeEnableCycle())),this._config.touch&&ce.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const g of ue.find(VL,this._element))L.on(g,Ji,w=>w.preventDefault());const h={leftCallback:()=>this._slide(this._directionToOrder(Wr)),rightCallback:()=>this._slide(this._directionToOrder(Pr)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),Xt+this._config.interval))}};this._swipeHelper=new ce(this._element,h)}_keydown(u){if(/input|textarea/i.test(u.target.tagName))return;const h=UL[u.key];h&&(u.preventDefault(),this._slide(this._directionToOrder(h)))}_getItemIndex(u){return this._getItems().indexOf(u)}_setActiveIndicatorElement(u){if(!this._indicatorsElement)return;const h=ue.findOne(jI,this._indicatorsElement);h.classList.remove(mr),h.removeAttribute("aria-current");const g=ue.findOne(`[data-bs-slide-to="${u}"]`,this._indicatorsElement);g&&(g.classList.add(mr),g.setAttribute("aria-current","true"))}_updateInterval(){const u=this._activeElement||this._getActive();if(!u)return;const h=Number.parseInt(u.getAttribute("data-bs-interval"),10);this._config.interval=h||this._config.defaultInterval}_slide(u,h=null){if(this._isSliding)return;const g=this._getActive(),w=u===dn,P=h||Ce(this._getItems(),g,w,this._config.wrap);if(P===g)return;const C=this._getItemIndex(P),V=me=>L.trigger(this._element,me,{relatedTarget:P,direction:this._orderToDirection(u),from:this._getItemIndex(g),to:C});if(V(Gn).defaultPrevented||!g||!P)return;const te=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(C),this._activeElement=P;const K=w?NL:Jg,Te=w?DL:OL;P.classList.add(Te),T(P),g.classList.add(K),P.classList.add(K);const be=()=>{P.classList.remove(K,Te),P.classList.add(mr),g.classList.remove(mr,Te,K),this._isSliding=!1,V(Xi)};this._queueCallback(be,g,this._isAnimated()),te&&this.cycle()}_isAnimated(){return this._element.classList.contains(Fh)}_getActive(){return ue.findOne(LL,this._element)}_getItems(){return ue.find(BI,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(u){return D()?u===Wr?pr:dn:u===Wr?dn:pr}_orderToDirection(u){return D()?u===pr?Wr:Pr:u===pr?Pr:Wr}static jQueryInterface(u){return this.each(function(){const h=Va.getOrCreateInstance(this,u);if(typeof u=="number"){h.to(u);return}if(typeof u=="string"){if(h[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);h[u]()}})}}L.on(document,Vn,FL,function(p){const u=ue.getElementFromSelector(this);if(!u||!u.classList.contains(ct))return;p.preventDefault();const h=Va.getOrCreateInstance(u),g=this.getAttribute("data-bs-slide-to");if(g){h.to(g),h._maybeEnableCycle();return}if(Ft.getDataAttribute(this,"slide")==="next"){h.next(),h._maybeEnableCycle();return}h.prev(),h._maybeEnableCycle()}),L.on(window,ze,()=>{const p=ue.find($L);for(const u of p)Va.getOrCreateInstance(u)}),O(Va);const zL="collapse",Nu=".bs.collapse",WL=".data-api",qL=`show${Nu}`,HL=`shown${Nu}`,KL=`hide${Nu}`,GL=`hidden${Nu}`,YL=`click${Nu}${WL}`,Zg="show",Ma="collapse",$h="collapsing",QL="collapsed",XL=`:scope .${Ma} .${Ma}`,JL="collapse-horizontal",ZL="width",eV="height",tV=".collapse.show, .collapse.collapsing",e_='[data-bs-toggle="collapse"]',nV={parent:null,toggle:!0},rV={parent:"(null|element)",toggle:"boolean"};class Fa extends Kn{constructor(u,h){super(u,h),this._isTransitioning=!1,this._triggerArray=[];const g=ue.find(e_);for(const w of g){const P=ue.getSelectorFromElement(w),C=ue.find(P).filter(V=>V===this._element);P!==null&&C.length&&this._triggerArray.push(w)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return nV}static get DefaultType(){return rV}static get NAME(){return zL}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let u=[];if(this._config.parent&&(u=this._getFirstLevelChildren(tV).filter(V=>V!==this._element).map(V=>Fa.getOrCreateInstance(V,{toggle:!1}))),u.length&&u[0]._isTransitioning||L.trigger(this._element,qL).defaultPrevented)return;for(const V of u)V.hide();const g=this._getDimension();this._element.classList.remove(Ma),this._element.classList.add($h),this._element.style[g]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const w=()=>{this._isTransitioning=!1,this._element.classList.remove($h),this._element.classList.add(Ma,Zg),this._element.style[g]="",L.trigger(this._element,HL)},C=`scroll${g[0].toUpperCase()+g.slice(1)}`;this._queueCallback(w,this._element,!0),this._element.style[g]=`${this._element[C]}px`}hide(){if(this._isTransitioning||!this._isShown()||L.trigger(this._element,KL).defaultPrevented)return;const h=this._getDimension();this._element.style[h]=`${this._element.getBoundingClientRect()[h]}px`,T(this._element),this._element.classList.add($h),this._element.classList.remove(Ma,Zg);for(const w of this._triggerArray){const P=ue.getElementFromSelector(w);P&&!this._isShown(P)&&this._addAriaAndCollapsedClass([w],!1)}this._isTransitioning=!0;const g=()=>{this._isTransitioning=!1,this._element.classList.remove($h),this._element.classList.add(Ma),L.trigger(this._element,GL)};this._element.style[h]="",this._queueCallback(g,this._element,!0)}_isShown(u=this._element){return u.classList.contains(Zg)}_configAfterMerge(u){return u.toggle=!!u.toggle,u.parent=v(u.parent),u}_getDimension(){return this._element.classList.contains(JL)?ZL:eV}_initializeChildren(){if(!this._config.parent)return;const u=this._getFirstLevelChildren(e_);for(const h of u){const g=ue.getElementFromSelector(h);g&&this._addAriaAndCollapsedClass([h],this._isShown(g))}}_getFirstLevelChildren(u){const h=ue.find(XL,this._config.parent);return ue.find(u,this._config.parent).filter(g=>!h.includes(g))}_addAriaAndCollapsedClass(u,h){if(u.length)for(const g of u)g.classList.toggle(QL,!h),g.setAttribute("aria-expanded",h)}static jQueryInterface(u){const h={};return typeof u=="string"&&/show|hide/.test(u)&&(h.toggle=!1),this.each(function(){const g=Fa.getOrCreateInstance(this,h);if(typeof u=="string"){if(typeof g[u]>"u")throw new TypeError(`No method named "${u}"`);g[u]()}})}}L.on(document,YL,e_,function(p){(p.target.tagName==="A"||p.delegateTarget&&p.delegateTarget.tagName==="A")&&p.preventDefault();for(const u of ue.getMultipleElementsFromSelector(this))Fa.getOrCreateInstance(u,{toggle:!1}).toggle()}),O(Fa);var bn="top",Yn="bottom",Qn="right",An="left",Uh="auto",$a=[bn,Yn,Qn,An],ao="start",Ua="end",zI="clippingParents",t_="viewport",ja="popper",WI="reference",n_=$a.reduce(function(p,u){return p.concat([u+"-"+ao,u+"-"+Ua])},[]),r_=[].concat($a,[Uh]).reduce(function(p,u){return p.concat([u,u+"-"+ao,u+"-"+Ua])},[]),qI="beforeRead",HI="read",KI="afterRead",GI="beforeMain",YI="main",QI="afterMain",XI="beforeWrite",JI="write",ZI="afterWrite",e0=[qI,HI,KI,GI,YI,QI,XI,JI,ZI];function qr(p){return p?(p.nodeName||"").toLowerCase():null}function Xn(p){if(p==null)return window;if(p.toString()!=="[object Window]"){var u=p.ownerDocument;return u&&u.defaultView||window}return p}function lo(p){var u=Xn(p).Element;return p instanceof u||p instanceof Element}function gr(p){var u=Xn(p).HTMLElement;return p instanceof u||p instanceof HTMLElement}function i_(p){if(typeof ShadowRoot>"u")return!1;var u=Xn(p).ShadowRoot;return p instanceof u||p instanceof ShadowRoot}function iV(p){var u=p.state;Object.keys(u.elements).forEach(function(h){var g=u.styles[h]||{},w=u.attributes[h]||{},P=u.elements[h];!gr(P)||!qr(P)||(Object.assign(P.style,g),Object.keys(w).forEach(function(C){var V=w[C];V===!1?P.removeAttribute(C):P.setAttribute(C,V===!0?"":V)}))})}function sV(p){var u=p.state,h={popper:{position:u.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(u.elements.popper.style,h.popper),u.styles=h,u.elements.arrow&&Object.assign(u.elements.arrow.style,h.arrow),function(){Object.keys(u.elements).forEach(function(g){var w=u.elements[g],P=u.attributes[g]||{},C=Object.keys(u.styles.hasOwnProperty(g)?u.styles[g]:h[g]),V=C.reduce(function(B,te){return B[te]="",B},{});!gr(w)||!qr(w)||(Object.assign(w.style,V),Object.keys(P).forEach(function(B){w.removeAttribute(B)}))})}}const s_={name:"applyStyles",enabled:!0,phase:"write",fn:iV,effect:sV,requires:["computeStyles"]};function Hr(p){return p.split("-")[0]}var uo=Math.max,jh=Math.min,Ba=Math.round;function o_(){var p=navigator.userAgentData;return p!=null&&p.brands&&Array.isArray(p.brands)?p.brands.map(function(u){return u.brand+"/"+u.version}).join(" "):navigator.userAgent}function t0(){return!/^((?!chrome|android).)*safari/i.test(o_())}function za(p,u,h){u===void 0&&(u=!1),h===void 0&&(h=!1);var g=p.getBoundingClientRect(),w=1,P=1;u&&gr(p)&&(w=p.offsetWidth>0&&Ba(g.width)/p.offsetWidth||1,P=p.offsetHeight>0&&Ba(g.height)/p.offsetHeight||1);var C=lo(p)?Xn(p):window,V=C.visualViewport,B=!t0()&&h,te=(g.left+(B&&V?V.offsetLeft:0))/w,K=(g.top+(B&&V?V.offsetTop:0))/P,Te=g.width/w,be=g.height/P;return{width:Te,height:be,top:K,right:te+Te,bottom:K+be,left:te,x:te,y:K}}function a_(p){var u=za(p),h=p.offsetWidth,g=p.offsetHeight;return Math.abs(u.width-h)<=1&&(h=u.width),Math.abs(u.height-g)<=1&&(g=u.height),{x:p.offsetLeft,y:p.offsetTop,width:h,height:g}}function n0(p,u){var h=u.getRootNode&&u.getRootNode();if(p.contains(u))return!0;if(h&&i_(h)){var g=u;do{if(g&&p.isSameNode(g))return!0;g=g.parentNode||g.host}while(g)}return!1}function vi(p){return Xn(p).getComputedStyle(p)}function oV(p){return["table","td","th"].indexOf(qr(p))>=0}function Zi(p){return((lo(p)?p.ownerDocument:p.document)||window.document).documentElement}function Bh(p){return qr(p)==="html"?p:p.assignedSlot||p.parentNode||(i_(p)?p.host:null)||Zi(p)}function r0(p){return!gr(p)||vi(p).position==="fixed"?null:p.offsetParent}function aV(p){var u=/firefox/i.test(o_()),h=/Trident/i.test(o_());if(h&&gr(p)){var g=vi(p);if(g.position==="fixed")return null}var w=Bh(p);for(i_(w)&&(w=w.host);gr(w)&&["html","body"].indexOf(qr(w))<0;){var P=vi(w);if(P.transform!=="none"||P.perspective!=="none"||P.contain==="paint"||["transform","perspective"].indexOf(P.willChange)!==-1||u&&P.willChange==="filter"||u&&P.filter&&P.filter!=="none")return w;w=w.parentNode}return null}function Du(p){for(var u=Xn(p),h=r0(p);h&&oV(h)&&vi(h).position==="static";)h=r0(h);return h&&(qr(h)==="html"||qr(h)==="body"&&vi(h).position==="static")?u:h||aV(p)||u}function l_(p){return["top","bottom"].indexOf(p)>=0?"x":"y"}function Ou(p,u,h){return uo(p,jh(u,h))}function lV(p,u,h){var g=Ou(p,u,h);return g>h?h:g}function i0(){return{top:0,right:0,bottom:0,left:0}}function s0(p){return Object.assign({},i0(),p)}function o0(p,u){return u.reduce(function(h,g){return h[g]=p,h},{})}var uV=function(u,h){return u=typeof u=="function"?u(Object.assign({},h.rects,{placement:h.placement})):u,s0(typeof u!="number"?u:o0(u,$a))};function cV(p){var u,h=p.state,g=p.name,w=p.options,P=h.elements.arrow,C=h.modifiersData.popperOffsets,V=Hr(h.placement),B=l_(V),te=[An,Qn].indexOf(V)>=0,K=te?"height":"width";if(!(!P||!C)){var Te=uV(w.padding,h),be=a_(P),me=B==="y"?bn:An,Qe=B==="y"?Yn:Qn,Ae=h.rects.reference[K]+h.rects.reference[B]-C[B]-h.rects.popper[K],Fe=C[B]-h.rects.reference[B],tt=Du(P),At=tt?B==="y"?tt.clientHeight||0:tt.clientWidth||0:0,St=Ae/2-Fe/2,ke=Te[me],We=At-be[K]-Te[Qe],qe=At/2-be[K]/2+St,mt=Ou(ke,qe,We),Jt=B;h.modifiersData[g]=(u={},u[Jt]=mt,u.centerOffset=mt-qe,u)}}function dV(p){var u=p.state,h=p.options,g=h.element,w=g===void 0?"[data-popper-arrow]":g;w!=null&&(typeof w=="string"&&(w=u.elements.popper.querySelector(w),!w)||n0(u.elements.popper,w)&&(u.elements.arrow=w))}const a0={name:"arrow",enabled:!0,phase:"main",fn:cV,effect:dV,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Wa(p){return p.split("-")[1]}var hV={top:"auto",right:"auto",bottom:"auto",left:"auto"};function fV(p,u){var h=p.x,g=p.y,w=u.devicePixelRatio||1;return{x:Ba(h*w)/w||0,y:Ba(g*w)/w||0}}function l0(p){var u,h=p.popper,g=p.popperRect,w=p.placement,P=p.variation,C=p.offsets,V=p.position,B=p.gpuAcceleration,te=p.adaptive,K=p.roundOffsets,Te=p.isFixed,be=C.x,me=be===void 0?0:be,Qe=C.y,Ae=Qe===void 0?0:Qe,Fe=typeof K=="function"?K({x:me,y:Ae}):{x:me,y:Ae};me=Fe.x,Ae=Fe.y;var tt=C.hasOwnProperty("x"),At=C.hasOwnProperty("y"),St=An,ke=bn,We=window;if(te){var qe=Du(h),mt="clientHeight",Jt="clientWidth";if(qe===Xn(h)&&(qe=Zi(h),vi(qe).position!=="static"&&V==="absolute"&&(mt="scrollHeight",Jt="scrollWidth")),qe=qe,w===bn||(w===An||w===Qn)&&P===Ua){ke=Yn;var $t=Te&&qe===We&&We.visualViewport?We.visualViewport.height:qe[mt];Ae-=$t-g.height,Ae*=B?1:-1}if(w===An||(w===bn||w===Yn)&&P===Ua){St=Qn;var Ot=Te&&qe===We&&We.visualViewport?We.visualViewport.width:qe[Jt];me-=Ot-g.width,me*=B?1:-1}}var hn=Object.assign({position:V},te&&hV),Cr=K===!0?fV({x:me,y:Ae},Xn(h)):{x:me,y:Ae};if(me=Cr.x,Ae=Cr.y,B){var Sn;return Object.assign({},hn,(Sn={},Sn[ke]=At?"0":"",Sn[St]=tt?"0":"",Sn.transform=(We.devicePixelRatio||1)<=1?"translate("+me+"px, "+Ae+"px)":"translate3d("+me+"px, "+Ae+"px, 0)",Sn))}return Object.assign({},hn,(u={},u[ke]=At?Ae+"px":"",u[St]=tt?me+"px":"",u.transform="",u))}function pV(p){var u=p.state,h=p.options,g=h.gpuAcceleration,w=g===void 0?!0:g,P=h.adaptive,C=P===void 0?!0:P,V=h.roundOffsets,B=V===void 0?!0:V,te={placement:Hr(u.placement),variation:Wa(u.placement),popper:u.elements.popper,popperRect:u.rects.popper,gpuAcceleration:w,isFixed:u.options.strategy==="fixed"};u.modifiersData.popperOffsets!=null&&(u.styles.popper=Object.assign({},u.styles.popper,l0(Object.assign({},te,{offsets:u.modifiersData.popperOffsets,position:u.options.strategy,adaptive:C,roundOffsets:B})))),u.modifiersData.arrow!=null&&(u.styles.arrow=Object.assign({},u.styles.arrow,l0(Object.assign({},te,{offsets:u.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:B})))),u.attributes.popper=Object.assign({},u.attributes.popper,{"data-popper-placement":u.placement})}const u_={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:pV,data:{}};var zh={passive:!0};function mV(p){var u=p.state,h=p.instance,g=p.options,w=g.scroll,P=w===void 0?!0:w,C=g.resize,V=C===void 0?!0:C,B=Xn(u.elements.popper),te=[].concat(u.scrollParents.reference,u.scrollParents.popper);return P&&te.forEach(function(K){K.addEventListener("scroll",h.update,zh)}),V&&B.addEventListener("resize",h.update,zh),function(){P&&te.forEach(function(K){K.removeEventListener("scroll",h.update,zh)}),V&&B.removeEventListener("resize",h.update,zh)}}const c_={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:mV,data:{}};var gV={left:"right",right:"left",bottom:"top",top:"bottom"};function Wh(p){return p.replace(/left|right|bottom|top/g,function(u){return gV[u]})}var _V={start:"end",end:"start"};function u0(p){return p.replace(/start|end/g,function(u){return _V[u]})}function d_(p){var u=Xn(p),h=u.pageXOffset,g=u.pageYOffset;return{scrollLeft:h,scrollTop:g}}function h_(p){return za(Zi(p)).left+d_(p).scrollLeft}function vV(p,u){var h=Xn(p),g=Zi(p),w=h.visualViewport,P=g.clientWidth,C=g.clientHeight,V=0,B=0;if(w){P=w.width,C=w.height;var te=t0();(te||!te&&u==="fixed")&&(V=w.offsetLeft,B=w.offsetTop)}return{width:P,height:C,x:V+h_(p),y:B}}function yV(p){var u,h=Zi(p),g=d_(p),w=(u=p.ownerDocument)==null?void 0:u.body,P=uo(h.scrollWidth,h.clientWidth,w?w.scrollWidth:0,w?w.clientWidth:0),C=uo(h.scrollHeight,h.clientHeight,w?w.scrollHeight:0,w?w.clientHeight:0),V=-g.scrollLeft+h_(p),B=-g.scrollTop;return vi(w||h).direction==="rtl"&&(V+=uo(h.clientWidth,w?w.clientWidth:0)-P),{width:P,height:C,x:V,y:B}}function f_(p){var u=vi(p),h=u.overflow,g=u.overflowX,w=u.overflowY;return/auto|scroll|overlay|hidden/.test(h+w+g)}function c0(p){return["html","body","#document"].indexOf(qr(p))>=0?p.ownerDocument.body:gr(p)&&f_(p)?p:c0(Bh(p))}function Lu(p,u){var h;u===void 0&&(u=[]);var g=c0(p),w=g===((h=p.ownerDocument)==null?void 0:h.body),P=Xn(g),C=w?[P].concat(P.visualViewport||[],f_(g)?g:[]):g,V=u.concat(C);return w?V:V.concat(Lu(Bh(C)))}function p_(p){return Object.assign({},p,{left:p.x,top:p.y,right:p.x+p.width,bottom:p.y+p.height})}function EV(p,u){var h=za(p,!1,u==="fixed");return h.top=h.top+p.clientTop,h.left=h.left+p.clientLeft,h.bottom=h.top+p.clientHeight,h.right=h.left+p.clientWidth,h.width=p.clientWidth,h.height=p.clientHeight,h.x=h.left,h.y=h.top,h}function d0(p,u,h){return u===t_?p_(vV(p,h)):lo(u)?EV(u,h):p_(yV(Zi(p)))}function wV(p){var u=Lu(Bh(p)),h=["absolute","fixed"].indexOf(vi(p).position)>=0,g=h&&gr(p)?Du(p):p;return lo(g)?u.filter(function(w){return lo(w)&&n0(w,g)&&qr(w)!=="body"}):[]}function TV(p,u,h,g){var w=u==="clippingParents"?wV(p):[].concat(u),P=[].concat(w,[h]),C=P[0],V=P.reduce(function(B,te){var K=d0(p,te,g);return B.top=uo(K.top,B.top),B.right=jh(K.right,B.right),B.bottom=jh(K.bottom,B.bottom),B.left=uo(K.left,B.left),B},d0(p,C,g));return V.width=V.right-V.left,V.height=V.bottom-V.top,V.x=V.left,V.y=V.top,V}function h0(p){var u=p.reference,h=p.element,g=p.placement,w=g?Hr(g):null,P=g?Wa(g):null,C=u.x+u.width/2-h.width/2,V=u.y+u.height/2-h.height/2,B;switch(w){case bn:B={x:C,y:u.y-h.height};break;case Yn:B={x:C,y:u.y+u.height};break;case Qn:B={x:u.x+u.width,y:V};break;case An:B={x:u.x-h.width,y:V};break;default:B={x:u.x,y:u.y}}var te=w?l_(w):null;if(te!=null){var K=te==="y"?"height":"width";switch(P){case ao:B[te]=B[te]-(u[K]/2-h[K]/2);break;case Ua:B[te]=B[te]+(u[K]/2-h[K]/2);break}}return B}function qa(p,u){u===void 0&&(u={});var h=u,g=h.placement,w=g===void 0?p.placement:g,P=h.strategy,C=P===void 0?p.strategy:P,V=h.boundary,B=V===void 0?zI:V,te=h.rootBoundary,K=te===void 0?t_:te,Te=h.elementContext,be=Te===void 0?ja:Te,me=h.altBoundary,Qe=me===void 0?!1:me,Ae=h.padding,Fe=Ae===void 0?0:Ae,tt=s0(typeof Fe!="number"?Fe:o0(Fe,$a)),At=be===ja?WI:ja,St=p.rects.popper,ke=p.elements[Qe?At:be],We=TV(lo(ke)?ke:ke.contextElement||Zi(p.elements.popper),B,K,C),qe=za(p.elements.reference),mt=h0({reference:qe,element:St,strategy:"absolute",placement:w}),Jt=p_(Object.assign({},St,mt)),$t=be===ja?Jt:qe,Ot={top:We.top-$t.top+tt.top,bottom:$t.bottom-We.bottom+tt.bottom,left:We.left-$t.left+tt.left,right:$t.right-We.right+tt.right},hn=p.modifiersData.offset;if(be===ja&&hn){var Cr=hn[w];Object.keys(Ot).forEach(function(Sn){var vo=[Qn,Yn].indexOf(Sn)>=0?1:-1,yo=[bn,Yn].indexOf(Sn)>=0?"y":"x";Ot[Sn]+=Cr[yo]*vo})}return Ot}function IV(p,u){u===void 0&&(u={});var h=u,g=h.placement,w=h.boundary,P=h.rootBoundary,C=h.padding,V=h.flipVariations,B=h.allowedAutoPlacements,te=B===void 0?r_:B,K=Wa(g),Te=K?V?n_:n_.filter(function(Qe){return Wa(Qe)===K}):$a,be=Te.filter(function(Qe){return te.indexOf(Qe)>=0});be.length===0&&(be=Te);var me=be.reduce(function(Qe,Ae){return Qe[Ae]=qa(p,{placement:Ae,boundary:w,rootBoundary:P,padding:C})[Hr(Ae)],Qe},{});return Object.keys(me).sort(function(Qe,Ae){return me[Qe]-me[Ae]})}function bV(p){if(Hr(p)===Uh)return[];var u=Wh(p);return[u0(p),u,u0(u)]}function AV(p){var u=p.state,h=p.options,g=p.name;if(!u.modifiersData[g]._skip){for(var w=h.mainAxis,P=w===void 0?!0:w,C=h.altAxis,V=C===void 0?!0:C,B=h.fallbackPlacements,te=h.padding,K=h.boundary,Te=h.rootBoundary,be=h.altBoundary,me=h.flipVariations,Qe=me===void 0?!0:me,Ae=h.allowedAutoPlacements,Fe=u.options.placement,tt=Hr(Fe),At=tt===Fe,St=B||(At||!Qe?[Wh(Fe)]:bV(Fe)),ke=[Fe].concat(St).reduce(function(Ga,ts){return Ga.concat(Hr(ts)===Uh?IV(u,{placement:ts,boundary:K,rootBoundary:Te,padding:te,flipVariations:Qe,allowedAutoPlacements:Ae}):ts)},[]),We=u.rects.reference,qe=u.rects.popper,mt=new Map,Jt=!0,$t=ke[0],Ot=0;Ot<ke.length;Ot++){var hn=ke[Ot],Cr=Hr(hn),Sn=Wa(hn)===ao,vo=[bn,Yn].indexOf(Cr)>=0,yo=vo?"width":"height",Jn=qa(u,{placement:hn,boundary:K,rootBoundary:Te,altBoundary:be,padding:te}),kr=vo?Sn?Qn:An:Sn?Yn:bn;We[yo]>qe[yo]&&(kr=Wh(kr));var Zh=Wh(kr),Eo=[];if(P&&Eo.push(Jn[Cr]<=0),V&&Eo.push(Jn[kr]<=0,Jn[Zh]<=0),Eo.every(function(Ga){return Ga})){$t=hn,Jt=!1;break}mt.set(hn,Eo)}if(Jt)for(var ef=Qe?3:1,R_=function(ts){var Uu=ke.find(function(nf){var wo=mt.get(nf);if(wo)return wo.slice(0,ts).every(function(C_){return C_})});if(Uu)return $t=Uu,"break"},$u=ef;$u>0;$u--){var tf=R_($u);if(tf==="break")break}u.placement!==$t&&(u.modifiersData[g]._skip=!0,u.placement=$t,u.reset=!0)}}const f0={name:"flip",enabled:!0,phase:"main",fn:AV,requiresIfExists:["offset"],data:{_skip:!1}};function p0(p,u,h){return h===void 0&&(h={x:0,y:0}),{top:p.top-u.height-h.y,right:p.right-u.width+h.x,bottom:p.bottom-u.height+h.y,left:p.left-u.width-h.x}}function m0(p){return[bn,Qn,Yn,An].some(function(u){return p[u]>=0})}function SV(p){var u=p.state,h=p.name,g=u.rects.reference,w=u.rects.popper,P=u.modifiersData.preventOverflow,C=qa(u,{elementContext:"reference"}),V=qa(u,{altBoundary:!0}),B=p0(C,g),te=p0(V,w,P),K=m0(B),Te=m0(te);u.modifiersData[h]={referenceClippingOffsets:B,popperEscapeOffsets:te,isReferenceHidden:K,hasPopperEscaped:Te},u.attributes.popper=Object.assign({},u.attributes.popper,{"data-popper-reference-hidden":K,"data-popper-escaped":Te})}const g0={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:SV};function PV(p,u,h){var g=Hr(p),w=[An,bn].indexOf(g)>=0?-1:1,P=typeof h=="function"?h(Object.assign({},u,{placement:p})):h,C=P[0],V=P[1];return C=C||0,V=(V||0)*w,[An,Qn].indexOf(g)>=0?{x:V,y:C}:{x:C,y:V}}function RV(p){var u=p.state,h=p.options,g=p.name,w=h.offset,P=w===void 0?[0,0]:w,C=r_.reduce(function(K,Te){return K[Te]=PV(Te,u.rects,P),K},{}),V=C[u.placement],B=V.x,te=V.y;u.modifiersData.popperOffsets!=null&&(u.modifiersData.popperOffsets.x+=B,u.modifiersData.popperOffsets.y+=te),u.modifiersData[g]=C}const _0={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:RV};function CV(p){var u=p.state,h=p.name;u.modifiersData[h]=h0({reference:u.rects.reference,element:u.rects.popper,strategy:"absolute",placement:u.placement})}const m_={name:"popperOffsets",enabled:!0,phase:"read",fn:CV,data:{}};function kV(p){return p==="x"?"y":"x"}function xV(p){var u=p.state,h=p.options,g=p.name,w=h.mainAxis,P=w===void 0?!0:w,C=h.altAxis,V=C===void 0?!1:C,B=h.boundary,te=h.rootBoundary,K=h.altBoundary,Te=h.padding,be=h.tether,me=be===void 0?!0:be,Qe=h.tetherOffset,Ae=Qe===void 0?0:Qe,Fe=qa(u,{boundary:B,rootBoundary:te,padding:Te,altBoundary:K}),tt=Hr(u.placement),At=Wa(u.placement),St=!At,ke=l_(tt),We=kV(ke),qe=u.modifiersData.popperOffsets,mt=u.rects.reference,Jt=u.rects.popper,$t=typeof Ae=="function"?Ae(Object.assign({},u.rects,{placement:u.placement})):Ae,Ot=typeof $t=="number"?{mainAxis:$t,altAxis:$t}:Object.assign({mainAxis:0,altAxis:0},$t),hn=u.modifiersData.offset?u.modifiersData.offset[u.placement]:null,Cr={x:0,y:0};if(qe){if(P){var Sn,vo=ke==="y"?bn:An,yo=ke==="y"?Yn:Qn,Jn=ke==="y"?"height":"width",kr=qe[ke],Zh=kr+Fe[vo],Eo=kr-Fe[yo],ef=me?-Jt[Jn]/2:0,R_=At===ao?mt[Jn]:Jt[Jn],$u=At===ao?-Jt[Jn]:-mt[Jn],tf=u.elements.arrow,Ga=me&&tf?a_(tf):{width:0,height:0},ts=u.modifiersData["arrow#persistent"]?u.modifiersData["arrow#persistent"].padding:i0(),Uu=ts[vo],nf=ts[yo],wo=Ou(0,mt[Jn],Ga[Jn]),C_=St?mt[Jn]/2-ef-wo-Uu-Ot.mainAxis:R_-wo-Uu-Ot.mainAxis,I2=St?-mt[Jn]/2+ef+wo+nf+Ot.mainAxis:$u+wo+nf+Ot.mainAxis,k_=u.elements.arrow&&Du(u.elements.arrow),b2=k_?ke==="y"?k_.clientTop||0:k_.clientLeft||0:0,sb=(Sn=hn==null?void 0:hn[ke])!=null?Sn:0,A2=kr+C_-sb-b2,S2=kr+I2-sb,ob=Ou(me?jh(Zh,A2):Zh,kr,me?uo(Eo,S2):Eo);qe[ke]=ob,Cr[ke]=ob-kr}if(V){var ab,P2=ke==="x"?bn:An,R2=ke==="x"?Yn:Qn,To=qe[We],rf=We==="y"?"height":"width",lb=To+Fe[P2],ub=To-Fe[R2],x_=[bn,An].indexOf(tt)!==-1,cb=(ab=hn==null?void 0:hn[We])!=null?ab:0,db=x_?lb:To-mt[rf]-Jt[rf]-cb+Ot.altAxis,hb=x_?To+mt[rf]+Jt[rf]-cb-Ot.altAxis:ub,fb=me&&x_?lV(db,To,hb):Ou(me?db:lb,To,me?hb:ub);qe[We]=fb,Cr[We]=fb-To}u.modifiersData[g]=Cr}}const v0={name:"preventOverflow",enabled:!0,phase:"main",fn:xV,requiresIfExists:["offset"]};function NV(p){return{scrollLeft:p.scrollLeft,scrollTop:p.scrollTop}}function DV(p){return p===Xn(p)||!gr(p)?d_(p):NV(p)}function OV(p){var u=p.getBoundingClientRect(),h=Ba(u.width)/p.offsetWidth||1,g=Ba(u.height)/p.offsetHeight||1;return h!==1||g!==1}function LV(p,u,h){h===void 0&&(h=!1);var g=gr(u),w=gr(u)&&OV(u),P=Zi(u),C=za(p,w,h),V={scrollLeft:0,scrollTop:0},B={x:0,y:0};return(g||!g&&!h)&&((qr(u)!=="body"||f_(P))&&(V=DV(u)),gr(u)?(B=za(u,!0),B.x+=u.clientLeft,B.y+=u.clientTop):P&&(B.x=h_(P))),{x:C.left+V.scrollLeft-B.x,y:C.top+V.scrollTop-B.y,width:C.width,height:C.height}}function VV(p){var u=new Map,h=new Set,g=[];p.forEach(function(P){u.set(P.name,P)});function w(P){h.add(P.name);var C=[].concat(P.requires||[],P.requiresIfExists||[]);C.forEach(function(V){if(!h.has(V)){var B=u.get(V);B&&w(B)}}),g.push(P)}return p.forEach(function(P){h.has(P.name)||w(P)}),g}function MV(p){var u=VV(p);return e0.reduce(function(h,g){return h.concat(u.filter(function(w){return w.phase===g}))},[])}function FV(p){var u;return function(){return u||(u=new Promise(function(h){Promise.resolve().then(function(){u=void 0,h(p())})})),u}}function $V(p){var u=p.reduce(function(h,g){var w=h[g.name];return h[g.name]=w?Object.assign({},w,g,{options:Object.assign({},w.options,g.options),data:Object.assign({},w.data,g.data)}):g,h},{});return Object.keys(u).map(function(h){return u[h]})}var y0={placement:"bottom",modifiers:[],strategy:"absolute"};function E0(){for(var p=arguments.length,u=new Array(p),h=0;h<p;h++)u[h]=arguments[h];return!u.some(function(g){return!(g&&typeof g.getBoundingClientRect=="function")})}function qh(p){p===void 0&&(p={});var u=p,h=u.defaultModifiers,g=h===void 0?[]:h,w=u.defaultOptions,P=w===void 0?y0:w;return function(V,B,te){te===void 0&&(te=P);var K={placement:"bottom",orderedModifiers:[],options:Object.assign({},y0,P),modifiersData:{},elements:{reference:V,popper:B},attributes:{},styles:{}},Te=[],be=!1,me={state:K,setOptions:function(tt){var At=typeof tt=="function"?tt(K.options):tt;Ae(),K.options=Object.assign({},P,K.options,At),K.scrollParents={reference:lo(V)?Lu(V):V.contextElement?Lu(V.contextElement):[],popper:Lu(B)};var St=MV($V([].concat(g,K.options.modifiers)));return K.orderedModifiers=St.filter(function(ke){return ke.enabled}),Qe(),me.update()},forceUpdate:function(){if(!be){var tt=K.elements,At=tt.reference,St=tt.popper;if(E0(At,St)){K.rects={reference:LV(At,Du(St),K.options.strategy==="fixed"),popper:a_(St)},K.reset=!1,K.placement=K.options.placement,K.orderedModifiers.forEach(function(Ot){return K.modifiersData[Ot.name]=Object.assign({},Ot.data)});for(var ke=0;ke<K.orderedModifiers.length;ke++){if(K.reset===!0){K.reset=!1,ke=-1;continue}var We=K.orderedModifiers[ke],qe=We.fn,mt=We.options,Jt=mt===void 0?{}:mt,$t=We.name;typeof qe=="function"&&(K=qe({state:K,options:Jt,name:$t,instance:me})||K)}}}},update:FV(function(){return new Promise(function(Fe){me.forceUpdate(),Fe(K)})}),destroy:function(){Ae(),be=!0}};if(!E0(V,B))return me;me.setOptions(te).then(function(Fe){!be&&te.onFirstUpdate&&te.onFirstUpdate(Fe)});function Qe(){K.orderedModifiers.forEach(function(Fe){var tt=Fe.name,At=Fe.options,St=At===void 0?{}:At,ke=Fe.effect;if(typeof ke=="function"){var We=ke({state:K,name:tt,instance:me,options:St}),qe=function(){};Te.push(We||qe)}})}function Ae(){Te.forEach(function(Fe){return Fe()}),Te=[]}return me}}var UV=qh(),jV=[c_,m_,u_,s_],BV=qh({defaultModifiers:jV}),zV=[c_,m_,u_,s_,_0,f0,v0,a0,g0],g_=qh({defaultModifiers:zV});const w0=Object.freeze(Object.defineProperty({__proto__:null,afterMain:QI,afterRead:KI,afterWrite:ZI,applyStyles:s_,arrow:a0,auto:Uh,basePlacements:$a,beforeMain:GI,beforeRead:qI,beforeWrite:XI,bottom:Yn,clippingParents:zI,computeStyles:u_,createPopper:g_,createPopperBase:UV,createPopperLite:BV,detectOverflow:qa,end:Ua,eventListeners:c_,flip:f0,hide:g0,left:An,main:YI,modifierPhases:e0,offset:_0,placements:r_,popper:ja,popperGenerator:qh,popperOffsets:m_,preventOverflow:v0,read:HI,reference:WI,right:Qn,start:ao,top:bn,variationPlacements:n_,viewport:t_,write:JI},Symbol.toStringTag,{value:"Module"})),T0="dropdown",co=".bs.dropdown",__=".data-api",WV="Escape",I0="Tab",qV="ArrowUp",b0="ArrowDown",HV=2,KV=`hide${co}`,GV=`hidden${co}`,YV=`show${co}`,QV=`shown${co}`,A0=`click${co}${__}`,S0=`keydown${co}${__}`,XV=`keyup${co}${__}`,Ha="show",JV="dropup",ZV="dropend",eM="dropstart",tM="dropup-center",nM="dropdown-center",ho='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',rM=`${ho}.${Ha}`,Hh=".dropdown-menu",iM=".navbar",sM=".navbar-nav",oM=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",aM=D()?"top-end":"top-start",lM=D()?"top-start":"top-end",uM=D()?"bottom-end":"bottom-start",cM=D()?"bottom-start":"bottom-end",dM=D()?"left-start":"right-start",hM=D()?"right-start":"left-start",fM="top",pM="bottom",mM={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},gM={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Rr extends Kn{constructor(u,h){super(u,h),this._popper=null,this._parent=this._element.parentNode,this._menu=ue.next(this._element,Hh)[0]||ue.prev(this._element,Hh)[0]||ue.findOne(Hh,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return mM}static get DefaultType(){return gM}static get NAME(){return T0}toggle(){return this._isShown()?this.hide():this.show()}show(){if(I(this._element)||this._isShown())return;const u={relatedTarget:this._element};if(!L.trigger(this._element,YV,u).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(sM))for(const g of[].concat(...document.body.children))L.on(g,"mouseover",y);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Ha),this._element.classList.add(Ha),L.trigger(this._element,QV,u)}}hide(){if(I(this._element)||!this._isShown())return;const u={relatedTarget:this._element};this._completeHide(u)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(u){if(!L.trigger(this._element,KV,u).defaultPrevented){if("ontouchstart"in document.documentElement)for(const g of[].concat(...document.body.children))L.off(g,"mouseover",y);this._popper&&this._popper.destroy(),this._menu.classList.remove(Ha),this._element.classList.remove(Ha),this._element.setAttribute("aria-expanded","false"),Ft.removeDataAttribute(this._menu,"popper"),L.trigger(this._element,GV,u)}}_getConfig(u){if(u=super._getConfig(u),typeof u.reference=="object"&&!m(u.reference)&&typeof u.reference.getBoundingClientRect!="function")throw new TypeError(`${T0.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return u}_createPopper(){if(typeof w0>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let u=this._element;this._config.reference==="parent"?u=this._parent:m(this._config.reference)?u=v(this._config.reference):typeof this._config.reference=="object"&&(u=this._config.reference);const h=this._getPopperConfig();this._popper=g_(u,this._menu,h)}_isShown(){return this._menu.classList.contains(Ha)}_getPlacement(){const u=this._parent;if(u.classList.contains(ZV))return dM;if(u.classList.contains(eM))return hM;if(u.classList.contains(tM))return fM;if(u.classList.contains(nM))return pM;const h=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return u.classList.contains(JV)?h?lM:aM:h?cM:uM}_detectNavbar(){return this._element.closest(iM)!==null}_getOffset(){const{offset:u}=this._config;return typeof u=="string"?u.split(",").map(h=>Number.parseInt(h,10)):typeof u=="function"?h=>u(h,this._element):u}_getPopperConfig(){const u={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Ft.setDataAttribute(this._menu,"popper","static"),u.modifiers=[{name:"applyStyles",enabled:!1}]),{...u,...G(this._config.popperConfig,[u])}}_selectMenuItem({key:u,target:h}){const g=ue.find(oM,this._menu).filter(w=>b(w));g.length&&Ce(g,h,u===b0,!g.includes(h)).focus()}static jQueryInterface(u){return this.each(function(){const h=Rr.getOrCreateInstance(this,u);if(typeof u=="string"){if(typeof h[u]>"u")throw new TypeError(`No method named "${u}"`);h[u]()}})}static clearMenus(u){if(u.button===HV||u.type==="keyup"&&u.key!==I0)return;const h=ue.find(rM);for(const g of h){const w=Rr.getInstance(g);if(!w||w._config.autoClose===!1)continue;const P=u.composedPath(),C=P.includes(w._menu);if(P.includes(w._element)||w._config.autoClose==="inside"&&!C||w._config.autoClose==="outside"&&C||w._menu.contains(u.target)&&(u.type==="keyup"&&u.key===I0||/input|select|option|textarea|form/i.test(u.target.tagName)))continue;const V={relatedTarget:w._element};u.type==="click"&&(V.clickEvent=u),w._completeHide(V)}}static dataApiKeydownHandler(u){const h=/input|textarea/i.test(u.target.tagName),g=u.key===WV,w=[qV,b0].includes(u.key);if(!w&&!g||h&&!g)return;u.preventDefault();const P=this.matches(ho)?this:ue.prev(this,ho)[0]||ue.next(this,ho)[0]||ue.findOne(ho,u.delegateTarget.parentNode),C=Rr.getOrCreateInstance(P);if(w){u.stopPropagation(),C.show(),C._selectMenuItem(u);return}C._isShown()&&(u.stopPropagation(),C.hide(),P.focus())}}L.on(document,S0,ho,Rr.dataApiKeydownHandler),L.on(document,S0,Hh,Rr.dataApiKeydownHandler),L.on(document,A0,Rr.clearMenus),L.on(document,XV,Rr.clearMenus),L.on(document,A0,ho,function(p){p.preventDefault(),Rr.getOrCreateInstance(this).toggle()}),O(Rr);const P0="backdrop",_M="fade",R0="show",C0=`mousedown.bs.${P0}`,vM={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},yM={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class k0 extends Hn{constructor(u){super(),this._config=this._getConfig(u),this._isAppended=!1,this._element=null}static get Default(){return vM}static get DefaultType(){return yM}static get NAME(){return P0}show(u){if(!this._config.isVisible){G(u);return}this._append();const h=this._getElement();this._config.isAnimated&&T(h),h.classList.add(R0),this._emulateAnimation(()=>{G(u)})}hide(u){if(!this._config.isVisible){G(u);return}this._getElement().classList.remove(R0),this._emulateAnimation(()=>{this.dispose(),G(u)})}dispose(){this._isAppended&&(L.off(this._element,C0),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const u=document.createElement("div");u.className=this._config.className,this._config.isAnimated&&u.classList.add(_M),this._element=u}return this._element}_configAfterMerge(u){return u.rootElement=v(u.rootElement),u}_append(){if(this._isAppended)return;const u=this._getElement();this._config.rootElement.append(u),L.on(u,C0,()=>{G(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(u){H(u,this._getElement(),this._config.isAnimated)}}const EM="focustrap",Kh=".bs.focustrap",wM=`focusin${Kh}`,TM=`keydown.tab${Kh}`,IM="Tab",bM="forward",x0="backward",AM={autofocus:!0,trapElement:null},SM={autofocus:"boolean",trapElement:"element"};class N0 extends Hn{constructor(u){super(),this._config=this._getConfig(u),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return AM}static get DefaultType(){return SM}static get NAME(){return EM}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),L.off(document,Kh),L.on(document,wM,u=>this._handleFocusin(u)),L.on(document,TM,u=>this._handleKeydown(u)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,L.off(document,Kh))}_handleFocusin(u){const{trapElement:h}=this._config;if(u.target===document||u.target===h||h.contains(u.target))return;const g=ue.focusableChildren(h);g.length===0?h.focus():this._lastTabNavDirection===x0?g[g.length-1].focus():g[0].focus()}_handleKeydown(u){u.key===IM&&(this._lastTabNavDirection=u.shiftKey?x0:bM)}}const D0=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",O0=".sticky-top",Gh="padding-right",L0="margin-right";class v_{constructor(){this._element=document.body}getWidth(){const u=document.documentElement.clientWidth;return Math.abs(window.innerWidth-u)}hide(){const u=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Gh,h=>h+u),this._setElementAttributes(D0,Gh,h=>h+u),this._setElementAttributes(O0,L0,h=>h-u)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Gh),this._resetElementAttributes(D0,Gh),this._resetElementAttributes(O0,L0)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(u,h,g){const w=this.getWidth(),P=C=>{if(C!==this._element&&window.innerWidth>C.clientWidth+w)return;this._saveInitialAttribute(C,h);const V=window.getComputedStyle(C).getPropertyValue(h);C.style.setProperty(h,`${g(Number.parseFloat(V))}px`)};this._applyManipulationCallback(u,P)}_saveInitialAttribute(u,h){const g=u.style.getPropertyValue(h);g&&Ft.setDataAttribute(u,h,g)}_resetElementAttributes(u,h){const g=w=>{const P=Ft.getDataAttribute(w,h);if(P===null){w.style.removeProperty(h);return}Ft.removeDataAttribute(w,h),w.style.setProperty(h,P)};this._applyManipulationCallback(u,g)}_applyManipulationCallback(u,h){if(m(u)){h(u);return}for(const g of ue.find(u,this._element))h(g)}}const PM="modal",_r=".bs.modal",RM=".data-api",CM="Escape",kM=`hide${_r}`,xM=`hidePrevented${_r}`,V0=`hidden${_r}`,M0=`show${_r}`,NM=`shown${_r}`,DM=`resize${_r}`,OM=`click.dismiss${_r}`,LM=`mousedown.dismiss${_r}`,VM=`keydown.dismiss${_r}`,MM=`click${_r}${RM}`,F0="modal-open",FM="fade",$0="show",y_="modal-static",$M=".modal.show",UM=".modal-dialog",jM=".modal-body",BM='[data-bs-toggle="modal"]',zM={backdrop:!0,focus:!0,keyboard:!0},WM={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class fo extends Kn{constructor(u,h){super(u,h),this._dialog=ue.findOne(UM,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new v_,this._addEventListeners()}static get Default(){return zM}static get DefaultType(){return WM}static get NAME(){return PM}toggle(u){return this._isShown?this.hide():this.show(u)}show(u){this._isShown||this._isTransitioning||L.trigger(this._element,M0,{relatedTarget:u}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(F0),this._adjustDialog(),this._backdrop.show(()=>this._showElement(u)))}hide(){!this._isShown||this._isTransitioning||L.trigger(this._element,kM).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove($0),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){L.off(window,_r),L.off(this._dialog,_r),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new k0({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new N0({trapElement:this._element})}_showElement(u){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const h=ue.findOne(jM,this._dialog);h&&(h.scrollTop=0),T(this._element),this._element.classList.add($0);const g=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,L.trigger(this._element,NM,{relatedTarget:u})};this._queueCallback(g,this._dialog,this._isAnimated())}_addEventListeners(){L.on(this._element,VM,u=>{if(u.key===CM){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),L.on(window,DM,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),L.on(this._element,LM,u=>{L.one(this._element,OM,h=>{if(!(this._element!==u.target||this._element!==h.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(F0),this._resetAdjustments(),this._scrollBar.reset(),L.trigger(this._element,V0)})}_isAnimated(){return this._element.classList.contains(FM)}_triggerBackdropTransition(){if(L.trigger(this._element,xM).defaultPrevented)return;const h=this._element.scrollHeight>document.documentElement.clientHeight,g=this._element.style.overflowY;g==="hidden"||this._element.classList.contains(y_)||(h||(this._element.style.overflowY="hidden"),this._element.classList.add(y_),this._queueCallback(()=>{this._element.classList.remove(y_),this._queueCallback(()=>{this._element.style.overflowY=g},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const u=this._element.scrollHeight>document.documentElement.clientHeight,h=this._scrollBar.getWidth(),g=h>0;if(g&&!u){const w=D()?"paddingLeft":"paddingRight";this._element.style[w]=`${h}px`}if(!g&&u){const w=D()?"paddingRight":"paddingLeft";this._element.style[w]=`${h}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(u,h){return this.each(function(){const g=fo.getOrCreateInstance(this,u);if(typeof u=="string"){if(typeof g[u]>"u")throw new TypeError(`No method named "${u}"`);g[u](h)}})}}L.on(document,MM,BM,function(p){const u=ue.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&p.preventDefault(),L.one(u,M0,w=>{w.defaultPrevented||L.one(u,V0,()=>{b(this)&&this.focus()})});const h=ue.findOne($M);h&&fo.getInstance(h).hide(),fo.getOrCreateInstance(u).toggle(this)}),Na(fo),O(fo);const qM="offcanvas",yi=".bs.offcanvas",U0=".data-api",HM=`load${yi}${U0}`,KM="Escape",j0="show",B0="showing",z0="hiding",GM="offcanvas-backdrop",W0=".offcanvas.show",YM=`show${yi}`,QM=`shown${yi}`,XM=`hide${yi}`,q0=`hidePrevented${yi}`,H0=`hidden${yi}`,JM=`resize${yi}`,ZM=`click${yi}${U0}`,eF=`keydown.dismiss${yi}`,tF='[data-bs-toggle="offcanvas"]',nF={backdrop:!0,keyboard:!0,scroll:!1},rF={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Ei extends Kn{constructor(u,h){super(u,h),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return nF}static get DefaultType(){return rF}static get NAME(){return qM}toggle(u){return this._isShown?this.hide():this.show(u)}show(u){if(this._isShown||L.trigger(this._element,YM,{relatedTarget:u}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new v_().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(B0);const g=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(j0),this._element.classList.remove(B0),L.trigger(this._element,QM,{relatedTarget:u})};this._queueCallback(g,this._element,!0)}hide(){if(!this._isShown||L.trigger(this._element,XM).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(z0),this._backdrop.hide();const h=()=>{this._element.classList.remove(j0,z0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new v_().reset(),L.trigger(this._element,H0)};this._queueCallback(h,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const u=()=>{if(this._config.backdrop==="static"){L.trigger(this._element,q0);return}this.hide()},h=!!this._config.backdrop;return new k0({className:GM,isVisible:h,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:h?u:null})}_initializeFocusTrap(){return new N0({trapElement:this._element})}_addEventListeners(){L.on(this._element,eF,u=>{if(u.key===KM){if(this._config.keyboard){this.hide();return}L.trigger(this._element,q0)}})}static jQueryInterface(u){return this.each(function(){const h=Ei.getOrCreateInstance(this,u);if(typeof u=="string"){if(h[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);h[u](this)}})}}L.on(document,ZM,tF,function(p){const u=ue.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&p.preventDefault(),I(this))return;L.one(u,H0,()=>{b(this)&&this.focus()});const h=ue.findOne(W0);h&&h!==u&&Ei.getInstance(h).hide(),Ei.getOrCreateInstance(u).toggle(this)}),L.on(window,HM,()=>{for(const p of ue.find(W0))Ei.getOrCreateInstance(p).show()}),L.on(window,JM,()=>{for(const p of ue.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(p).position!=="fixed"&&Ei.getOrCreateInstance(p).hide()}),Na(Ei),O(Ei);const K0={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},iF=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),sF=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,oF=(p,u)=>{const h=p.nodeName.toLowerCase();return u.includes(h)?iF.has(h)?!!sF.test(p.nodeValue):!0:u.filter(g=>g instanceof RegExp).some(g=>g.test(h))};function aF(p,u,h){if(!p.length)return p;if(h&&typeof h=="function")return h(p);const w=new window.DOMParser().parseFromString(p,"text/html"),P=[].concat(...w.body.querySelectorAll("*"));for(const C of P){const V=C.nodeName.toLowerCase();if(!Object.keys(u).includes(V)){C.remove();continue}const B=[].concat(...C.attributes),te=[].concat(u["*"]||[],u[V]||[]);for(const K of B)oF(K,te)||C.removeAttribute(K.nodeName)}return w.body.innerHTML}const lF="TemplateFactory",uF={allowList:K0,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},cF={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},dF={entry:"(string|element|function|null)",selector:"(string|element)"};class hF extends Hn{constructor(u){super(),this._config=this._getConfig(u)}static get Default(){return uF}static get DefaultType(){return cF}static get NAME(){return lF}getContent(){return Object.values(this._config.content).map(u=>this._resolvePossibleFunction(u)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(u){return this._checkContent(u),this._config.content={...this._config.content,...u},this}toHtml(){const u=document.createElement("div");u.innerHTML=this._maybeSanitize(this._config.template);for(const[w,P]of Object.entries(this._config.content))this._setContent(u,P,w);const h=u.children[0],g=this._resolvePossibleFunction(this._config.extraClass);return g&&h.classList.add(...g.split(" ")),h}_typeCheckConfig(u){super._typeCheckConfig(u),this._checkContent(u.content)}_checkContent(u){for(const[h,g]of Object.entries(u))super._typeCheckConfig({selector:h,entry:g},dF)}_setContent(u,h,g){const w=ue.findOne(g,u);if(w){if(h=this._resolvePossibleFunction(h),!h){w.remove();return}if(m(h)){this._putElementInTemplate(v(h),w);return}if(this._config.html){w.innerHTML=this._maybeSanitize(h);return}w.textContent=h}}_maybeSanitize(u){return this._config.sanitize?aF(u,this._config.allowList,this._config.sanitizeFn):u}_resolvePossibleFunction(u){return G(u,[this])}_putElementInTemplate(u,h){if(this._config.html){h.innerHTML="",h.append(u);return}h.textContent=u.textContent}}const fF="tooltip",pF=new Set(["sanitize","allowList","sanitizeFn"]),E_="fade",mF="modal",Yh="show",gF=".tooltip-inner",G0=`.${mF}`,Y0="hide.bs.modal",Vu="hover",w_="focus",_F="click",vF="manual",yF="hide",EF="hidden",wF="show",TF="shown",IF="inserted",bF="click",AF="focusin",SF="focusout",PF="mouseenter",RF="mouseleave",CF={AUTO:"auto",TOP:"top",RIGHT:D()?"left":"right",BOTTOM:"bottom",LEFT:D()?"right":"left"},kF={allowList:K0,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},xF={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class po extends Kn{constructor(u,h){if(typeof w0>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(u,h),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return kF}static get DefaultType(){return xF}static get NAME(){return fF}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),L.off(this._element.closest(G0),Y0,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const u=L.trigger(this._element,this.constructor.eventName(wF)),g=(_(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(u.defaultPrevented||!g)return;this._disposePopper();const w=this._getTipElement();this._element.setAttribute("aria-describedby",w.getAttribute("id"));const{container:P}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(P.append(w),L.trigger(this._element,this.constructor.eventName(IF))),this._popper=this._createPopper(w),w.classList.add(Yh),"ontouchstart"in document.documentElement)for(const V of[].concat(...document.body.children))L.on(V,"mouseover",y);const C=()=>{L.trigger(this._element,this.constructor.eventName(TF)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(C,this.tip,this._isAnimated())}hide(){if(!this._isShown()||L.trigger(this._element,this.constructor.eventName(yF)).defaultPrevented)return;if(this._getTipElement().classList.remove(Yh),"ontouchstart"in document.documentElement)for(const w of[].concat(...document.body.children))L.off(w,"mouseover",y);this._activeTrigger[_F]=!1,this._activeTrigger[w_]=!1,this._activeTrigger[Vu]=!1,this._isHovered=null;const g=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),L.trigger(this._element,this.constructor.eventName(EF)))};this._queueCallback(g,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(u){const h=this._getTemplateFactory(u).toHtml();if(!h)return null;h.classList.remove(E_,Yh),h.classList.add(`bs-${this.constructor.NAME}-auto`);const g=c(this.constructor.NAME).toString();return h.setAttribute("id",g),this._isAnimated()&&h.classList.add(E_),h}setContent(u){this._newContent=u,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(u){return this._templateFactory?this._templateFactory.changeContent(u):this._templateFactory=new hF({...this._config,content:u,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[gF]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(u){return this.constructor.getOrCreateInstance(u.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(E_)}_isShown(){return this.tip&&this.tip.classList.contains(Yh)}_createPopper(u){const h=G(this._config.placement,[this,u,this._element]),g=CF[h.toUpperCase()];return g_(this._element,u,this._getPopperConfig(g))}_getOffset(){const{offset:u}=this._config;return typeof u=="string"?u.split(",").map(h=>Number.parseInt(h,10)):typeof u=="function"?h=>u(h,this._element):u}_resolvePossibleFunction(u){return G(u,[this._element])}_getPopperConfig(u){const h={placement:u,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:g=>{this._getTipElement().setAttribute("data-popper-placement",g.state.placement)}}]};return{...h,...G(this._config.popperConfig,[h])}}_setListeners(){const u=this._config.trigger.split(" ");for(const h of u)if(h==="click")L.on(this._element,this.constructor.eventName(bF),this._config.selector,g=>{this._initializeOnDelegatedTarget(g).toggle()});else if(h!==vF){const g=h===Vu?this.constructor.eventName(PF):this.constructor.eventName(AF),w=h===Vu?this.constructor.eventName(RF):this.constructor.eventName(SF);L.on(this._element,g,this._config.selector,P=>{const C=this._initializeOnDelegatedTarget(P);C._activeTrigger[P.type==="focusin"?w_:Vu]=!0,C._enter()}),L.on(this._element,w,this._config.selector,P=>{const C=this._initializeOnDelegatedTarget(P);C._activeTrigger[P.type==="focusout"?w_:Vu]=C._element.contains(P.relatedTarget),C._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},L.on(this._element.closest(G0),Y0,this._hideModalHandler)}_fixTitle(){const u=this._element.getAttribute("title");u&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",u),this._element.setAttribute("data-bs-original-title",u),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(u,h){clearTimeout(this._timeout),this._timeout=setTimeout(u,h)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(u){const h=Ft.getDataAttributes(this._element);for(const g of Object.keys(h))pF.has(g)&&delete h[g];return u={...h,...typeof u=="object"&&u?u:{}},u=this._mergeConfigObj(u),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}_configAfterMerge(u){return u.container=u.container===!1?document.body:v(u.container),typeof u.delay=="number"&&(u.delay={show:u.delay,hide:u.delay}),typeof u.title=="number"&&(u.title=u.title.toString()),typeof u.content=="number"&&(u.content=u.content.toString()),u}_getDelegateConfig(){const u={};for(const[h,g]of Object.entries(this._config))this.constructor.Default[h]!==g&&(u[h]=g);return u.selector=!1,u.trigger="manual",u}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(u){return this.each(function(){const h=po.getOrCreateInstance(this,u);if(typeof u=="string"){if(typeof h[u]>"u")throw new TypeError(`No method named "${u}"`);h[u]()}})}}O(po);const NF="popover",DF=".popover-header",OF=".popover-body",LF={...po.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},VF={...po.DefaultType,content:"(null|string|element|function)"};class Qh extends po{static get Default(){return LF}static get DefaultType(){return VF}static get NAME(){return NF}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[DF]:this._getTitle(),[OF]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(u){return this.each(function(){const h=Qh.getOrCreateInstance(this,u);if(typeof u=="string"){if(typeof h[u]>"u")throw new TypeError(`No method named "${u}"`);h[u]()}})}}O(Qh);const MF="scrollspy",T_=".bs.scrollspy",FF=".data-api",$F=`activate${T_}`,Q0=`click${T_}`,UF=`load${T_}${FF}`,jF="dropdown-item",Ka="active",BF='[data-bs-spy="scroll"]',I_="[href]",zF=".nav, .list-group",X0=".nav-link",WF=`${X0}, .nav-item > ${X0}, .list-group-item`,qF=".dropdown",HF=".dropdown-toggle",KF={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},GF={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Mu extends Kn{constructor(u,h){super(u,h),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return KF}static get DefaultType(){return GF}static get NAME(){return MF}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const u of this._observableSections.values())this._observer.observe(u)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(u){return u.target=v(u.target)||document.body,u.rootMargin=u.offset?`${u.offset}px 0px -30%`:u.rootMargin,typeof u.threshold=="string"&&(u.threshold=u.threshold.split(",").map(h=>Number.parseFloat(h))),u}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(L.off(this._config.target,Q0),L.on(this._config.target,Q0,I_,u=>{const h=this._observableSections.get(u.target.hash);if(h){u.preventDefault();const g=this._rootElement||window,w=h.offsetTop-this._element.offsetTop;if(g.scrollTo){g.scrollTo({top:w,behavior:"smooth"});return}g.scrollTop=w}}))}_getNewObserver(){const u={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(h=>this._observerCallback(h),u)}_observerCallback(u){const h=C=>this._targetLinks.get(`#${C.target.id}`),g=C=>{this._previousScrollData.visibleEntryTop=C.target.offsetTop,this._process(h(C))},w=(this._rootElement||document.documentElement).scrollTop,P=w>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=w;for(const C of u){if(!C.isIntersecting){this._activeTarget=null,this._clearActiveClass(h(C));continue}const V=C.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(P&&V){if(g(C),!w)return;continue}!P&&!V&&g(C)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const u=ue.find(I_,this._config.target);for(const h of u){if(!h.hash||I(h))continue;const g=ue.findOne(decodeURI(h.hash),this._element);b(g)&&(this._targetLinks.set(decodeURI(h.hash),h),this._observableSections.set(h.hash,g))}}_process(u){this._activeTarget!==u&&(this._clearActiveClass(this._config.target),this._activeTarget=u,u.classList.add(Ka),this._activateParents(u),L.trigger(this._element,$F,{relatedTarget:u}))}_activateParents(u){if(u.classList.contains(jF)){ue.findOne(HF,u.closest(qF)).classList.add(Ka);return}for(const h of ue.parents(u,zF))for(const g of ue.prev(h,WF))g.classList.add(Ka)}_clearActiveClass(u){u.classList.remove(Ka);const h=ue.find(`${I_}.${Ka}`,u);for(const g of h)g.classList.remove(Ka)}static jQueryInterface(u){return this.each(function(){const h=Mu.getOrCreateInstance(this,u);if(typeof u=="string"){if(h[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);h[u]()}})}}L.on(window,UF,()=>{for(const p of ue.find(BF))Mu.getOrCreateInstance(p)}),O(Mu);const YF="tab",mo=".bs.tab",QF=`hide${mo}`,XF=`hidden${mo}`,JF=`show${mo}`,ZF=`shown${mo}`,e2=`click${mo}`,t2=`keydown${mo}`,n2=`load${mo}`,r2="ArrowLeft",J0="ArrowRight",i2="ArrowUp",Z0="ArrowDown",b_="Home",eb="End",go="active",tb="fade",A_="show",s2="dropdown",nb=".dropdown-toggle",o2=".dropdown-menu",S_=`:not(${nb})`,a2='.list-group, .nav, [role="tablist"]',l2=".nav-item, .list-group-item",u2=`.nav-link${S_}, .list-group-item${S_}, [role="tab"]${S_}`,rb='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',P_=`${u2}, ${rb}`,c2=`.${go}[data-bs-toggle="tab"], .${go}[data-bs-toggle="pill"], .${go}[data-bs-toggle="list"]`;class _o extends Kn{constructor(u){super(u),this._parent=this._element.closest(a2),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),L.on(this._element,t2,h=>this._keydown(h)))}static get NAME(){return YF}show(){const u=this._element;if(this._elemIsActive(u))return;const h=this._getActiveElem(),g=h?L.trigger(h,QF,{relatedTarget:u}):null;L.trigger(u,JF,{relatedTarget:h}).defaultPrevented||g&&g.defaultPrevented||(this._deactivate(h,u),this._activate(u,h))}_activate(u,h){if(!u)return;u.classList.add(go),this._activate(ue.getElementFromSelector(u));const g=()=>{if(u.getAttribute("role")!=="tab"){u.classList.add(A_);return}u.removeAttribute("tabindex"),u.setAttribute("aria-selected",!0),this._toggleDropDown(u,!0),L.trigger(u,ZF,{relatedTarget:h})};this._queueCallback(g,u,u.classList.contains(tb))}_deactivate(u,h){if(!u)return;u.classList.remove(go),u.blur(),this._deactivate(ue.getElementFromSelector(u));const g=()=>{if(u.getAttribute("role")!=="tab"){u.classList.remove(A_);return}u.setAttribute("aria-selected",!1),u.setAttribute("tabindex","-1"),this._toggleDropDown(u,!1),L.trigger(u,XF,{relatedTarget:h})};this._queueCallback(g,u,u.classList.contains(tb))}_keydown(u){if(![r2,J0,i2,Z0,b_,eb].includes(u.key))return;u.stopPropagation(),u.preventDefault();const h=this._getChildren().filter(w=>!I(w));let g;if([b_,eb].includes(u.key))g=h[u.key===b_?0:h.length-1];else{const w=[J0,Z0].includes(u.key);g=Ce(h,u.target,w,!0)}g&&(g.focus({preventScroll:!0}),_o.getOrCreateInstance(g).show())}_getChildren(){return ue.find(P_,this._parent)}_getActiveElem(){return this._getChildren().find(u=>this._elemIsActive(u))||null}_setInitialAttributes(u,h){this._setAttributeIfNotExists(u,"role","tablist");for(const g of h)this._setInitialAttributesOnChild(g)}_setInitialAttributesOnChild(u){u=this._getInnerElement(u);const h=this._elemIsActive(u),g=this._getOuterElement(u);u.setAttribute("aria-selected",h),g!==u&&this._setAttributeIfNotExists(g,"role","presentation"),h||u.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(u,"role","tab"),this._setInitialAttributesOnTargetPanel(u)}_setInitialAttributesOnTargetPanel(u){const h=ue.getElementFromSelector(u);h&&(this._setAttributeIfNotExists(h,"role","tabpanel"),u.id&&this._setAttributeIfNotExists(h,"aria-labelledby",`${u.id}`))}_toggleDropDown(u,h){const g=this._getOuterElement(u);if(!g.classList.contains(s2))return;const w=(P,C)=>{const V=ue.findOne(P,g);V&&V.classList.toggle(C,h)};w(nb,go),w(o2,A_),g.setAttribute("aria-expanded",h)}_setAttributeIfNotExists(u,h,g){u.hasAttribute(h)||u.setAttribute(h,g)}_elemIsActive(u){return u.classList.contains(go)}_getInnerElement(u){return u.matches(P_)?u:ue.findOne(P_,u)}_getOuterElement(u){return u.closest(l2)||u}static jQueryInterface(u){return this.each(function(){const h=_o.getOrCreateInstance(this);if(typeof u=="string"){if(h[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);h[u]()}})}}L.on(document,e2,rb,function(p){["A","AREA"].includes(this.tagName)&&p.preventDefault(),!I(this)&&_o.getOrCreateInstance(this).show()}),L.on(window,n2,()=>{for(const p of ue.find(c2))_o.getOrCreateInstance(p)}),O(_o);const d2="toast",es=".bs.toast",h2=`mouseover${es}`,f2=`mouseout${es}`,p2=`focusin${es}`,m2=`focusout${es}`,g2=`hide${es}`,_2=`hidden${es}`,v2=`show${es}`,y2=`shown${es}`,E2="fade",ib="hide",Xh="show",Jh="showing",w2={animation:"boolean",autohide:"boolean",delay:"number"},T2={animation:!0,autohide:!0,delay:5e3};class Fu extends Kn{constructor(u,h){super(u,h),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return T2}static get DefaultType(){return w2}static get NAME(){return d2}show(){if(L.trigger(this._element,v2).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(E2);const h=()=>{this._element.classList.remove(Jh),L.trigger(this._element,y2),this._maybeScheduleHide()};this._element.classList.remove(ib),T(this._element),this._element.classList.add(Xh,Jh),this._queueCallback(h,this._element,this._config.animation)}hide(){if(!this.isShown()||L.trigger(this._element,g2).defaultPrevented)return;const h=()=>{this._element.classList.add(ib),this._element.classList.remove(Jh,Xh),L.trigger(this._element,_2)};this._element.classList.add(Jh),this._queueCallback(h,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Xh),super.dispose()}isShown(){return this._element.classList.contains(Xh)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(u,h){switch(u.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=h;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=h;break}}if(h){this._clearTimeout();return}const g=u.relatedTarget;this._element===g||this._element.contains(g)||this._maybeScheduleHide()}_setListeners(){L.on(this._element,h2,u=>this._onInteraction(u,!0)),L.on(this._element,f2,u=>this._onInteraction(u,!1)),L.on(this._element,p2,u=>this._onInteraction(u,!0)),L.on(this._element,m2,u=>this._onInteraction(u,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(u){return this.each(function(){const h=Fu.getOrCreateInstance(this,u);if(typeof u=="string"){if(typeof h[u]>"u")throw new TypeError(`No method named "${u}"`);h[u](this)}})}}return Na(Fu),O(Fu),{Alert:oo,Button:Yi,Carousel:Va,Collapse:Fa,Dropdown:Rr,Modal:fo,Offcanvas:Ei,Popover:Qh,ScrollSpy:Mu,Tab:_o,Toast:Fu,Tooltip:po}})})(Z7);function Dd(t){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dd(t)}function eG(t,e){if(Dd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Dd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tG(t){var e=eG(t,"string");return Dd(e)==="symbol"?e:String(e)}function nG(t,e,n){return e=tG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function W1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z1(Object(n),!0).forEach(function(r){nG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pn(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var q1=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Ev=function(){return Math.random().toString(36).substring(7).split("").join(".")},hm={INIT:"@@redux/INIT"+Ev(),REPLACE:"@@redux/REPLACE"+Ev(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Ev()}};function rG(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function JO(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(pn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(pn(1));return n(JO)(t,e)}if(typeof t!="function")throw new Error(pn(2));var i=t,s=e,o=[],a=o,l=!1;function c(){a===o&&(a=o.slice())}function d(){if(l)throw new Error(pn(3));return s}function f(I){if(typeof I!="function")throw new Error(pn(4));if(l)throw new Error(pn(5));var _=!0;return c(),a.push(I),function(){if(_){if(l)throw new Error(pn(6));_=!1,c();var T=a.indexOf(I);a.splice(T,1),o=null}}}function m(I){if(!rG(I))throw new Error(pn(7));if(typeof I.type>"u")throw new Error(pn(8));if(l)throw new Error(pn(9));try{l=!0,s=i(s,I)}finally{l=!1}for(var _=o=a,y=0;y<_.length;y++){var T=_[y];T()}return I}function v(I){if(typeof I!="function")throw new Error(pn(10));i=I,m({type:hm.REPLACE})}function b(){var I,_=f;return I={subscribe:function(T){if(typeof T!="object"||T===null)throw new Error(pn(11));function A(){T.next&&T.next(d())}A();var E=_(A);return{unsubscribe:E}}},I[q1]=function(){return this},I}return m({type:hm.INIT}),r={dispatch:m,subscribe:f,getState:d,replaceReducer:v},r[q1]=b,r}function iG(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:hm.INIT});if(typeof r>"u")throw new Error(pn(12));if(typeof n(void 0,{type:hm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(pn(13))})}function sG(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var s=Object.keys(n),o;try{iG(n)}catch(a){o=a}return function(l,c){if(l===void 0&&(l={}),o)throw o;for(var d=!1,f={},m=0;m<s.length;m++){var v=s[m],b=n[v],I=l[v],_=b(I,c);if(typeof _>"u")throw c&&c.type,new Error(pn(14));f[v]=_,d=d||_!==I}return d=d||s.length!==Object.keys(l).length,d?f:l}}function hE(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function oG(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(pn(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=e.map(function(l){return l(o)});return s=hE.apply(void 0,a)(i.dispatch),W1(W1({},i),{},{dispatch:s})}}}function ZO(t){var e=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,t):o(a)}}};return e}var eL=ZO();eL.withExtraArgument=ZO;const aG=eL;function lG(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e.length!==0)return typeof e[0]=="object"?hE:hE(...e)}const uG=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:lG,cG={isAuthenticated:!1,user:{}},dG=(t=cG,e)=>{switch(e.type){case gk:return{...t,isAuthenticated:!0,user:e.payload};case _k:return{...t,isAuthenticated:!1,user:{}};default:return t}},tL="CREATE_FOLDER",hG={isLoading:!1,currentFolder:"root",userFolders:[],userFiles:[],adminFolders:[],adminFiles:[]},fG=(t=hG,e)=>{switch(e.type){case tL:return{...t,userFolders:[...t.userFolders,e.payload]};default:return t}},pG=sG({auth:dG,filefolders:fG}),mG=JO(pG,uG(oG(aG))),gG=()=>{const[t,e]=_n.useState(""),[n,r]=_n.useState(""),[i,s]=_n.useState(!1),o=lu(),a=Dm(),l=c=>{if(c.preventDefault(),!t||!n){alert("Please fill form correct");return}o(Y7(t,n,s))};return _n.useEffect(()=>{i&&a("/react-firebase/dashboard")},[i]),M.jsxs("form",{onSubmit:l,children:[M.jsx("div",{className:"form-group my-2",children:M.jsx("input",{type:"email",name:"email",className:"form-control",placeholder:"Email",value:t,onChange:c=>e(c.target.value)})}),M.jsx("div",{className:"form-group my-2",children:M.jsx("input",{type:"password",name:"password",className:"form-control",placeholder:"password",value:n,onChange:c=>r(c.target.value)})}),M.jsx("button",{type:"submit",className:"btn btn-primary my-2 form-control",children:"Login"})]})};function _G(){return M.jsxs("div",{className:"container-fluid",children:[M.jsx("h1",{className:"display-1 my-5 text-center",children:"Login here"}),M.jsx("div",{className:"row",children:M.jsxs("div",{className:"col-md-5 mx-auto mt-5",children:[M.jsx(gG,{}),M.jsx(ti,{to:"/react-firebase/register",children:"Don't have an account? Register"})]})})]})}const vG=()=>{const[t,e]=_n.useState(""),[n,r]=_n.useState(""),[i,s]=_n.useState(""),[o,a]=_n.useState(""),[l,c]=_n.useState(!1),d=lu(),f=Dm(),m=v=>{if(v.preventDefault(),!n||!i||!o||!t){alert("Please fill form correct");return}if(i!==o){alert("I ncorrect password");return}d(Q7(t,n,i,c))};return _n.useEffect(()=>{l&&f("/react-firebase/dashboard")},[l]),M.jsxs("form",{onSubmit:m,children:[M.jsx("div",{className:"form-group my-2",children:M.jsx("input",{type:"name",name:"name",className:"form-control",placeholder:"Name",value:t,onChange:v=>e(v.target.value)})}),M.jsx("div",{className:"form-group my-2",children:M.jsx("input",{type:"email",name:"email",className:"form-control",placeholder:"Email",value:n,onChange:v=>r(v.target.value)})}),M.jsx("div",{className:"form-group my-2",children:M.jsx("input",{type:"password",name:"password",className:"form-control",placeholder:"password",value:i,onChange:v=>s(v.target.value)})}),M.jsx("div",{className:"form-group my-2",children:M.jsx("input",{type:"password",name:"passwordConfirm",className:"form-control",placeholder:"Re-type password",value:o,onChange:v=>a(v.target.value)})}),M.jsx("button",{type:"submit",className:"btn btn-primary my-2 form-control",children:"Register"})]})};function yG(){return M.jsxs("div",{className:"container-fluid",children:[M.jsx("h1",{className:"display-1 my-5 text-center",children:"Register here"}),M.jsx("div",{className:"row",children:M.jsxs("div",{className:"col-md-5 mx-auto mt-5",children:[M.jsx(vG,{}),M.jsx(ti,{to:"/react-firebase/login",children:"Already have an account? Login"})]})})]})}const EG=()=>{const{isAuthenticated:t,user:e}=Hm(r=>r.auth),n=lu();return M.jsxs("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark p-3 ",children:[M.jsx(ti,{to:"/react-firebase/",className:"navbar-brand ms-5 text-white",children:"React Firebase - File Manager"}),M.jsx("ul",{className:"navbar-nav ms-auto me-5",children:t?M.jsxs(M.Fragment,{children:[M.jsx("li",{className:"nav-item mx-2",children:M.jsxs("p",{className:"my-0 mt-1 mx-2",children:[M.jsx("span",{className:"text-light mx-1",children:"Welcome,"}),M.jsx("span",{className:"fw-bold text-warning",children:e.displayName})]})}),M.jsx("li",{className:"nav-item mx-2",children:M.jsx(ti,{to:"/react-firebase/dashboard",className:"btn btn-primary btn-sm",children:"Dashboard"})}),M.jsx("li",{className:"nav-item",children:M.jsx("button",{to:"/react-firebase/logout",className:"btn btn-success btn-sm",onClick:()=>n(XO()),children:"Logout"})})]}):M.jsxs(M.Fragment,{children:[M.jsx("li",{className:"nav-item mx-2",children:M.jsx(ti,{to:"/react-firebase/login",className:"btn btn-primary btn-sm ",children:"Login"})}),M.jsx("li",{className:"nav-item",children:M.jsx(ti,{to:"/react-firebase/register",className:"btn btn-success btn-sm",children:"Register"})})]})})]})},wG=()=>M.jsxs(M.Fragment,{children:[M.jsx(EG,{}),M.jsx("h1",{className:"display-1 my-5 text-center ",children:"REACT FILE MANAGE HERE"})]});var TG={prefix:"fas",iconName:"file-lines",icon:[384,512,[128441,128462,61686,"file-alt","file-text"],"f15c","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM112 256H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"]},IG=TG,bG={prefix:"fas",iconName:"folder-plus",icon:[512,512,[],"f65e","M512 416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96C0 60.7 28.7 32 64 32H192c20.1 0 39.1 9.5 51.2 25.6l19.2 25.6c6 8.1 15.5 12.8 25.6 12.8H448c35.3 0 64 28.7 64 64V416zM232 376c0 13.3 10.7 24 24 24s24-10.7 24-24V312h64c13.3 0 24-10.7 24-24s-10.7-24-24-24H280V200c0-13.3-10.7-24-24-24s-24 10.7-24 24v64H168c-13.3 0-24 10.7-24 24s10.7 24 24 24h64v64z"]},AG={prefix:"fas",iconName:"upload",icon:[512,512,[],"f093","M288 109.3V352c0 17.7-14.3 32-32 32s-32-14.3-32-32V109.3l-73.4 73.4c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l128-128c12.5-12.5 32.8-12.5 45.3 0l128 128c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L288 109.3zM64 352H192c0 35.3 28.7 64 64 64s64-28.7 64-64H448c35.3 0 64 28.7 64 64v32c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V416c0-35.3 28.7-64 64-64zM432 456a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"]},SG={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},PG=SG;function H1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H1(Object(n),!0).forEach(function(r){Mt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fm(t){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fm(t)}function RG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function CG(t,e,n){return e&&K1(t.prototype,e),n&&K1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RI(t,e){return xG(t)||DG(t,e)||nL(t,e)||LG()}function kh(t){return kG(t)||NG(t)||nL(t)||OG()}function kG(t){if(Array.isArray(t))return fE(t)}function xG(t){if(Array.isArray(t))return t}function NG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function DG(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function nL(t,e){if(t){if(typeof t=="string")return fE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fE(t,e)}}function fE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function OG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var G1=function(){},CI={},rL={},iL=null,sL={mark:G1,measure:G1};try{typeof window<"u"&&(CI=window),typeof document<"u"&&(rL=document),typeof MutationObserver<"u"&&(iL=MutationObserver),typeof performance<"u"&&(sL=performance)}catch{}var VG=CI.navigator||{},Y1=VG.userAgent,Q1=Y1===void 0?"":Y1,qs=CI,st=rL,X1=iL,Pf=sL;qs.document;var Gi=!!st.documentElement&&!!st.head&&typeof st.addEventListener=="function"&&typeof st.createElement=="function",oL=~Q1.indexOf("MSIE")||~Q1.indexOf("Trident/"),Rf,Cf,kf,xf,Nf,Fi="___FONT_AWESOME___",pE=16,aL="fa",lL="svg-inline--fa",wa="data-fa-i2svg",mE="data-fa-pseudo-element",MG="data-fa-pseudo-element-pending",kI="data-prefix",xI="data-icon",J1="fontawesome-i2svg",FG="async",$G=["HTML","HEAD","STYLE","SCRIPT"],uL=function(){try{return!0}catch{return!1}}(),nt="classic",yt="sharp",NI=[nt,yt];function xh(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[nt]}})}var Od=xh((Rf={},Mt(Rf,nt,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit",fakd:"kit","fa-kit":"kit","fa-kit-duotone":"kit"}),Mt(Rf,yt,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"}),Rf)),Ld=xh((Cf={},Mt(Cf,nt,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),Mt(Cf,yt,{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"}),Cf)),Vd=xh((kf={},Mt(kf,nt,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),Mt(kf,yt,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"}),kf)),UG=xh((xf={},Mt(xf,nt,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),Mt(xf,yt,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"}),xf)),jG=/fa(s|r|l|t|d|b|k|ss|sr|sl|st)?[\-\ ]/,cL="fa-layers-text",BG=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,zG=xh((Nf={},Mt(Nf,nt,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),Mt(Nf,yt,{900:"fass",400:"fasr",300:"fasl",100:"fast"}),Nf)),dL=[1,2,3,4,5,6,7,8,9,10],WG=dL.concat([11,12,13,14,15,16,17,18,19,20]),qG=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Wo={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Md=new Set;Object.keys(Ld[nt]).map(Md.add.bind(Md));Object.keys(Ld[yt]).map(Md.add.bind(Md));var HG=[].concat(NI,kh(Md),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Wo.GROUP,Wo.SWAP_OPACITY,Wo.PRIMARY,Wo.SECONDARY]).concat(dL.map(function(t){return"".concat(t,"x")})).concat(WG.map(function(t){return"w-".concat(t)})),jc=qs.FontAwesomeConfig||{};function KG(t){var e=st.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function GG(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}if(st&&typeof st.querySelector=="function"){var YG=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];YG.forEach(function(t){var e=RI(t,2),n=e[0],r=e[1],i=GG(KG(n));i!=null&&(jc[r]=i)})}var hL={styleDefault:"solid",familyDefault:"classic",cssPrefix:aL,replacementClass:lL,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};jc.familyPrefix&&(jc.cssPrefix=jc.familyPrefix);var tu=ee(ee({},hL),jc);tu.autoReplaceSvg||(tu.observeMutations=!1);var re={};Object.keys(hL).forEach(function(t){Object.defineProperty(re,t,{enumerable:!0,set:function(n){tu[t]=n,Bc.forEach(function(r){return r(re)})},get:function(){return tu[t]}})});Object.defineProperty(re,"familyPrefix",{enumerable:!0,set:function(e){tu.cssPrefix=e,Bc.forEach(function(n){return n(re)})},get:function(){return tu.cssPrefix}});qs.FontAwesomeConfig=re;var Bc=[];function QG(t){return Bc.push(t),function(){Bc.splice(Bc.indexOf(t),1)}}var os=pE,ai={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function XG(t){if(!(!t||!Gi)){var e=st.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=st.head.childNodes,r=null,i=n.length-1;i>-1;i--){var s=n[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}return st.head.insertBefore(e,r),t}}var JG="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Fd(){for(var t=12,e="";t-- >0;)e+=JG[Math.random()*62|0];return e}function Au(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function DI(t){return t.classList?Au(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function fL(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ZG(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(fL(t[n]),'" ')},"").trim()}function Bg(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function OI(t){return t.size!==ai.size||t.x!==ai.x||t.y!==ai.y||t.rotate!==ai.rotate||t.flipX||t.flipY}function e8(t){var e=t.transform,n=t.containerWidth,r=t.iconWidth,i={transform:"translate(".concat(n/2," 256)")},s="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)"),l={transform:"".concat(s," ").concat(o," ").concat(a)},c={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:l,path:c}}function t8(t){var e=t.transform,n=t.width,r=n===void 0?pE:n,i=t.height,s=i===void 0?pE:i,o=t.startCentered,a=o===void 0?!1:o,l="";return a&&oL?l+="translate(".concat(e.x/os-r/2,"em, ").concat(e.y/os-s/2,"em) "):a?l+="translate(calc(-50% + ".concat(e.x/os,"em), calc(-50% + ").concat(e.y/os,"em)) "):l+="translate(".concat(e.x/os,"em, ").concat(e.y/os,"em) "),l+="scale(".concat(e.size/os*(e.flipX?-1:1),", ").concat(e.size/os*(e.flipY?-1:1),") "),l+="rotate(".concat(e.rotate,"deg) "),l}var n8=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    -webkit-transition-delay: 0s;
            transition-delay: 0s;
    -webkit-transition-duration: 0s;
            transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, none));
          transform: rotate(var(--fa-rotate-angle, none));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function pL(){var t=aL,e=lL,n=re.cssPrefix,r=re.replacementClass,i=n8;if(n!==t||r!==e){var s=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(r))}return i}var Z1=!1;function wv(){re.autoAddCss&&!Z1&&(XG(pL()),Z1=!0)}var r8={mixout:function(){return{dom:{css:pL,insertCss:wv}}},hooks:function(){return{beforeDOMElementCreation:function(){wv()},beforeI2svg:function(){wv()}}}},$i=qs||{};$i[Fi]||($i[Fi]={});$i[Fi].styles||($i[Fi].styles={});$i[Fi].hooks||($i[Fi].hooks={});$i[Fi].shims||($i[Fi].shims=[]);var Lr=$i[Fi],mL=[],i8=function t(){st.removeEventListener("DOMContentLoaded",t),pm=1,mL.map(function(e){return e()})},pm=!1;Gi&&(pm=(st.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(st.readyState),pm||st.addEventListener("DOMContentLoaded",i8));function s8(t){Gi&&(pm?setTimeout(t,0):mL.push(t))}function Nh(t){var e=t.tag,n=t.attributes,r=n===void 0?{}:n,i=t.children,s=i===void 0?[]:i;return typeof t=="string"?fL(t):"<".concat(e," ").concat(ZG(r),">").concat(s.map(Nh).join(""),"</").concat(e,">")}function eP(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var o8=function(e,n){return function(r,i,s,o){return e.call(n,r,i,s,o)}},Tv=function(e,n,r,i){var s=Object.keys(e),o=s.length,a=i!==void 0?o8(n,i):n,l,c,d;for(r===void 0?(l=1,d=e[s[0]]):(l=0,d=r);l<o;l++)c=s[l],d=a(d,e[c],c,e);return d};function a8(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);(s&64512)==56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}function gE(t){var e=a8(t);return e.length===1?e[0].toString(16):null}function l8(t,e){var n=t.length,r=t.charCodeAt(e),i;return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function tP(t){return Object.keys(t).reduce(function(e,n){var r=t[n],i=!!r.icon;return i?e[r.iconName]=r.icon:e[n]=r,e},{})}function _E(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.skipHooks,i=r===void 0?!1:r,s=tP(e);typeof Lr.hooks.addPack=="function"&&!i?Lr.hooks.addPack(t,tP(e)):Lr.styles[t]=ee(ee({},Lr.styles[t]||{}),s),t==="fas"&&_E("fa",e)}var Df,Of,Lf,gl=Lr.styles,u8=Lr.shims,c8=(Df={},Mt(Df,nt,Object.values(Vd[nt])),Mt(Df,yt,Object.values(Vd[yt])),Df),LI=null,gL={},_L={},vL={},yL={},EL={},d8=(Of={},Mt(Of,nt,Object.keys(Od[nt])),Mt(Of,yt,Object.keys(Od[yt])),Of);function h8(t){return~HG.indexOf(t)}function f8(t,e){var n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r===t&&i!==""&&!h8(i)?i:null}var wL=function(){var e=function(s){return Tv(gl,function(o,a,l){return o[l]=Tv(a,s,{}),o},{})};gL=e(function(i,s,o){if(s[3]&&(i[s[3]]=o),s[2]){var a=s[2].filter(function(l){return typeof l=="number"});a.forEach(function(l){i[l.toString(16)]=o})}return i}),_L=e(function(i,s,o){if(i[o]=o,s[2]){var a=s[2].filter(function(l){return typeof l=="string"});a.forEach(function(l){i[l]=o})}return i}),EL=e(function(i,s,o){var a=s[2];return i[o]=o,a.forEach(function(l){i[l]=o}),i});var n="far"in gl||re.autoFetchSvg,r=Tv(u8,function(i,s){var o=s[0],a=s[1],l=s[2];return a==="far"&&!n&&(a="fas"),typeof o=="string"&&(i.names[o]={prefix:a,iconName:l}),typeof o=="number"&&(i.unicodes[o.toString(16)]={prefix:a,iconName:l}),i},{names:{},unicodes:{}});vL=r.names,yL=r.unicodes,LI=zg(re.styleDefault,{family:re.familyDefault})};QG(function(t){LI=zg(t.styleDefault,{family:re.familyDefault})});wL();function VI(t,e){return(gL[t]||{})[e]}function p8(t,e){return(_L[t]||{})[e]}function qo(t,e){return(EL[t]||{})[e]}function TL(t){return vL[t]||{prefix:null,iconName:null}}function m8(t){var e=yL[t],n=VI("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function Hs(){return LI}var MI=function(){return{prefix:null,iconName:null,rest:[]}};function zg(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.family,r=n===void 0?nt:n,i=Od[r][t],s=Ld[r][t]||Ld[r][i],o=t in Lr.styles?t:null;return s||o||null}var nP=(Lf={},Mt(Lf,nt,Object.keys(Vd[nt])),Mt(Lf,yt,Object.keys(Vd[yt])),Lf);function Wg(t){var e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.skipLookups,i=r===void 0?!1:r,s=(e={},Mt(e,nt,"".concat(re.cssPrefix,"-").concat(nt)),Mt(e,yt,"".concat(re.cssPrefix,"-").concat(yt)),e),o=null,a=nt;(t.includes(s[nt])||t.some(function(c){return nP[nt].includes(c)}))&&(a=nt),(t.includes(s[yt])||t.some(function(c){return nP[yt].includes(c)}))&&(a=yt);var l=t.reduce(function(c,d){var f=f8(re.cssPrefix,d);if(gl[d]?(d=c8[a].includes(d)?UG[a][d]:d,o=d,c.prefix=d):d8[a].indexOf(d)>-1?(o=d,c.prefix=zg(d,{family:a})):f?c.iconName=f:d!==re.replacementClass&&d!==s[nt]&&d!==s[yt]&&c.rest.push(d),!i&&c.prefix&&c.iconName){var m=o==="fa"?TL(c.iconName):{},v=qo(c.prefix,c.iconName);m.prefix&&(o=null),c.iconName=m.iconName||v||c.iconName,c.prefix=m.prefix||c.prefix,c.prefix==="far"&&!gl.far&&gl.fas&&!re.autoFetchSvg&&(c.prefix="fas")}return c},MI());return(t.includes("fa-brands")||t.includes("fab"))&&(l.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(l.prefix="fad"),!l.prefix&&a===yt&&(gl.fass||re.autoFetchSvg)&&(l.prefix="fass",l.iconName=qo(l.prefix,l.iconName)||l.iconName),(l.prefix==="fa"||o==="fa")&&(l.prefix=Hs()||"fas"),l}var g8=function(){function t(){RG(this,t),this.definitions={}}return CG(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(a){n.definitions[a]=ee(ee({},n.definitions[a]||{}),o[a]),_E(a,o[a]);var l=Vd[nt][a];l&&_E(l,o[a]),wL()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(s){var o=i[s],a=o.prefix,l=o.iconName,c=o.icon,d=c[2];n[a]||(n[a]={}),d.length>0&&d.forEach(function(f){typeof f=="string"&&(n[a][f]=c)}),n[a][l]=c}),n}}]),t}(),rP=[],_l={},Dl={},_8=Object.keys(Dl);function v8(t,e){var n=e.mixoutsTo;return rP=t,_l={},Object.keys(Dl).forEach(function(r){_8.indexOf(r)===-1&&delete Dl[r]}),rP.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(o){typeof i[o]=="function"&&(n[o]=i[o]),fm(i[o])==="object"&&Object.keys(i[o]).forEach(function(a){n[o]||(n[o]={}),n[o][a]=i[o][a]})}),r.hooks){var s=r.hooks();Object.keys(s).forEach(function(o){_l[o]||(_l[o]=[]),_l[o].push(s[o])})}r.provides&&r.provides(Dl)}),n}function vE(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=_l[t]||[];return s.forEach(function(o){e=o.apply(null,[e].concat(r))}),e}function Ta(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=_l[t]||[];i.forEach(function(s){s.apply(null,n)})}function Ui(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Dl[t]?Dl[t].apply(null,e):void 0}function yE(t){t.prefix==="fa"&&(t.prefix="fas");var e=t.iconName,n=t.prefix||Hs();if(e)return e=qo(n,e)||e,eP(IL.definitions,n,e)||eP(Lr.styles,n,e)}var IL=new g8,y8=function(){re.autoReplaceSvg=!1,re.observeMutations=!1,Ta("noAuto")},E8={i2svg:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Gi?(Ta("beforeI2svg",e),Ui("pseudoElements2svg",e),Ui("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot;re.autoReplaceSvg===!1&&(re.autoReplaceSvg=!0),re.observeMutations=!0,s8(function(){T8({autoReplaceSvgRoot:n}),Ta("watch",e)})}},w8={icon:function(e){if(e===null)return null;if(fm(e)==="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:qo(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){var n=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],r=zg(e[0]);return{prefix:r,iconName:qo(r,n)||n}}if(typeof e=="string"&&(e.indexOf("".concat(re.cssPrefix,"-"))>-1||e.match(jG))){var i=Wg(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||Hs(),iconName:qo(i.prefix,i.iconName)||i.iconName}}if(typeof e=="string"){var s=Hs();return{prefix:s,iconName:qo(s,e)||e}}}},ur={noAuto:y8,config:re,dom:E8,parse:w8,library:IL,findIconDefinition:yE,toHtml:Nh},T8=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot,r=n===void 0?st:n;(Object.keys(Lr.styles).length>0||re.autoFetchSvg)&&Gi&&re.autoReplaceSvg&&ur.dom.i2svg({node:r})};function qg(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return Nh(r)})}}),Object.defineProperty(t,"node",{get:function(){if(Gi){var r=st.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function I8(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,s=t.styles,o=t.transform;if(OI(o)&&n.found&&!r.found){var a=n.width,l=n.height,c={x:a/l/2,y:.5};i.style=Bg(ee(ee({},s),{},{"transform-origin":"".concat(c.x+o.x/16,"em ").concat(c.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}function b8(t){var e=t.prefix,n=t.iconName,r=t.children,i=t.attributes,s=t.symbol,o=s===!0?"".concat(e,"-").concat(re.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ee(ee({},i),{},{id:o}),children:r}]}]}function FI(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,s=t.iconName,o=t.transform,a=t.symbol,l=t.title,c=t.maskId,d=t.titleId,f=t.extra,m=t.watchable,v=m===void 0?!1:m,b=r.found?r:n,I=b.width,_=b.height,y=i==="fak",T=[re.replacementClass,s?"".concat(re.cssPrefix,"-").concat(s):""].filter(function(H){return f.classes.indexOf(H)===-1}).filter(function(H){return H!==""||!!H}).concat(f.classes).join(" "),A={children:[],attributes:ee(ee({},f.attributes),{},{"data-prefix":i,"data-icon":s,class:T,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(I," ").concat(_)})},E=y&&!~f.classes.indexOf("fa-fw")?{width:"".concat(I/_*16*.0625,"em")}:{};v&&(A.attributes[wa]=""),l&&(A.children.push({tag:"title",attributes:{id:A.attributes["aria-labelledby"]||"title-".concat(d||Fd())},children:[l]}),delete A.attributes.title);var x=ee(ee({},A),{},{prefix:i,iconName:s,main:n,mask:r,maskId:c,transform:o,symbol:a,styles:ee(ee({},E),f.styles)}),D=r.found&&n.found?Ui("generateAbstractMask",x)||{children:[],attributes:{}}:Ui("generateAbstractIcon",x)||{children:[],attributes:{}},O=D.children,G=D.attributes;return x.children=O,x.attributes=G,a?b8(x):I8(x)}function iP(t){var e=t.content,n=t.width,r=t.height,i=t.transform,s=t.title,o=t.extra,a=t.watchable,l=a===void 0?!1:a,c=ee(ee(ee({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});l&&(c[wa]="");var d=ee({},o.styles);OI(i)&&(d.transform=t8({transform:i,startCentered:!0,width:n,height:r}),d["-webkit-transform"]=d.transform);var f=Bg(d);f.length>0&&(c.style=f);var m=[];return m.push({tag:"span",attributes:c,children:[e]}),s&&m.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),m}function A8(t){var e=t.content,n=t.title,r=t.extra,i=ee(ee(ee({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=Bg(r.styles);s.length>0&&(i.style=s);var o=[];return o.push({tag:"span",attributes:i,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}var Iv=Lr.styles;function EE(t){var e=t[0],n=t[1],r=t.slice(4),i=RI(r,1),s=i[0],o=null;return Array.isArray(s)?o={tag:"g",attributes:{class:"".concat(re.cssPrefix,"-").concat(Wo.GROUP)},children:[{tag:"path",attributes:{class:"".concat(re.cssPrefix,"-").concat(Wo.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(re.cssPrefix,"-").concat(Wo.PRIMARY),fill:"currentColor",d:s[1]}}]}:o={tag:"path",attributes:{fill:"currentColor",d:s}},{found:!0,width:e,height:n,icon:o}}var S8={found:!1,width:512,height:512};function P8(t,e){!uL&&!re.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function wE(t,e){var n=e;return e==="fa"&&re.styleDefault!==null&&(e=Hs()),new Promise(function(r,i){if(Ui("missingIconAbstract"),n==="fa"){var s=TL(t)||{};t=s.iconName||t,e=s.prefix||e}if(t&&e&&Iv[e]&&Iv[e][t]){var o=Iv[e][t];return r(EE(o))}P8(t,e),r(ee(ee({},S8),{},{icon:re.showMissingIcons&&t?Ui("missingIconAbstract")||{}:{}}))})}var sP=function(){},TE=re.measurePerformance&&Pf&&Pf.mark&&Pf.measure?Pf:{mark:sP,measure:sP},Ec='FA "6.5.1"',R8=function(e){return TE.mark("".concat(Ec," ").concat(e," begins")),function(){return bL(e)}},bL=function(e){TE.mark("".concat(Ec," ").concat(e," ends")),TE.measure("".concat(Ec," ").concat(e),"".concat(Ec," ").concat(e," begins"),"".concat(Ec," ").concat(e," ends"))},$I={begin:R8,end:bL},up=function(){};function oP(t){var e=t.getAttribute?t.getAttribute(wa):null;return typeof e=="string"}function C8(t){var e=t.getAttribute?t.getAttribute(kI):null,n=t.getAttribute?t.getAttribute(xI):null;return e&&n}function k8(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(re.replacementClass)}function x8(){if(re.autoReplaceSvg===!0)return cp.replace;var t=cp[re.autoReplaceSvg];return t||cp.replace}function N8(t){return st.createElementNS("http://www.w3.org/2000/svg",t)}function D8(t){return st.createElement(t)}function AL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.ceFn,r=n===void 0?t.tag==="svg"?N8:D8:n;if(typeof t=="string")return st.createTextNode(t);var i=r(t.tag);Object.keys(t.attributes||[]).forEach(function(o){i.setAttribute(o,t.attributes[o])});var s=t.children||[];return s.forEach(function(o){i.appendChild(AL(o,{ceFn:r}))}),i}function O8(t){var e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var cp={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(i){n.parentNode.insertBefore(AL(i),n)}),n.getAttribute(wa)===null&&re.keepOriginalSource){var r=st.createComment(O8(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~DI(n).indexOf(re.replacementClass))return cp.replace(e);var i=new RegExp("".concat(re.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var s=r[0].attributes.class.split(" ").reduce(function(a,l){return l===re.replacementClass||l.match(i)?a.toSvg.push(l):a.toNode.push(l),a},{toNode:[],toSvg:[]});r[0].attributes.class=s.toSvg.join(" "),s.toNode.length===0?n.removeAttribute("class"):n.setAttribute("class",s.toNode.join(" "))}var o=r.map(function(a){return Nh(a)}).join(`
`);n.setAttribute(wa,""),n.innerHTML=o}};function aP(t){t()}function SL(t,e){var n=typeof e=="function"?e:up;if(t.length===0)n();else{var r=aP;re.mutateApproach===FG&&(r=qs.requestAnimationFrame||aP),r(function(){var i=x8(),s=$I.begin("mutate");t.map(i),s(),n()})}}var UI=!1;function PL(){UI=!0}function IE(){UI=!1}var mm=null;function lP(t){if(X1&&re.observeMutations){var e=t.treeCallback,n=e===void 0?up:e,r=t.nodeCallback,i=r===void 0?up:r,s=t.pseudoElementsCallback,o=s===void 0?up:s,a=t.observeMutationsRoot,l=a===void 0?st:a;mm=new X1(function(c){if(!UI){var d=Hs();Au(c).forEach(function(f){if(f.type==="childList"&&f.addedNodes.length>0&&!oP(f.addedNodes[0])&&(re.searchPseudoElements&&o(f.target),n(f.target)),f.type==="attributes"&&f.target.parentNode&&re.searchPseudoElements&&o(f.target.parentNode),f.type==="attributes"&&oP(f.target)&&~qG.indexOf(f.attributeName))if(f.attributeName==="class"&&C8(f.target)){var m=Wg(DI(f.target)),v=m.prefix,b=m.iconName;f.target.setAttribute(kI,v||d),b&&f.target.setAttribute(xI,b)}else k8(f.target)&&i(f.target)})}}),Gi&&mm.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function L8(){mm&&mm.disconnect()}function V8(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,i){var s=i.split(":"),o=s[0],a=s.slice(1);return o&&a.length>0&&(r[o]=a.join(":").trim()),r},{})),n}function M8(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"",i=Wg(DI(t));return i.prefix||(i.prefix=Hs()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=p8(i.prefix,t.innerText)||VI(i.prefix,gE(t.innerText))),!i.iconName&&re.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}function F8(t){var e=Au(t.attributes).reduce(function(i,s){return i.name!=="class"&&i.name!=="style"&&(i[s.name]=s.value),i},{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return re.autoA11y&&(n?e["aria-labelledby"]="".concat(re.replacementClass,"-title-").concat(r||Fd()):(e["aria-hidden"]="true",e.focusable="false")),e}function $8(){return{iconName:null,title:null,titleId:null,prefix:null,transform:ai,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function uP(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},n=M8(t),r=n.iconName,i=n.prefix,s=n.rest,o=F8(t),a=vE("parseNodeAttributes",{},t),l=e.styleParser?V8(t):[];return ee({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:i,transform:ai,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:l,attributes:o}},a)}var U8=Lr.styles;function RL(t){var e=re.autoReplaceSvg==="nest"?uP(t,{styleParser:!1}):uP(t);return~e.extra.classes.indexOf(cL)?Ui("generateLayersText",t,e):Ui("generateSvgReplacementMutation",t,e)}var Ks=new Set;NI.map(function(t){Ks.add("fa-".concat(t))});Object.keys(Od[nt]).map(Ks.add.bind(Ks));Object.keys(Od[yt]).map(Ks.add.bind(Ks));Ks=kh(Ks);function cP(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Gi)return Promise.resolve();var n=st.documentElement.classList,r=function(f){return n.add("".concat(J1,"-").concat(f))},i=function(f){return n.remove("".concat(J1,"-").concat(f))},s=re.autoFetchSvg?Ks:NI.map(function(d){return"fa-".concat(d)}).concat(Object.keys(U8));s.includes("fa")||s.push("fa");var o=[".".concat(cL,":not([").concat(wa,"])")].concat(s.map(function(d){return".".concat(d,":not([").concat(wa,"])")})).join(", ");if(o.length===0)return Promise.resolve();var a=[];try{a=Au(t.querySelectorAll(o))}catch{}if(a.length>0)r("pending"),i("complete");else return Promise.resolve();var l=$I.begin("onTree"),c=a.reduce(function(d,f){try{var m=RL(f);m&&d.push(m)}catch(v){uL||v.name==="MissingIcon"&&console.error(v)}return d},[]);return new Promise(function(d,f){Promise.all(c).then(function(m){SL(m,function(){r("active"),r("complete"),i("pending"),typeof e=="function"&&e(),l(),d()})}).catch(function(m){l(),f(m)})})}function j8(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;RL(t).then(function(n){n&&SL([n],e)})}function B8(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=(e||{}).icon?e:yE(e||{}),i=n.mask;return i&&(i=(i||{}).icon?i:yE(i||{})),t(r,ee(ee({},n),{},{mask:i}))}}var z8=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.transform,i=r===void 0?ai:r,s=n.symbol,o=s===void 0?!1:s,a=n.mask,l=a===void 0?null:a,c=n.maskId,d=c===void 0?null:c,f=n.title,m=f===void 0?null:f,v=n.titleId,b=v===void 0?null:v,I=n.classes,_=I===void 0?[]:I,y=n.attributes,T=y===void 0?{}:y,A=n.styles,E=A===void 0?{}:A;if(e){var x=e.prefix,D=e.iconName,O=e.icon;return qg(ee({type:"icon"},e),function(){return Ta("beforeDOMElementCreation",{iconDefinition:e,params:n}),re.autoA11y&&(m?T["aria-labelledby"]="".concat(re.replacementClass,"-title-").concat(b||Fd()):(T["aria-hidden"]="true",T.focusable="false")),FI({icons:{main:EE(O),mask:l?EE(l.icon):{found:!1,width:null,height:null,icon:{}}},prefix:x,iconName:D,transform:ee(ee({},ai),i),symbol:o,title:m,maskId:d,titleId:b,extra:{attributes:T,styles:E,classes:_}})})}},W8={mixout:function(){return{icon:B8(z8)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=cP,n.nodeCallback=j8,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,i=r===void 0?st:r,s=n.callback,o=s===void 0?function(){}:s;return cP(i,o)},e.generateSvgReplacementMutation=function(n,r){var i=r.iconName,s=r.title,o=r.titleId,a=r.prefix,l=r.transform,c=r.symbol,d=r.mask,f=r.maskId,m=r.extra;return new Promise(function(v,b){Promise.all([wE(i,a),d.iconName?wE(d.iconName,d.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(I){var _=RI(I,2),y=_[0],T=_[1];v([n,FI({icons:{main:y,mask:T},prefix:a,iconName:i,transform:l,symbol:c,maskId:f,title:s,titleId:o,extra:m,watchable:!0})])}).catch(b)})},e.generateAbstractIcon=function(n){var r=n.children,i=n.attributes,s=n.main,o=n.transform,a=n.styles,l=Bg(a);l.length>0&&(i.style=l);var c;return OI(o)&&(c=Ui("generateAbstractTransformGrouping",{main:s,transform:o,containerWidth:s.width,iconWidth:s.width})),r.push(c||s.icon),{children:r,attributes:i}}}},q8={mixout:function(){return{layer:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.classes,s=i===void 0?[]:i;return qg({type:"layer"},function(){Ta("beforeDOMElementCreation",{assembler:n,params:r});var o=[];return n(function(a){Array.isArray(a)?a.map(function(l){o=o.concat(l.abstract)}):o=o.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(re.cssPrefix,"-layers")].concat(kh(s)).join(" ")},children:o}]})}}}},H8={mixout:function(){return{counter:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.title,s=i===void 0?null:i,o=r.classes,a=o===void 0?[]:o,l=r.attributes,c=l===void 0?{}:l,d=r.styles,f=d===void 0?{}:d;return qg({type:"counter",content:n},function(){return Ta("beforeDOMElementCreation",{content:n,params:r}),A8({content:n.toString(),title:s,extra:{attributes:c,styles:f,classes:["".concat(re.cssPrefix,"-layers-counter")].concat(kh(a))}})})}}}},K8={mixout:function(){return{text:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.transform,s=i===void 0?ai:i,o=r.title,a=o===void 0?null:o,l=r.classes,c=l===void 0?[]:l,d=r.attributes,f=d===void 0?{}:d,m=r.styles,v=m===void 0?{}:m;return qg({type:"text",content:n},function(){return Ta("beforeDOMElementCreation",{content:n,params:r}),iP({content:n,transform:ee(ee({},ai),s),title:a,extra:{attributes:f,styles:v,classes:["".concat(re.cssPrefix,"-layers-text")].concat(kh(c))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var i=r.title,s=r.transform,o=r.extra,a=null,l=null;if(oL){var c=parseInt(getComputedStyle(n).fontSize,10),d=n.getBoundingClientRect();a=d.width/c,l=d.height/c}return re.autoA11y&&!i&&(o.attributes["aria-hidden"]="true"),Promise.resolve([n,iP({content:n.innerHTML,width:a,height:l,transform:s,title:i,extra:o,watchable:!0})])}}},G8=new RegExp('"',"ug"),dP=[1105920,1112319];function Y8(t){var e=t.replace(G8,""),n=l8(e,0),r=n>=dP[0]&&n<=dP[1],i=e.length===2?e[0]===e[1]:!1;return{value:gE(i?e[0]:e),isSecondary:r||i}}function hP(t,e){var n="".concat(MG).concat(e.replace(":","-"));return new Promise(function(r,i){if(t.getAttribute(n)!==null)return r();var s=Au(t.children),o=s.filter(function(O){return O.getAttribute(mE)===e})[0],a=qs.getComputedStyle(t,e),l=a.getPropertyValue("font-family").match(BG),c=a.getPropertyValue("font-weight"),d=a.getPropertyValue("content");if(o&&!l)return t.removeChild(o),r();if(l&&d!=="none"&&d!==""){var f=a.getPropertyValue("content"),m=~["Sharp"].indexOf(l[2])?yt:nt,v=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(l[2])?Ld[m][l[2].toLowerCase()]:zG[m][c],b=Y8(f),I=b.value,_=b.isSecondary,y=l[0].startsWith("FontAwesome"),T=VI(v,I),A=T;if(y){var E=m8(I);E.iconName&&E.prefix&&(T=E.iconName,v=E.prefix)}if(T&&!_&&(!o||o.getAttribute(kI)!==v||o.getAttribute(xI)!==A)){t.setAttribute(n,A),o&&t.removeChild(o);var x=$8(),D=x.extra;D.attributes[mE]=e,wE(T,v).then(function(O){var G=FI(ee(ee({},x),{},{icons:{main:O,mask:MI()},prefix:v,iconName:A,extra:D,watchable:!0})),H=st.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(H,t.firstChild):t.appendChild(H),H.outerHTML=G.map(function(Ce){return Nh(Ce)}).join(`
`),t.removeAttribute(n),r()}).catch(i)}else r()}else r()})}function Q8(t){return Promise.all([hP(t,"::before"),hP(t,"::after")])}function X8(t){return t.parentNode!==document.head&&!~$G.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(mE)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function fP(t){if(Gi)return new Promise(function(e,n){var r=Au(t.querySelectorAll("*")).filter(X8).map(Q8),i=$I.begin("searchPseudoElements");PL(),Promise.all(r).then(function(){i(),IE(),e()}).catch(function(){i(),IE(),n()})})}var J8={hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=fP,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node,i=r===void 0?st:r;re.searchPseudoElements&&fP(i)}}},pP=!1,Z8={mixout:function(){return{dom:{unwatch:function(){PL(),pP=!0}}}},hooks:function(){return{bootstrap:function(){lP(vE("mutationObserverCallbacks",{}))},noAuto:function(){L8()},watch:function(n){var r=n.observeMutationsRoot;pP?IE():lP(vE("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},mP=function(e){var n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce(function(r,i){var s=i.toLowerCase().split("-"),o=s[0],a=s.slice(1).join("-");if(o&&a==="h")return r.flipX=!0,r;if(o&&a==="v")return r.flipY=!0,r;if(a=parseFloat(a),isNaN(a))return r;switch(o){case"grow":r.size=r.size+a;break;case"shrink":r.size=r.size-a;break;case"left":r.x=r.x-a;break;case"right":r.x=r.x+a;break;case"up":r.y=r.y-a;break;case"down":r.y=r.y+a;break;case"rotate":r.rotate=r.rotate+a;break}return r},n)},eY={mixout:function(){return{parse:{transform:function(n){return mP(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-transform");return i&&(n.transform=mP(i)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,i=n.transform,s=n.containerWidth,o=n.iconWidth,a={transform:"translate(".concat(s/2," 256)")},l="translate(".concat(i.x*32,", ").concat(i.y*32,") "),c="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),d="rotate(".concat(i.rotate," 0 0)"),f={transform:"".concat(l," ").concat(c," ").concat(d)},m={transform:"translate(".concat(o/2*-1," -256)")},v={outer:a,inner:f,path:m};return{tag:"g",attributes:ee({},v.outer),children:[{tag:"g",attributes:ee({},v.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:ee(ee({},r.icon.attributes),v.path)}]}]}}}},bv={x:0,y:0,width:"100%",height:"100%"};function gP(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function tY(t){return t.tag==="g"?t.children:[t]}var nY={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-mask"),s=i?Wg(i.split(" ").map(function(o){return o.trim()})):MI();return s.prefix||(s.prefix=Hs()),n.mask=s,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,i=n.attributes,s=n.main,o=n.mask,a=n.maskId,l=n.transform,c=s.width,d=s.icon,f=o.width,m=o.icon,v=e8({transform:l,containerWidth:f,iconWidth:c}),b={tag:"rect",attributes:ee(ee({},bv),{},{fill:"white"})},I=d.children?{children:d.children.map(gP)}:{},_={tag:"g",attributes:ee({},v.inner),children:[gP(ee({tag:d.tag,attributes:ee(ee({},d.attributes),v.path)},I))]},y={tag:"g",attributes:ee({},v.outer),children:[_]},T="mask-".concat(a||Fd()),A="clip-".concat(a||Fd()),E={tag:"mask",attributes:ee(ee({},bv),{},{id:T,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[b,y]},x={tag:"defs",children:[{tag:"clipPath",attributes:{id:A},children:tY(m)},E]};return r.push(x,{tag:"rect",attributes:ee({fill:"currentColor","clip-path":"url(#".concat(A,")"),mask:"url(#".concat(T,")")},bv)}),{children:r,attributes:i}}}},rY={provides:function(e){var n=!1;qs.matchMedia&&(n=qs.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:ee(ee({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=ee(ee({},s),{},{attributeName:"opacity"}),a={tag:"circle",attributes:ee(ee({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||a.children.push({tag:"animate",attributes:ee(ee({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:ee(ee({},o),{},{values:"1;0;1;1;0;1;"})}),r.push(a),r.push({tag:"path",attributes:ee(ee({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:ee(ee({},o),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:ee(ee({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:ee(ee({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},iY={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-symbol"),s=i===null?!1:i===""?!0:i;return n.symbol=s,n}}}},sY=[r8,W8,q8,H8,K8,J8,Z8,eY,nY,rY,iY];v8(sY,{mixoutsTo:ur});ur.noAuto;ur.config;ur.library;ur.dom;var bE=ur.parse;ur.findIconDefinition;ur.toHtml;var oY=ur.icon;ur.layer;ur.text;ur.counter;function _P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_P(Object(n),!0).forEach(function(r){vl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_P(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gm(t){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(t)}function vl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aY(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function lY(t,e){if(t==null)return{};var n=aY(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function AE(t){return uY(t)||cY(t)||dY(t)||hY()}function uY(t){if(Array.isArray(t))return SE(t)}function cY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dY(t,e){if(t){if(typeof t=="string")return SE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SE(t,e)}}function SE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fY(t){var e,n=t.beat,r=t.fade,i=t.beatFade,s=t.bounce,o=t.shake,a=t.flash,l=t.spin,c=t.spinPulse,d=t.spinReverse,f=t.pulse,m=t.fixedWidth,v=t.inverse,b=t.border,I=t.listItem,_=t.flip,y=t.size,T=t.rotation,A=t.pull,E=(e={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":s,"fa-shake":o,"fa-flash":a,"fa-spin":l,"fa-spin-reverse":d,"fa-spin-pulse":c,"fa-pulse":f,"fa-fw":m,"fa-inverse":v,"fa-border":b,"fa-li":I,"fa-flip":_===!0,"fa-flip-horizontal":_==="horizontal"||_==="both","fa-flip-vertical":_==="vertical"||_==="both"},vl(e,"fa-".concat(y),typeof y<"u"&&y!==null),vl(e,"fa-rotate-".concat(T),typeof T<"u"&&T!==null&&T!==0),vl(e,"fa-pull-".concat(A),typeof A<"u"&&A!==null),vl(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(E).map(function(x){return E[x]?x:null}).filter(function(x){return x})}function pY(t){return t=t-0,t===t}function CL(t){return pY(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(e,n){return n?n.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}var mY=["style"];function gY(t){return t.charAt(0).toUpperCase()+t.slice(1)}function _Y(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var r=n.indexOf(":"),i=CL(n.slice(0,r)),s=n.slice(r+1).trim();return i.startsWith("webkit")?e[gY(i)]=s:e[i]=s,e},{})}function kL(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(l){return kL(t,l)}),i=Object.keys(e.attributes||{}).reduce(function(l,c){var d=e.attributes[c];switch(c){case"class":l.attrs.className=d,delete e.attributes.class;break;case"style":l.attrs.style=_Y(d);break;default:c.indexOf("aria-")===0||c.indexOf("data-")===0?l.attrs[c.toLowerCase()]=d:l.attrs[CL(c)]=d}return l},{attrs:{}}),s=n.style,o=s===void 0?{}:s,a=lY(n,mY);return i.attrs.style=vs(vs({},i.attrs.style),o),t.apply(void 0,[e.tag,vs(vs({},i.attrs),a)].concat(AE(r)))}var xL=!1;try{xL=!0}catch{}function vY(){if(!xL&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function vP(t){if(t&&gm(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(bE.icon)return bE.icon(t);if(t===null)return null;if(t&&gm(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function Av(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?vl({},t,e):{}}var Rs=_n.forwardRef(function(t,e){var n=t.icon,r=t.mask,i=t.symbol,s=t.className,o=t.title,a=t.titleId,l=t.maskId,c=vP(n),d=Av("classes",[].concat(AE(fY(t)),AE(s.split(" ")))),f=Av("transform",typeof t.transform=="string"?bE.transform(t.transform):t.transform),m=Av("mask",vP(r)),v=oY(c,vs(vs(vs(vs({},d),f),m),{},{symbol:i,title:o,titleId:a,maskId:l}));if(!v)return vY("Could not find icon",c),null;var b=v.abstract,I={ref:e};return Object.keys(t).forEach(function(_){Rs.defaultProps.hasOwnProperty(_)||(I[_]=t[_])}),yY(b[0],I)});Rs.displayName="FontAwesomeIcon";Rs.propTypes={beat:Se.bool,border:Se.bool,beatFade:Se.bool,bounce:Se.bool,className:Se.string,fade:Se.bool,flash:Se.bool,mask:Se.oneOfType([Se.object,Se.array,Se.string]),maskId:Se.string,fixedWidth:Se.bool,inverse:Se.bool,flip:Se.oneOf([!0,!1,"horizontal","vertical","both"]),icon:Se.oneOfType([Se.object,Se.array,Se.string]),listItem:Se.bool,pull:Se.oneOf(["right","left"]),pulse:Se.bool,rotation:Se.oneOf([0,90,180,270]),shake:Se.bool,size:Se.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:Se.bool,spinPulse:Se.bool,spinReverse:Se.bool,symbol:Se.oneOfType([Se.bool,Se.string]),title:Se.string,titleId:Se.string,transform:Se.oneOfType([Se.string,Se.object]),swapOpacity:Se.bool};Rs.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var yY=kL.bind(null,_n.createElement);const EY=t=>({type:tL,payload:t}),wY=t=>e=>{ta.firestore().collection("folders").add(t).then(async n=>{const r=await(await n.get()).data();e(EY(r)),alert(`The /${r.name}/ folder was successfully created`)})},TY=({setIsCreateFolderOpen:t})=>{const[e,n]=U.useState(""),{userFolders:r,user:i,currentFolder:s}=Hm(c=>({userFolders:c.filefolders.userFolders,user:c.auth.user,currentFolder:c.filefolders.currentFolder}),Vj),o=lu(),a=c=>!!r.find(f=>f.name===c),l=c=>{if(c.preventDefault(),e){if(e.length>3)if(a(e))alert(`The /${e}/ has alredy been created!`);else{const d={createdAt:new Date,createdBy:i.displayName,lastAccess:null,name:e,parent:s,updatedAt:new Date,userId:i.uid,path:s==="root"?[]:["parentFolderPath!!!"]};o(wY(d))}e.length<4&&alert("The folder name must be ate least 4 characters")}else alert("The folder name cannot be empty")};return M.jsx("div",{style:{background:"rgba(0,0,0,0.4)",zIndex:999},className:"col-nd-12 position-fixed top-0 left-0 w-100 h-100",children:M.jsx("div",{className:"row align-items-center justify-content-center",children:M.jsxs("div",{className:"col-md-4 mt-5 bg-white rounded p-4",children:[M.jsxs("div",{className:"d-flex justify-content-between",children:[M.jsx("h4",{children:"Create Folder"}),M.jsx("button",{className:"btn btn-outline-light",onClick:()=>t(!1),children:M.jsx(Rs,{icon:PG,className:"text-black",size:"sm"})})]}),M.jsx("hr",{}),M.jsx("div",{className:"d-flex flex-column align-items-center",children:M.jsxs("form",{className:"mt-3 w-100",onSubmit:l,children:[M.jsx("div",{className:"formgroup",children:M.jsx("input",{type:"text",className:"form-control",id:"folderName",placeholder:"Folder Name",value:e,onChange:c=>n(c.target.value)})}),M.jsx("button",{type:"submit",className:"btn btn-primary mt-5 form-control",children:"Create Folder"})]})})]})})})},IY=()=>{const{isAuthenticated:t,user:e}=Hm(r=>r.auth),n=lu();return M.jsxs("nav",{className:"navbar navbar-expand-lg navbar-light bg-white shadow-sm p-3",children:[M.jsx(ti,{to:"/react-firebase/dashboard",className:"navbar-brand ms-5",children:"File - Manager"}),M.jsx("ul",{className:"navbar-nav ms-auto me-5",children:t?M.jsxs(M.Fragment,{children:[M.jsx("li",{className:"nav-item mx-2",children:M.jsxs("p",{className:"my-0 mt-1 mx-2",children:[M.jsx("span",{className:"text-light mx-1 text-dark",children:"Welcome,"}),M.jsx("span",{className:"fw-bold text-dark",children:e.displayName})]})}),M.jsx("li",{className:"nav-item mx-2",children:M.jsx(ti,{to:"/react-firebase/",className:"btn btn-primary",children:"Home"})}),M.jsx("li",{className:"nav-item",children:M.jsx("button",{to:"/react-firebase/logout",className:"btn btn-success",onClick:()=>n(XO()),children:"Logout"})})]}):M.jsxs(M.Fragment,{children:[M.jsx("li",{className:"nav-item mx-2",children:M.jsx(ti,{to:"/react-firebase/login",className:"btn btn-primary btn-sm ",children:"Login"})}),M.jsx("li",{className:"nav-item",children:M.jsx(ti,{to:"/react-firebase/register",className:"btn btn-success btn-sm",children:"Register"})})]})})]})},bY=({setIsCreateFolderOpen:t})=>M.jsxs("nav",{className:"navbar navbar-expand-lg mt-2 navbar-light bg-white py-2",children:[M.jsx("p",{className:"ms-5",children:"Root"}),M.jsxs("ul",{className:"navbar-nav ms-auto me-5",children:[M.jsx("li",{className:"nav-item mx-2",children:M.jsxs("button",{className:"btn btn-outline-dark",children:[M.jsx(Rs,{icon:AG}),"  Upload File"]})}),M.jsx("li",{className:"nav-item mx-2",children:M.jsxs("button",{className:"btn btn-outline-dark",children:[M.jsx(Rs,{icon:IG}),"  Create File"]})}),M.jsx("li",{className:"nav-item mx-2",children:M.jsxs("button",{className:"btn btn-outline-dark",onClick:()=>t(!0),children:[M.jsx(Rs,{icon:bG}),"  Create Folder"]})})]})]}),yP=({title:t,items:e})=>M.jsxs("div",{className:"w-100",children:[M.jsx("h4",{className:"text-center border-bottom py-2",children:t}),M.jsx("div",{className:"row gap-2 py-4 flex-wrap",children:e.map((n,r)=>M.jsx("p",{className:"col-md-2 p-2 text-center border",children:n},r*Math.random()))})]}),AY=()=>{const t=["New Folder","new folder 2"],e=["New File","new file 2"];return M.jsxs("div",{className:"col-md-12 w-100",children:[M.jsx(yP,{title:"Create Folders",items:t}),M.jsx(yP,{title:"Create Files",items:e})]})},SY=()=>{const[t,e]=U.useState(!1),n=Hm(i=>i.auth.isAuthenticated),r=Dm();return U.useEffect(()=>{n||r("/react-firebase/")},[]),M.jsxs(M.Fragment,{children:[t&&M.jsx(TY,{setIsCreateFolderOpen:e}),M.jsx(IY,{}),M.jsx(bY,{setIsCreateFolderOpen:e}),M.jsx(AY,{})]})},PY=G4([{path:"/react-firebase/",element:M.jsx(J7,{}),children:[{path:"/react-firebase/",element:M.jsx(wG,{})},{path:"/react-firebase/login",element:M.jsx(_G,{})},{path:"/react-firebase/register",element:M.jsx(yG,{})},{path:"/react-firebase/dashboard",element:M.jsx(SY,{})}]}]);MC.render(M.jsx(_n.StrictMode,{children:M.jsx(_j,{store:mG,children:M.jsx(rj,{router:PY})})}),document.getElementById("root"));
